(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{562:function(t,s,a){t.exports=a.p+"assets/img/react生命周期(旧).5c4592bd.png"},563:function(t,s,a){t.exports=a.p+"assets/img/react生命周期(新).7009279b.png"},564:function(t,s,a){t.exports=a.p+"assets/img/redux原理图.4afb4200.png"},565:function(t,s,a){t.exports=a.p+"assets/img/react-redux模型图.9f59e99e.png"},679:function(t,s,a){"use strict";a.r(s);var r=a(2),n=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{pre:!0},[s("h1",{pre:!0,attrs:{id:"react-16"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react-16"}},[t._v("#")]),t._v(" React-16")]),t._v(" "),s("p"),s("div",{pre:!0,attrs:{class:"table-of-contents"}},[s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#react-的介绍"}},[t._v("React 的介绍")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#相关-js-库"}},[t._v("相关 js 库")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#虚拟-dom-与真实-dom"}},[t._v("虚拟 DOM 与真实 DOM")])]),s("li",[s("a",{pre:!0,attrs:{href:"#jsx-基本使用"}},[t._v("JSX 基本使用")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#jsx里面能写什么"}},[t._v("jsx里面能写什么")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#react组件化编码"}},[t._v("React组件化编码")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#函数式组件"}},[t._v("函数式组件")])]),s("li",[s("a",{pre:!0,attrs:{href:"#类式组件"}},[t._v("类式组件")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#state-状态"}},[t._v("state(状态)")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#state的理解"}},[t._v("state的理解:")])]),s("li",[s("a",{pre:!0,attrs:{href:"#state比较重要的注意点"}},[t._v("state比较重要的注意点:")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#setstate更新状态的2种写法"}},[t._v("setState更新状态的2种写法")])]),s("li",[s("a",{pre:!0,attrs:{href:"#props-传递参数"}},[t._v("props(传递参数)")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#构造器与-props"}},[t._v("构造器与 props")])]),s("li",[s("a",{pre:!0,attrs:{href:"#函数式组件使用-props"}},[t._v("函数式组件使用 props")])]),s("li",[s("a",{pre:!0,attrs:{href:"#props的理解"}},[t._v("props的理解:")])]),s("li",[s("a",{pre:!0,attrs:{href:"#props的作用"}},[t._v("props的作用")])]),s("li",[s("a",{pre:!0,attrs:{href:"#props-编码操作"}},[t._v("props 编码操作")])]),s("li",[s("a",{pre:!0,attrs:{href:"#props的注意点"}},[t._v("props的注意点:")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#refs-标识"}},[t._v("refs(标识)")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#字符串形式的-ref-官方不推荐使用"}},[t._v("字符串形式的 ref (官方不推荐使用)")])]),s("li",[s("a",{pre:!0,attrs:{href:"#回调函数式的-ref"}},[t._v("回调函数式的 ref")])]),s("li",[s("a",{pre:!0,attrs:{href:"#createref"}},[t._v("createRef")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#事件处理"}},[t._v("事件处理")])]),s("li",[s("a",{pre:!0,attrs:{href:"#收集表单数据"}},[t._v("收集表单数据")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#非受控组件"}},[t._v("非受控组件")])]),s("li",[s("a",{pre:!0,attrs:{href:"#受控组件"}},[t._v("受控组件")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#柯里化写法"}},[t._v("柯里化写法")])]),s("li",[s("a",{pre:!0,attrs:{href:"#不用柯里化写法"}},[t._v("不用柯里化写法")])])])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#旧版本生命周期"}},[t._v("旧版本生命周期")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#生命周期的三个阶段-旧"}},[t._v("生命周期的三个阶段（旧）")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#新版本生命周期"}},[t._v("新版本生命周期")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#生命周期的三个阶段-新"}},[t._v("生命周期的三个阶段（新）")])]),s("li",[s("a",{pre:!0,attrs:{href:"#重要的勾子"}},[t._v("重要的勾子")])]),s("li",[s("a",{pre:!0,attrs:{href:"#即将废弃的三个勾子"}},[t._v("即将废弃的三个勾子")])]),s("li",[s("a",{pre:!0,attrs:{href:"#新推出的两个构子-基本用不上"}},[t._v("新推出的两个构子(基本用不上)")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#react遍历列表时-key的内部原理"}},[t._v("react遍历列表时, key的内部原理")])]),s("li",[s("a",{pre:!0,attrs:{href:"#react-脚手架"}},[t._v("React 脚手架")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#创建项目并启动"}},[t._v("创建项目并启动")])]),s("li",[s("a",{pre:!0,attrs:{href:"#react-脚手架项目结构"}},[t._v("react 脚手架项目结构")])]),s("li",[s("a",{pre:!0,attrs:{href:"#react-文件的模块化"}},[t._v("react 文件的模块化")])]),s("li",[s("a",{pre:!0,attrs:{href:"#todolist案例相关知识点"}},[t._v("todoList案例相关知识点")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#react脚手架配置代理"}},[t._v("react脚手架配置代理")])]),s("li",[s("a",{pre:!0,attrs:{href:"#github搜索案例相关知识点"}},[t._v("github搜索案例相关知识点")])]),s("li",[s("a",{pre:!0,attrs:{href:"#react-路由的基本使用"}},[t._v("React 路由的基本使用")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#路由组件与一般组件"}},[t._v("路由组件与一般组件")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#navlink与封装navlink"}},[t._v("NavLink与封装NavLink")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#navlink"}},[t._v("NavLink")])]),s("li",[s("a",{pre:!0,attrs:{href:"#封装navlink"}},[t._v("封装NavLink")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#switch的使用"}},[t._v("Switch的使用")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#解决多级路径刷新页面样式丢失的问题"}},[t._v("解决多级路径刷新页面样式丢失的问题")])]),s("li",[s("a",{pre:!0,attrs:{href:"#路由的严格匹配与模糊匹配"}},[t._v("路由的严格匹配与模糊匹配")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#redirect的使用"}},[t._v("Redirect的使用")])]),s("li",[s("a",{pre:!0,attrs:{href:"#嵌套路由"}},[t._v("嵌套路由")])]),s("li",[s("a",{pre:!0,attrs:{href:"#向路由组件传递参数"}},[t._v("向路由组件传递参数")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#params-参数"}},[t._v("params 参数")])]),s("li",[s("a",{pre:!0,attrs:{href:"#search-参数"}},[t._v("search 参数")])]),s("li",[s("a",{pre:!0,attrs:{href:"#state-参数"}},[t._v("state 参数")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#路由的跳转模式"}},[t._v("路由的跳转模式")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#push"}},[t._v("push")])]),s("li",[s("a",{pre:!0,attrs:{href:"#replace"}},[t._v("replace")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#编程式路由导航"}},[t._v("编程式路由导航")])]),s("li",[s("a",{pre:!0,attrs:{href:"#withrouter"}},[t._v("withRouter")])]),s("li",[s("a",{pre:!0,attrs:{href:"#browserrouter与hashrouter的区别"}},[t._v("BrowserRouter与HashRouter的区别")])]),s("li",[s("a",{pre:!0,attrs:{href:"#路由组件的lazyload"}},[t._v("路由组件的lazyLoad")])]),s("li",[s("a",{pre:!0,attrs:{href:"#redux-非官方"}},[t._v("redux(非官方)")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#什么情况下需要使用-redux"}},[t._v("什么情况下需要使用 redux")])]),s("li",[s("a",{pre:!0,attrs:{href:"#redux-的三个核心概念"}},[t._v("redux 的三个核心概念")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#action"}},[t._v("action")])]),s("li",[s("a",{pre:!0,attrs:{href:"#reducer"}},[t._v("reducer")])]),s("li",[s("a",{pre:!0,attrs:{href:"#store"}},[t._v("store")])])])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-redux精简版"}},[t._v("求和案例_redux精简版")])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-redux完整版"}},[t._v("求和案例_redux完整版")])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-redux异步action版"}},[t._v("求和案例_redux异步action版")])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-react-redux基本使用"}},[t._v("求和案例_react-redux基本使用")])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-react-redux优化"}},[t._v("求和案例_react-redux优化")])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-react-redux数据共享版"}},[t._v("求和案例_react-redux数据共享版")])]),s("li",[s("a",{pre:!0,attrs:{href:"#纯函数和高阶函数"}},[t._v("纯函数和高阶函数")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#纯函数"}},[t._v("纯函数")])]),s("li",[s("a",{pre:!0,attrs:{href:"#高阶函数"}},[t._v("高阶函数")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-react-redux开发者工具的使用"}},[t._v("求和案例_react-redux开发者工具的使用")])]),s("li",[s("a",{pre:!0,attrs:{href:"#求和案例-react-redux最终版"}},[t._v("求和案例_react-redux最终版")])]),s("li",[s("a",{pre:!0,attrs:{href:"#render-props"}},[t._v("render props")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#children-props"}},[t._v("children props")])]),s("li",[s("a",{pre:!0,attrs:{href:"#render-props"}},[t._v("render props")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#hooks"}},[t._v("Hooks")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#react-hook-hooks的介绍"}},[t._v("React Hook/Hooks的介绍")])]),s("li",[s("a",{pre:!0,attrs:{href:"#三个常用的hook"}},[t._v("三个常用的Hook")])]),s("li",[s("a",{pre:!0,attrs:{href:"#state-hook"}},[t._v("State Hook")])]),s("li",[s("a",{pre:!0,attrs:{href:"#effect-hook"}},[t._v("Effect Hook")])]),s("li",[s("a",{pre:!0,attrs:{href:"#ref-hook"}},[t._v("Ref Hook")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#fragment"}},[t._v("Fragment")])]),s("li",[s("a",{pre:!0,attrs:{href:"#context"}},[t._v("Context")])]),s("li",[s("a",{pre:!0,attrs:{href:"#组件优化"}},[t._v("组件优化")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#component的2个问题"}},[t._v("Component的2个问题")])]),s("li",[s("a",{pre:!0,attrs:{href:"#效率高的做法"}},[t._v("效率高的做法")])]),s("li",[s("a",{pre:!0,attrs:{href:"#原因"}},[t._v("原因")])]),s("li",[s("a",{pre:!0,attrs:{href:"#解决"}},[t._v("解决")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#错误边界"}},[t._v("错误边界")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#使用方式"}},[t._v("使用方式：")])])])]),s("li",[s("a",{pre:!0,attrs:{href:"#组件通信方式总结"}},[t._v("组件通信方式总结")]),s("ul",[s("li",[s("a",{pre:!0,attrs:{href:"#几种通信方式"}},[t._v("几种通信方式：")])]),s("li",[s("a",{pre:!0,attrs:{href:"#比较好的搭配方式"}},[t._v("比较好的搭配方式：")])])])])])]),s("p"),t._v(" "),s("h2",{pre:!0,attrs:{id:"react-的介绍"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react-的介绍"}},[t._v("#")]),t._v(" React 的介绍")]),t._v(" "),s("p",[t._v("用于动态构建用户界面的 JavaScript 库(只关注于视图), 由 Facebook 开源")]),t._v(" "),s("ul",[s("li",[t._v("声明式编码")]),t._v(" "),s("li",[t._v("组件化编码")]),t._v(" "),s("li",[t._v("React Native 编写原生应用")]),t._v(" "),s("li",[t._v("高效（优秀的 Diffing 算法）")]),t._v(" "),s("li",[t._v("使用虚拟(virtual)DOM, 不总是直接操作页面真实 DOM")]),t._v(" "),s("li",[t._v("DOM Diffing 算法, 最小化页面重绘")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"相关-js-库"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#相关-js-库"}},[t._v("#")]),t._v(" 相关 js 库")]),t._v(" "),s("ul",[s("li",[t._v("react.js：React 核心库")]),t._v(" "),s("li",[t._v("react-dom.js：提供操作 DOM 的 react 扩展库")]),t._v(" "),s("li",[t._v("babel.min.js：解析 JSX 语法代码转为 JS 代码的库")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"虚拟-dom-与真实-dom"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#虚拟-dom-与真实-dom"}},[t._v("#")]),t._v(" 虚拟 DOM 与真实 DOM")]),t._v(" "),s("ol",[s("li",[t._v('React 提供了一些 API 来创建一种 "特别" 的一般 js 对象'),s("code",[t._v("const VDOM = React.createElement('xx',{id:'xx'},'xx')")])]),t._v(" "),s("li",[t._v("上面创建的就是一个简单的虚拟 DOM 对象")]),t._v(" "),s("li",[t._v("虚拟 DOM 对象最终都会被 React 转换为真实的 DOM")]),t._v(" "),s("li",[t._v("我们编码时基本只需要操作 react 的虚拟 DOM 相关数据, react 会转换为真实\nDOM 变化而更新界面")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 准备好一个"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"容器"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 引入 react 核心库 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/react.development.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 引入react"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 用于支持 react 操作 "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DOM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/react-dom.development.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 引入babel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 用于将jsx转为js "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/babel.min.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n     \n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 此处一定要写成 type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建虚拟 DOM")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 此处一定不要写引号, 因为不是字符串 */")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1 id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("React"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原生js写法比较繁琐")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// React.createElement(标签名,标签属性,标签体)")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const VDOM = React.createElement('h1',{id:'title'},React.createElement('span',{},'Hello,React'));")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.渲染虚拟 DON 到页面")]),t._v("\n     ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     \n     console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'虚拟DOM'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'真实DOM'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object")]),t._v("\n     console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n      * 关于虚拟DOM\n      *  1.本质是Object类型的对象(一般对象)\n      *  2.虚拟DOM比较'轻', 真实DOM比较'重', 因为虚拟DOM是React内部在用, 无需真实DOM上那么多的属性\n      *  3.虚拟DOM最终会被React转换为真实DOM, 呈现在页面上\n     */")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("32")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("33")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("34")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"jsx-基本使用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#jsx-基本使用"}},[t._v("#")]),t._v(" JSX 基本使用")]),t._v(" "),s("ol",[s("li",[t._v("全称: JavaScript XML")]),t._v(" "),s("li",[t._v("React 定义的一种类似于 XML 的 JS 扩展语法: JS + XML 本质是"),s("code",[t._v("React.createElement(component, props, ...children)")]),t._v("方法的语法糖")]),t._v(" "),s("li",[t._v("作用: 用来简化创建虚拟 DOM\n"),s("ul",[s("li",[t._v("写法："),s("code",[t._v("var ele = <h1>Hello JSX!</h1>")])]),t._v(" "),s("li",[t._v("注意：\n"),s("ul",[s("li",[t._v("它不是字符串, 也不是 HTML/XML 标签")]),t._v(" "),s("li",[t._v("它最终产生的就是一个 JS 对象")])])])])]),t._v(" "),s("li",[t._v("基本语法规则:\n"),s("ul",[s("li",[t._v("定义虚拟DOM时, "),s("code",[t._v("不要")]),t._v("写引号")]),t._v(" "),s("li",[t._v("标签中混入JS表达式要写成 "),s("code",[t._v("{JS表达式}")])]),t._v(" "),s("li",[t._v("样式的类名指定不要用 class, 要用 "),s("code",[t._v("className")])]),t._v(" "),s("li",[t._v("内联样式不能直接写, 要用 "),s("code",[t._v("style={{key:value}}")])]),t._v(" "),s("li",[t._v("只能有"),s("code",[t._v("一个")]),t._v("根标签")]),t._v(" "),s("li",[t._v("标签必须要"),s("code",[t._v("闭合")]),t._v("(自闭和 或者 闭合标签)")]),t._v(" "),s("li",[t._v("标签首字母\n"),s("ul",[s("li",[t._v("若"),s("code",[t._v("小写")]),t._v("字母开头, 则将该标签转为html中同名元素, 若html中无同名标签, 则报错")]),t._v(" "),s("li",[t._v("若"),s("code",[t._v("大写")]),t._v("字母开头, React就去渲染对应的"),s("code",[t._v("组件")]),t._v(", 若组件没有定义, 则报错"),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myId "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HELLO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HELLO, REACT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2 className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"white"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("fontSize")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40px"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2 className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span style"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"white"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("fontSize")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"40px"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("input"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Good"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Good"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br")])])])])])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"jsx里面能写什么"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#jsx里面能写什么"}},[t._v("#")]),t._v(" jsx里面能写什么")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("只能写JS表达式\n")])])]),s("ul",[s("li",[t._v("一定注意区分: js语句(代码) 与 js表达式\n"),s("ul",[s("li",[t._v("表达式: 一个表达式会产生一个值, 可以放在任何一个需要值的地方, 例如:\n"),s("ul",[s("li",[t._v("a")]),t._v(" "),s("li",[t._v("a + b")]),t._v(" "),s("li",[t._v("demo(1)")]),t._v(" "),s("li",[t._v("arr.map()")]),t._v(" "),s("li",[t._v("function test () {...}")])])]),t._v(" "),s("li",[t._v("语句(代码)不会产生值, 都是一些控制代码走向的:\n"),s("ul",[s("li",[s("p",[t._v("if(){}")])]),t._v(" "),s("li",[s("p",[t._v("for(){}")])]),t._v(" "),s("li",[s("p",[t._v("switch(){case:...}")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模拟一些数据")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Anglar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'React'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const data2 = [<li>Anglar</li>,<li>React</li>,<li>Vue</li>]; 可以使用但不会这样用")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建虚拟DOM")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 虚拟DOM里放一个数组React会自动帮我们遍历里面的值, 放对象会报错")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("前端"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JS")]),t._v("框架列表"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                     data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n             "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.渲染虚拟DOM到页面")]),t._v("\n     ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VDOM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br")])])])])])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"react组件化编码"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react组件化编码"}},[t._v("#")]),t._v(" React组件化编码")]),t._v(" "),s("h3",{pre:!0,attrs:{id:"函数式组件"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#函数式组件"}},[t._v("#")]),t._v(" 函数式组件")]),t._v(" "),s("p",[t._v("注意点:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("函数名字首字母"),s("code",[t._v("大写")])])]),t._v(" "),s("li",[s("p",[t._v("函数里必须有"),s("code",[t._v("返回值")])])]),t._v(" "),s("li",[s("p",[t._v("函数式组件里的 "),s("code",[t._v("this")]),t._v(" 是 undefined")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("ReactDOM.render(<组件名/>, ...)")]),t._v(" 里必须写组件标签")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建函数式组件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此处的this是 undefined, 因为 babel编译后开启了严格模式")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("我是用函数定义的组件")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("适用于简单组件的定义"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.渲染组件到页面")]),t._v("\n    ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MyComponent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n        * 执行了 ReactDOM.render(<MyComponent/>, ...) 之后的执行原理\n        *  1.React解析组件标签, 找到了 MyComponent 组件\n        *  2.发现组件是使用函数定义的, 随后调用该函数, 将返回值的虚拟DOM转为真实DOM, 随后呈现到页面中\n    */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"类式组件"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#类式组件"}},[t._v("#")]),t._v(" 类式组件")]),t._v(" "),s("p",[t._v("注意点:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("定义的类必须继承 "),s("code",[t._v("React.Component")])])]),t._v(" "),s("li",[s("p",[t._v("函数里必须有"),s("code",[t._v("render")]),t._v("方法并且必须有"),s("code",[t._v("返回值")]),t._v(", 返回值就是要呈现的内容")])]),t._v(" "),s("li",[s("p",[t._v("render中的 "),s("code",[t._v("this")]),t._v("是  组件实例对象")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("ReactDOM.render(<组件名/>, ...)")]),t._v(" 里必须写组件标签")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建类式组件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// render 是放在哪里的? --- MyComponent 的原型对象上, 供实例使用")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// render 中的 this 是谁? --- MyComponent 的实例对象 <=> MyComponent 组件实例对象")]),t._v("\n            console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'render中的this: '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("我是用类定义的组件")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("适用于复杂组件的定义"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.渲染组件到页面")]),t._v("\n    ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MyComponent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n        * 执行了 ReactDOM.render(<MyComponent/>, ...) 之后的执行原理\n        *  1.React解析组件标签, 找到了 MyComponent 组件\n        *  2.发现组件是使用类定义的, 随后new出来该类的实例, 并通过该实例调用原型上的 render 方法\n        *  3.将 render 返回的虚拟DOM转为真实DOM, 随后呈现在页面上\n    */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"state-状态"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#state-状态"}},[t._v("#")]),t._v(" state(状态)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("state 保存着组件的状态属性通过更新组件的 state 来更新对应的页面显示(重新渲染组件)\n")])])]),s("ul",[s("li",[s("p",[t._v("state的完整写法(点击切换文字练习)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略 \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Weather")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造器调用几次? --- 1次")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'constructor'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化状态")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isHot")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("wind")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'微风'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n        * 解决 changeWeather 中 this 指向问题\n        *  使用 bind 改变将原型上的 changeWeather 生成新的函数, 并把这个函数的 this 的指向实例自身\n        *      然后 并赋值在实例自身上 这样就解决了 this 指向问题了\n        * */")]),t._v("\n\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("changeWeather "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeWeather")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// render调用几次? --- 1+n次 1是初始化的那次 n是状态更新的次数")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'render'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 读取状态")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" isHot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wind "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1 onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("changeWeather"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("今天天气很"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("isHot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'炎热'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'凉爽'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("wind"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// changeWeather调用几次? --- 点几次调用几次")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeWeather")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// changeWeather 是放在哪里的? --- Weather 的原型对象上, 供实例使用")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 由于 changeWeather 是作为 onClick 的回调, 所以不是通过实例调用, 是直接调用")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 类中的方法默认开启了局部的严格模式, 所以 changeWeather 中的 this 为 undefined")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(this); // undefined")]),t._v("\n\n       console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'changeWeather'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取原来的 isHot")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isHot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isHot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 严重注意: 状态必须通过 setState 进行更新, 且更新是一种合并, 不会替换")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isHot")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isHot "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 严重注意: 状态(state)不可直接更改, 下面这种就是直接更改!!!")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.state.isHot = !isHot; // 这是错误写法")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.渲染组件到页面")]),t._v("\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Weather "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("32")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("33")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("34")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("35")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("36")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("37")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("38")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("39")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("40")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("41")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("42")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("43")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("44")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("45")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("46")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("47")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("注意点:")]),t._v(" "),s("ul",[s("li",[t._v("React 中的事件绑定是采用小驼峰命名的")]),t._v(" "),s("li",[t._v("事件中的 "),s("code",[t._v("this")]),t._v(" 指向问题")]),t._v(" "),s("li",[t._v("修改状态(state) 必须使用 "),s("code",[t._v("setState")]),t._v(" 进行更新, 参数是一个对象\n"),s("ul",[s("li",[t._v("且更新的方式是合并, 不会影响其他的属性")])])]),t._v(" "),s("li",[t._v("类组件中"),s("code",[t._v("构造器")]),t._v("只会调用 1 次")]),t._v(" "),s("li",[t._v("类组件中"),s("code",[t._v("render")]),t._v("方法会调用 1+n 次, 1是初始化的那次, n是状态更新的次数")])])]),t._v(" "),s("li",[s("p",[t._v("state(简写形式)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略 \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建组件")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Weather")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化方法")]),t._v("\n      state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isHot")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("wind")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'微风'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" isHot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wind "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1 onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("changeWeather"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("今天天气很"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("isHot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'炎热'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'凉爽'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("wind"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自定义方法 ---\x3e 要用赋值语句的形式+箭头函数")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("changeWeather")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isHot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isHot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isHot")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isHot "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.渲染组件到页面")]),t._v("\n  ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Weather "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br")])]),s("ul",[s("li",[t._v("注意点:\n"),s("ul",[s("li",[s("code",[t._v("不写构造函数")]),t._v(" 将状态和自定义方法直接写在类里面")]),t._v(" "),s("li",[t._v("自定义方法必须使用 "),s("code",[t._v("赋值语句")]),t._v(" + "),s("code",[t._v("箭头函数的形式")])])])])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"state的理解"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#state的理解"}},[t._v("#")]),t._v(" state的理解:")]),t._v(" "),s("ol",[s("li",[t._v("state 是组件对象最重要的属性, 值是对象(可以包含多个 key-value 的组合)")]),t._v(" "),s("li",[t._v('组件被称为 "状态机", 通过更新组件的 state 来更新对应的页面显示(重新渲染组件)')])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"state比较重要的注意点"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#state比较重要的注意点"}},[t._v("#")]),t._v(" state比较重要的注意点:")]),t._v(" "),s("ol",[s("li",[t._v("组件中 render 中的 this 为组件实例对象")]),t._v(" "),s("li",[t._v("组件自定义的方法(基本用于事件回调使用)中 this 为 undefined, 解决方法如下:\n"),s("ul",[s("li",[t._v("强制在构造器里绑定通过函数对象的 "),s("code",[t._v("bind 来绑定 this")])]),t._v(" "),s("li",[t._v("在类里面使用 "),s("code",[t._v("赋值语句 + 箭头函数")]),t._v(" 来定义事件回调方法")])])]),t._v(" "),s("li",[t._v("状态数据, 不能直接修改或更新, 必须使用 "),s("code",[t._v("setState")])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"setstate更新状态的2种写法"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#setstate更新状态的2种写法"}},[t._v("#")]),t._v(" setState更新状态的2种写法")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("setState(stateChange, [callback])")]),t._v("------对象式的setState")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("stateChange")]),t._v("为状态改变对象(该对象可以体现出状态的更改)")]),t._v(" "),s("li",[s("code",[t._v("callback")]),t._v("是可选的回调函数, 它在状态更新完毕、界面也更新后(render调用后)才被调用")]),t._v(" "),s("li",[t._v("react 的状态更新后续动作是异步的")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("setState(updater, [callback])")]),t._v("------函数式的setState")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("updater")]),t._v("为返回"),s("code",[t._v("stateChange")]),t._v("对象的函数\n"),s("ul",[s("li",[s("code",[t._v("updater")]),t._v("可以接收到"),s("code",[t._v("state")]),t._v("和"),s("code",[t._v("props")])])])]),t._v(" "),s("li",[s("code",[t._v("callback")]),t._v("是可选的回调函数, 它在状态更新、界面也更新后(render调用后)才被调用。")])])]),t._v(" "),s("li",[s("p",[t._v("使用:")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//对象式的setState")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1.获取原来的count值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2.更新状态")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('12行的输出',this.state.count); // 0")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//函数式的setState")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("总结:")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("对象式的setState是函数式的setState的简写方式(语法糖)")])]),t._v(" "),s("li",[s("p",[t._v("使用原则：")]),t._v(" "),s("ul",[s("li",[t._v("如果新状态不依赖于原状态 ===> 使用对象方式")]),t._v(" "),s("li",[t._v("如果新状态依赖于原状态 ===> 使用函数方式")]),t._v(" "),s("li",[t._v("如果需要在setState()执行后获取最新的状态数据, 要在第二个callback函数中读取")])])])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"props-传递参数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#props-传递参数"}},[t._v("#")]),t._v(" props(传递参数)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("组件外向组件内传递变化的数据\n")])])]),s("ul",[s("li",[s("p",[t._v("在组件标签中可以直接通过 key=value 的形式传递")])]),t._v(" "),s("li",[s("p",[t._v("完整写法:")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 引入props"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 用于对组件标签属性进行限制 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/prop-types.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建组件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// props 是只读的")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.props.name = 'haha'; // 此行代码报错, props 是只读的")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sex "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("姓名"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("年龄"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("性别"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对标签属性进行类型 必要性的限制")]),t._v("\n    Person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 name 必传, 且为字符串")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 sex 为字符串")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 age 为数值")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("speak")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 speak 为函数, 因为 function 是关键字 使用 func 代替")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定默认标签属性值")]),t._v("\n    Person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'性别保密'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sex 默认值为 性别保密")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// age 默认值为 18")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 渲染组件")]),t._v("\n    ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  speak"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("speak"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'李四'")]),t._v(" sex"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'男'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'王五'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("38")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'女'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(...p) // 没用 只有在标签参数上可以展开对象")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ReactDOM.render(<Person name={p.name} age={p.age} sex={p.sex}/>,document.getElementById('test3'));")]),t._v("\n    ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("speak")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我说话了'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("32")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("33")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("34")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("35")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("36")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("37")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("38")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("39")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("40")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("41")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("42")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("43")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("44")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("45")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("简写形式")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" 略\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 引入props"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 用于对组件标签属性进行限制 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../js/prop-types.js"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建组件")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对标签属性进行类型 必要性的限制")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 name 必传, 且为字符串")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 sex 为字符串")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 age 为数值")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("speak")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 speak 为函数, 因为 function 是关键字 使用 func 代替")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定默认标签属性值")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" defaultProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'性别保密'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sex 默认值为 性别保密")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// age 默认值为 18")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n       "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// props 是只读的")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.props.name = 'haha'; // 此行代码报错, props 是只读的")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sex "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("姓名"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("年龄"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("性别"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("32")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("33")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("34")]),s("br")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"构造器与-props"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#构造器与-props"}},[t._v("#")]),t._v(" 构造器与 props")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("类式组件一般不写构造器\n")])])]),s("ul",[s("li",[s("p",[t._v("通常，在 React 中，构造函数仅用于以下两种情况：")]),t._v(" "),s("ul",[s("li",[t._v("通过给 this.state 赋值对象来初始化内部 state")]),t._v(" "),s("li",[t._v("为事件处理函数绑定实例")])])]),t._v(" "),s("li",[s("p",[t._v("构造器是否接收 props, 是否传递给super, 取决于, 是否希望在构造器中通过this访问props(基本不用)")])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"函数式组件使用-props"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#函数式组件使用-props"}},[t._v("#")]),t._v(" 函数式组件使用 props")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("略\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建组件")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Person")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 会收到所有传过来的 props 是一个对象")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sex "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("姓名"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("性别"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("年龄"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对标签属性进行类型 必要性的限制")]),t._v("\n      Person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 name 必传, 且为字符串")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 sex 为字符串")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 限制 age 为数值")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定默认标签属性值")]),t._v("\n      Person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'性别保密'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sex 默认值为 性别保密")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// age 默认值为 18")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 渲染组件")]),t._v("\n      ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Person name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),t._v(" sex"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'男'")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br")])]),s("h3",{pre:!0,attrs:{id:"props的理解"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#props的理解"}},[t._v("#")]),t._v(" props的理解:")]),t._v(" "),s("ol",[s("li",[t._v("每个组件实例对象都会有 props 属性")]),t._v(" "),s("li",[t._v("组件标签的所有属性都保存在 props 中")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"props的作用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#props的作用"}},[t._v("#")]),t._v(" props的作用")]),t._v(" "),s("ol",[s("li",[t._v("通过标签属性从组件外向组件内传递变化的数据")]),t._v(" "),s("li",[t._v("注意: 组件内部不要修改 props 的数据")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"props-编码操作"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#props-编码操作"}},[t._v("#")]),t._v(" props 编码操作")]),t._v(" "),s("ul",[s("li",[t._v("内部读取某个值\n"),s("ul",[s("li",[s("code",[t._v("this.props.属性名")])])])]),t._v(" "),s("li",[t._v("对 props 中的属性进行类型限制, 必要性限制\n"),s("ul",[s("li",[s("p",[t._v("第一种方式(React v15.5开始已弃用)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("第二种方式(新的)")])]),t._v(" "),s("li",[s("p",[t._v("需要引入 "),s("code",[t._v("prop-types")]),t._v("库进行限制")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" propTypes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isRequired"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n   "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n   "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" PropTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("设置 "),s("code",[t._v("props")]),t._v(" 默认值")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" defaultProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sex")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'性别保密'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" \n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("扩展属性: 将对象的所有实现通过 props 传递")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("<Person {...person} />")])])])])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"props的注意点"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#props的注意点"}},[t._v("#")]),t._v(" props的注意点:")]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("prop-types")]),t._v(" 库时名字别写混了类上面要写"),s("code",[t._v("propTypes")]),t._v("是来告知需要限制 props, "),s("code",[t._v("PropTypes")]),t._v("是引入 "),s("code",[t._v("prop-types")]),t._v(" 库来实现限制 props 的")]),t._v(" "),s("li",[t._v("限制 props 为函数时, 因为"),s("code",[t._v("function")]),t._v("是关键字, 请使用"),s("code",[t._v("func")]),t._v("代替")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"refs-标识"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#refs-标识"}},[t._v("#")]),t._v(" refs(标识)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("组件内的标签可以定义 ref 属性来标识自己\n相当于原生JS里的 id 一样\n")])])]),s("h3",{pre:!0,attrs:{id:"字符串形式的-ref-官方不推荐使用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#字符串形式的-ref-官方不推荐使用"}},[t._v("#")]),t._v(" 字符串形式的 ref (官方不推荐使用)")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("在组件标签结构里 "),s("code",[t._v("ref='my-ref'")]),t._v(" React会自动帮我们收集到实例的 "),s("code",[t._v("this.refs")]),t._v(" 身上")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-html line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s("code",[t._v("  // 组件标签结构定义\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("my-ref"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("点击按钮提示数据"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v('\n  \n  // 组件中使用\n  this.refs."my-ref"\n')])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"回调函数式的-ref"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#回调函数式的-ref"}},[t._v("#")]),t._v(" 回调函数式的 ref")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("在组件标签结构里写一个箭头函数, React会自动帮我们调用, 并且参数就是就是"),s("code",[t._v("当前节点")]),t._v("然后我们可以"),s("code",[t._v("赋值")]),t._v("到实例身上")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-html line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s("code",[t._v("// 组件标签里写一个箭头函数\n<input ref={(c) => { this.input1 = c }} type=\"text\" placeholder='点击按钮提示数据' />\n<input ref={c => this.input2 = c } type=\"text\" placeholder='点击按钮提示数据' />\n\n// 组件中使用\nthis.input1\nthis.input2\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br")])]),s("ul",[s("li",[t._v("关于 回调"),s("code",[t._v("ref")]),t._v("调用次数(了解)\n"),s("ul",[s("li",[s("p",[t._v("render方法调用渲染时会调用一次, 之后每次调用 render 更新页面会调用"),s("code",[t._v("两次")]),t._v(", 第一次参数为 "),s("code",[t._v("null")]),t._v(", 第二次为节点, 目的就是清空上一次的数据")])]),t._v(" "),s("li",[s("p",[t._v("使用 实例方法的形式保存可以避免这种问题(一般清空下, 是无关紧要的)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件标签里写一个方法保存节点")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("saveInput "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("点击按钮提示数据"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("br")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("br")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n                                                                   \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方法里保存节点")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("saveInput")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("input1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                                                                   \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件中使用")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("input1\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br")])])])])])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"createref"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#createref"}},[t._v("#")]),t._v(" createRef")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("调用 "),s("code",[t._v("React.createRef()")]),t._v(" 会收到一个存储 ref 的容器, 在组件标签里写上收到的容器, React会自动把当前节点收集到 指定的容器上")])]),t._v(" "),s("li",[s("p",[t._v('注意: 这个容器是 "专人专用" 的, 只能放一个ref')]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件标签里写一个箭头函数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("点击按钮提示数据"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件拿到 ref 容器")]),t._v("\nmyRef "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件中使用(固定叫current)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"事件处理"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#事件处理"}},[t._v("#")]),t._v(" 事件处理")]),t._v(" "),s("ul",[s("li",[t._v("通过 "),s("code",[t._v("onXxx")]),t._v(" 属性指定事件处理函数(注意大小写)\n"),s("ul",[s("li",[t._v("React 使用的是自定义(合成)事件, 而不是使用的原生 DOM 事件 --- 为了更好的兼容性")]),t._v(" "),s("li",[t._v("React 中的事件是通过事件委托方式处理的(委托给组件最外层的元素) --- 为了高效")])])]),t._v(" "),s("li",[t._v("通过 "),s("code",[t._v("event.target")]),t._v(" 得到发生事件的 DOM 元素对象 --- 不要过度的使用 ref")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"收集表单数据"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#收集表单数据"}},[t._v("#")]),t._v(" 收集表单数据")]),t._v(" "),s("p",[t._v("包含表单的组件分类")]),t._v(" "),s("p",[t._v("非受控组件 和 受控组件")]),t._v(" "),s("h3",{pre:!0,attrs:{id:"非受控组件"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#非受控组件"}},[t._v("#")]),t._v(" 非受控组件")]),t._v(" "),s("ul",[s("li",[t._v("页面里输入类DOM的数据是通过 ref 现用现取")]),t._v(" "),s("li",[t._v("用多了 ref 会导致效率的问题")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面里输入类DOM的数据是通过 ref 现用现取")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handlerSubmit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("password"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("你输入的用户名: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(", 密码是: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("password"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("form onSubmit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handlerSubmit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" action"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.baidu.com"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("用户名")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("密码")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("form"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 渲染组件")]),t._v("\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Login"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br")])]),s("h3",{pre:!0,attrs:{id:"受控组件"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#受控组件"}},[t._v("#")]),t._v(" 受控组件")]),t._v(" "),s("ul",[s("li",[t._v("页面中所有输入类的DOM, 随着用户的输入可以实时的把数据维护到状态里, 需要使用的时候再从状态里取数据")]),t._v(" "),s("li",[t._v("受控组件可以省略 ref 来提高效率问题")])]),t._v(" "),s("h4",{pre:!0,attrs:{id:"柯里化写法"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#柯里化写法"}},[t._v("#")]),t._v(" 柯里化写法")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("通过函数调用继续返回函数的方式, 实现多次接受参数最后统一处理的函数编码形式\n")])])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建组件")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化状态")]),t._v("\n       state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户名")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 密码")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 保存表单数据到状态中")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("saveFormData")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dataType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dataType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表单提交回调")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handlerSubmit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("password"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("你输入的用户名: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(", 密码是: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("password"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("form onSubmit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handlerSubmit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" action"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.baidu.com"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("用户名")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input onChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveFormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("密码")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input onChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveFormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("form"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 渲染组件")]),t._v("\n   ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Login"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("32")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("33")]),s("br")])]),s("h4",{pre:!0,attrs:{id:"不用柯里化写法"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#不用柯里化写法"}},[t._v("#")]),t._v(" 不用柯里化写法")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/babel"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建组件")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化状态")]),t._v("\n      state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户名")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 密码")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 保存表单数据到状态中")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("saveFormData")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dataType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dataType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表单提交回调")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handlerSubmit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" password "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("你输入的用户名: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(", 密码是: ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("password"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("form onSubmit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handlerSubmit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" action"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.baidu.com"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("用户名")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input onChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveFormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("密码")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input onChange"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveFormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("nbsp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("登录"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("form"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 渲染组件")]),t._v("\n  ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Login "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"旧版本生命周期"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#旧版本生命周期"}},[t._v("#")]),t._v(" 旧版本生命周期")]),t._v(" "),s("p",[s("img",{pre:!0,attrs:{src:a(562),style:"width:800px"}}),s("br")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("钩子函数")]),t._v(" "),s("th",[t._v("调用时机")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("constructor")])]),t._v(" "),s("td",[t._v("构造器最先调用")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentWillMount")])]),t._v(" "),s("td",[t._v("组件挂载之前")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentDidMount")])]),t._v(" "),s("td",[t._v("组件挂载完毕")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("shouldComponentUpdate")])]),t._v(" "),s("td",[t._v('控制组件更新的"阀门"(根据返回值)')])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("this.forceUpdate()")])]),t._v(" "),s("td",[t._v("不修改状态强制更新(不受阀门构子的影响)")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentWillUpdate")])]),t._v(" "),s("td",[t._v("组件将要更新之前")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("render")])]),t._v(" "),s("td",[t._v("初始化渲染, 状态更新时")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentDidUpdate")])]),t._v(" "),s("td",[t._v("组件更新完毕")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentWillReceiveProps")])]),t._v(" "),s("td",[t._v("组件接受到 props 之前调用, 注意: 第一次不算")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentWillUnmount")])]),t._v(" "),s("td",[t._v("组件卸载之前")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"生命周期的三个阶段-旧"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#生命周期的三个阶段-旧"}},[t._v("#")]),t._v(" 生命周期的三个阶段（旧）")]),t._v(" "),s("ol",[s("li",[t._v("初始化阶段: 由 ReactDOM.render()触发---初次渲染\n"),s("ul",[s("li",[t._v("constructor()")]),t._v(" "),s("li",[t._v("componentWillMount()")]),t._v(" "),s("li",[t._v("render()")]),t._v(" "),s("li",[s("strong",[t._v("componentDidMount()")]),t._v(" ===> 常用")])])]),t._v(" "),s("li",[t._v("更新阶段: 由组件内部 this.setSate()或父组件 render 触发\n"),s("ul",[s("li",[t._v("shouldComponentUpdate()")]),t._v(" "),s("li",[t._v("componentWillUpdate()")]),t._v(" "),s("li",[s("strong",[t._v("render()")]),t._v(" ===> 必须使用的一个")]),t._v(" "),s("li",[t._v("componentDidUpdate()")])])]),t._v(" "),s("li",[t._v("卸载组件: 由 ReactDOM.unmountComponentAtNode()触发\n"),s("ul",[s("li",[s("strong",[t._v("componentWillUnmount()")]),t._v(" ===> 常用")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"新版本生命周期"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#新版本生命周期"}},[t._v("#")]),t._v(" 新版本生命周期")]),t._v(" "),s("p",[s("img",{pre:!0,attrs:{src:a(563),style:"width:1000px"}}),s("br")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("钩子函数")]),t._v(" "),s("th",[t._v("调用时机")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("constructor")])]),t._v(" "),s("td",[t._v("构造器最先调用")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("getDerivedStateFromProps")])]),t._v(" "),s("td",[t._v("(基本不用)")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentDidMount")])]),t._v(" "),s("td",[t._v("组件挂载完毕")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("shouldComponentUpdate")])]),t._v(" "),s("td",[t._v('控制组件更新的"阀门"(根据返回值)')])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("render")])]),t._v(" "),s("td",[t._v("初始化渲染, 状态更新时")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("getSnapshotBeforeUpdate")])]),t._v(" "),s("td",[t._v("组件将要更新之前获取快照值(基本不用)")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentDidUpdate")])]),t._v(" "),s("td",[t._v("组件更新完毕")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("componentWillUnmount")])]),t._v(" "),s("td",[t._v("组件卸载之前")])])])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("一些不常用的构子的传递参数问题")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若 state 的值在任何时候都取决于 props, 那么可以使用 getDerivedStateFromProps")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n     收到两个参数\n         props 外面传进来的 props \n         state 和当前的 state\n     必须返回一个 state 对象 或 null\n     将会把返回的state对象作为该组件实例的状态, 并且无法修改\n */")]),t._v("\n console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getDerivedStateFromProps'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" props\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n 在更新之前获取快照, 必须返回一个快照值 值可以是任何值\n     会传递给 componentDidUpdate钩子\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSnapshotBeforeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getSnapshotBeforeUpdate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件更新完毕的钩子")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("preProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("preState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("snapshotValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n      收到三个参数\n          preProps 先前传递的 props \n          preState 先前的 state\n          snapshotValue  getSnapshotBeforeUpdate钩子返回的快照值\n  */")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Count---componentDidUpdate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("preProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("preState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("snapshotValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("32")]),s("br")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"生命周期的三个阶段-新"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#生命周期的三个阶段-新"}},[t._v("#")]),t._v(" 生命周期的三个阶段（新）")]),t._v(" "),s("ol",[s("li",[t._v("初始化阶段: 由 ReactDOM.render()触发---初次渲染\n"),s("ul",[s("li",[t._v("constructor()")]),t._v(" "),s("li",[t._v("getDerivedStateFromProps()")]),t._v(" "),s("li",[t._v("render()")]),t._v(" "),s("li",[s("strong",[t._v("componentDidMount")]),t._v("() ===> 常用")])])]),t._v(" "),s("li",[t._v("更新阶段: 由组件内部 this.setSate()或父组件重新 render 触发\n"),s("ul",[s("li",[t._v("getDerivedStateFromProps()")]),t._v(" "),s("li",[t._v("shouldComponentUpdate()")]),t._v(" "),s("li",[s("strong",[t._v("render")]),t._v("() ===> 必须使用的一个")]),t._v(" "),s("li",[t._v("getSnapshotBeforeUpdate()")]),t._v(" "),s("li",[t._v("componentDidUpdate()")])])]),t._v(" "),s("li",[t._v("卸载组件: 由 ReactDOM.unmountComponentAtNode()触发\n"),s("ul",[s("li",[s("strong",[t._v("componentWillUnmount")]),t._v("() ===> 常用")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"重要的勾子"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#重要的勾子"}},[t._v("#")]),t._v(" 重要的勾子")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("render：初始化渲染或更新渲染调用")])]),t._v(" "),s("li",[s("strong",[t._v("componentDidMount：开启监听, 开启定时器, 发送 ajax 请求")])]),t._v(" "),s("li",[s("strong",[t._v("componentWillUnmount：做一些收尾工作, 如: 清理定时器, 取消订阅消息")])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"即将废弃的三个勾子"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#即将废弃的三个勾子"}},[t._v("#")]),t._v(" 即将废弃的三个勾子")]),t._v(" "),s("ul",[s("li",[t._v("componentWillMount")]),t._v(" "),s("li",[t._v("componentWillReceiveProps")]),t._v(" "),s("li",[t._v("componentWillUpdate")])]),t._v(" "),s("blockquote",[s("p",[t._v("现在使用会出现警告，下一个大版本需要加上 "),s("code",[t._v("UNSAFE_")]),t._v("前缀才能使用，以后可能会被彻底废弃，不建议使用")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"新推出的两个构子-基本用不上"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#新推出的两个构子-基本用不上"}},[t._v("#")]),t._v(" 新推出的两个构子(基本用不上)")]),t._v(" "),s("ul",[s("li",[t._v("getSnapshotBeforeUpdate")]),t._v(" "),s("li",[t._v("getDerivedStateFromProps")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"react遍历列表时-key的内部原理"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react遍历列表时-key的内部原理"}},[t._v("#")]),t._v(" react遍历列表时, key的内部原理")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("虚拟DOM中key的作用：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("简单的说: key是虚拟DOM对象的标识, 在更新显示时key起着极其重要的作用")])]),t._v(" "),s("li",[s("p",[t._v("详细的说: 当状态中的数据发生变化时，react会根据【新数据】生成【新的虚拟DOM】, 随后React进行【新虚拟DOM】与【旧虚拟DOM】的diff比较，比较规则如下：")]),t._v(" "),s("ul",[s("li",[t._v("旧虚拟DOM中找到了与新虚拟DOM相同的key：\n"),s("ul",[s("li",[t._v("若虚拟DOM中内容没变, 直接使用之前的真实DOM")]),t._v(" "),s("li",[t._v("若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM")]),t._v(" "),s("li",[t._v("旧虚拟DOM中未找到与新虚拟DOM相同的key 根据数据创建新的真实DOM，随后渲染到到页面")])])])])])])]),t._v(" "),s("li",[s("p",[t._v("用index作为key可能会引发的问题：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("若对数据进行：逆序添加、逆序删除等破坏顺序操作:")]),t._v(" "),s("ul",[s("li",[t._v("会产生没有必要的真实DOM更新 ==> 界面效果没问题, 但效率低")])])]),t._v(" "),s("li",[s("p",[t._v("如果结构中还包含输入类的DOM：")]),t._v(" "),s("ul",[s("li",[t._v("会产生错误DOM更新 ==> 界面有问题")])])]),t._v(" "),s("li",[s("p",[t._v("注意！如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，")]),t._v(" "),s("ul",[s("li",[t._v("仅用于渲染列表用于展示，使用index作为key是没有问题的")])])])])]),t._v(" "),s("li",[s("p",[t._v("如何选择key:")]),t._v(" "),s("ul",[s("li",[t._v("最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号等唯一值")]),t._v(" "),s("li",[t._v("如果确定只是简单的展示数据，用index也是可以的")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"react-脚手架"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react-脚手架"}},[t._v("#")]),t._v(" React 脚手架")]),t._v(" "),s("ol",[s("li",[t._v("xxx 脚手架: 用来帮助程序员快速创建一个基于 xxx 库的模板项目\n"),s("ul",[s("li",[t._v("包含了所有需要的配置（语法检查、jsx 编译、devServer…）")]),t._v(" "),s("li",[t._v("下载好了所有相关的依赖")]),t._v(" "),s("li",[t._v("可以直接运行一个简单效果")])])]),t._v(" "),s("li",[t._v("react 提供了一个用于创建 react 项目的脚手架库: "),s("code",[t._v("create-react-app")])]),t._v(" "),s("li",[t._v("项目的整体技术架构为: "),s("code",[t._v("react + webpack + es6 + eslint")])]),t._v(" "),s("li",[t._v("使用脚手架开发的项目的特点: 模块化, 组件化, 工程化")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"创建项目并启动"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#创建项目并启动"}},[t._v("#")]),t._v(" 创建项目并启动")]),t._v(" "),s("ul",[s("li",[t._v("全局安装："),s("code",[t._v("npm install -g create-react-app")])]),t._v(" "),s("li",[t._v("切换到要创建项目的目录里，使用命令："),s("code",[t._v("create-react-app xxx")])]),t._v(" "),s("li",[t._v("进入项目文件夹："),s("code",[t._v("cd xxx")])]),t._v(" "),s("li",[t._v("启动项目："),s("code",[t._v("npm start")])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"react-脚手架项目结构"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react-脚手架项目结构"}},[t._v("#")]),t._v(" react 脚手架项目结构")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("public ---- 静态资源文件夹\n    favicon.icon ------ 网站页签图标\n    index.html -------- 主页面 ---\x3e 重要\n    logo192.png ------- logo 图\n    logo512.png ------- logo 图\n    manifest.json ----- 应用加壳的配置文件\n    robots.txt -------- 爬虫协议文件\nsrc ---- 源码文件夹\n    App.css -------- App 组件的样式\n    App.js --------- App 组件 ---\x3e 重要\n    App.test.js ---- 用于给 App 做测试\n    index.css ------ 样式\n    index.js ------- 入口文件 ---\x3e 重要\n    logo.svg ------- logo 图\n    reportWebVitals.js\n    --- 页面性能分析文件(需要 web-vitals 库的支持)\n    setupTests.js\n    ---- 组件单元测试的文件(需要 jest-dom 库的支持)\n")])])]),s("h3",{pre:!0,attrs:{id:"react-文件的模块化"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react-文件的模块化"}},[t._v("#")]),t._v(" react 文件的模块化")]),t._v(" "),s("ul",[s("li",[t._v("每一个组件都是一个文件夹, 里面包括 组件("),s("code",[t._v("jsx")]),t._v(" "),s("code",[t._v("js")]),t._v("), "),s("code",[t._v("css")]),t._v(", 图片, 音视频资源等等")]),t._v(" "),s("li",[t._v("css 也可以模块化:\n"),s("ul",[s("li",[t._v("文件名必须加上 "),s("code",[t._v(".module")]),t._v(" 例如: "),s("code",[t._v("Hello.module.css")])]),t._v(" "),s("li",[t._v("可以用一个变量引入接受:  "),s("code",[t._v("import test from './Hello.module.css")])]),t._v(" "),s("li",[t._v("使用: "),s("code",[t._v("<h1 className={test.title}>Hello, React</h1>")])])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"todolist案例相关知识点"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#todolist案例相关知识点"}},[t._v("#")]),t._v(" todoList案例相关知识点")]),t._v(" "),s("ol",[s("li",[t._v("拆分组件、实现静态组件，注意："),s("code",[t._v("className")]),t._v("、"),s("code",[t._v("style")]),t._v("的写法")]),t._v(" "),s("li",[t._v("动态初始化列表，如何确定将数据放在哪个组件的state中？\n"),s("ul",[s("li",[t._v("某个组件使用：放在其自身的state中")]),t._v(" "),s("li",[t._v("某些组件使用：放在他们共同的父组件state中（官方称此操作为："),s("code",[t._v("状态提升")]),t._v("）")])])]),t._v(" "),s("li",[t._v("关于父子之间通信：\n"),s("ul",[s("li",[t._v("【父组件】给【子组件】传递数据：通过 props 传递")]),t._v(" "),s("li",[t._v("【子组件】给【父组件】传递数据：通过 props 传递，要求父提前给子传递一个函数")])])]),t._v(" "),s("li",[t._v("注意 defaultChecked 和 checked 的区别，类似的还有：defaultValue 和 value")]),t._v(" "),s("li",[t._v("状态在哪里，操作状态的方法就在哪里")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"react脚手架配置代理"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react脚手架配置代理"}},[t._v("#")]),t._v(" react脚手架配置代理")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("方法一")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("在"),s("code",[t._v("package.json")]),t._v("中追加如下配置")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-json line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"proxy"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:5000"')]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br")])])])])])]),t._v(" "),s("p",[t._v("说明：")]),t._v(" "),s("ol",[s("li",[t._v("优点：配置简单，前端请求资源时可以不加任何前缀")]),t._v(" "),s("li",[t._v("缺点：不能配置多个代理")]),t._v(" "),s("li",[t._v("工作方式：上述方式配置代理，当请求了3000不存在的资源时，那么该请求会转发给5000 （优先匹配前端资源）")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("方法二")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("第一步：创建代理配置文件")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[s("code",[t._v("在src下创建配置文件：src/setupProxy.js\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("编写"),s("code",[t._v("setupProxy.js")]),t._v("配置具体代理规则：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http-proxy-middleware'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /api1是需要转发的请求(所有带有/api1前缀的请求都会转发给5000)")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:5000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//配置转发目标地址(能返回数据的服务器地址)")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("changeOrigin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//控制服务器接收到的请求头中host字段的值")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathRewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'^/api1'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//去除请求前缀，保证交给后台服务器的是正常请求地址(必须配置)")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:5001'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("changeOrigin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathRewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'^/api2'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br")])])])])])]),t._v(" "),s("p",[t._v("说明：")]),t._v(" "),s("ol",[s("li",[t._v("优点：可以配置多个代理，可以灵活的控制请求是否走代理")]),t._v(" "),s("li",[t._v("缺点：配置繁琐，前端请求资源时必须加前缀")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"github搜索案例相关知识点"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#github搜索案例相关知识点"}},[t._v("#")]),t._v(" github搜索案例相关知识点")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("设计状态时要考虑全面，例如带有网络请求的组件，要考虑请求失败怎么办")])]),t._v(" "),s("li",[s("p",[t._v("ES6小知识点：解构赋值+重命名")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("b")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//传统解构赋值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//连续解构赋值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("b")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//连续解构赋值+重命名")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("消息订阅与发布机制 "),s("code",[t._v("pubsub-js")]),t._v("插件")]),t._v(" "),s("ul",[s("li",[t._v("先订阅，再发布（理解：有一种隔空对话的感觉）")]),t._v(" "),s("li",[t._v("适用于任意组件间通信")]),t._v(" "),s("li",[t._v("要在组件的componentWillUnmount中取消订阅")])])]),t._v(" "),s("li",[s("p",[t._v("fetch发送请求（关注分离的设计思想）")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchGET")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请求出错'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"react-路由的基本使用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react-路由的基本使用"}},[t._v("#")]),t._v(" React 路由的基本使用")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("下载: "),s("code",[t._v("npm install react-router-dom -S")])])]),t._v(" "),s("li",[s("p",[t._v("明确好界面中的导航区、展示区")])]),t._v(" "),s("li",[s("p",[t._v("导航区的 a标签改为"),s("code",[t._v("Link")]),t._v("标签")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 Link ")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Link "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// to属性就是点击后跳转的地址(小写)")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Link")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/xxxxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("路由链接")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Link")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("展示区写"),s("code",[t._v("Route")]),t._v("标签进行路径的匹配")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 Route ")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Route "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// path 属性匹配路径  component 属性需要展示的组件")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("/xxxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("<App>")]),t._v("组件的最外侧需要包裹了一个"),s("code",[t._v("<BrowserRouter>")]),t._v(" 或 "),s("code",[t._v("<HashRouter>")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("略 \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 BrowserRouter 或 HashRouter 路由器")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" BrowserRouter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要用路由器标签把App包裹着 这样就可以监测到所有组件的路由变化")]),t._v("\n ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserRouter")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n         ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n     ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BrowserRouter")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br")])])])]),t._v(" "),s("ul",[s("li",[t._v("注意:\n"),s("ul",[s("li",[s("code",[t._v("Link")]),t._v(" 标签最终是会转换为 a标签的")]),t._v(" "),s("li",[t._v("BrowserRouter 和 HashRouter\n"),s("ul",[s("li",[s("code",[t._v("BrowserRouter")]),t._v(" 地址栏就是 /xxx/xxx")]),t._v(" "),s("li",[s("code",[t._v("HashRouter")]),t._v(" 地址栏会有#号 /xxx#/xxx, #后面的属性不会发送给后台")]),t._v(" "),s("li",[t._v("后面会有详解")])])])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"路由组件与一般组件"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#路由组件与一般组件"}},[t._v("#")]),t._v(" 路由组件与一般组件")]),t._v(" "),s("ol",[s("li",[t._v("写法不同:\n"),s("ul",[s("li",[t._v("一般组件: "),s("code",[t._v("<Demo/>")])]),t._v(" "),s("li",[t._v("路由组件: "),s("code",[t._v('<Route path="/demo" component={Demo}/>')])])])]),t._v(" "),s("li",[t._v("存放文件不同:\n"),s("ul",[s("li",[t._v("一般组件: "),s("code",[t._v("components")])]),t._v(" "),s("li",[t._v("路由组件: "),s("code",[t._v("pages")])])])]),t._v(" "),s("li",[t._v("接收到的props不同:\n"),s("ul",[s("li",[t._v("一般组件: 写组件标签时传递了什么，就能收到什么")]),t._v(" "),s("li",[t._v("路由组件: 接收到三个固定的属性")])])])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("history")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 正数前进 负数后退")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("goBack")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goBack")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 后退")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("goForward")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goForward")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 前进")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// push 跳转")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// replace 跳转")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathname")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("search")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// search 参数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// state 参数")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("match")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// params 参数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"navlink与封装navlink"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#navlink与封装navlink"}},[t._v("#")]),t._v(" NavLink与封装NavLink")]),t._v(" "),s("h3",{pre:!0,attrs:{id:"navlink"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#navlink"}},[t._v("#")]),t._v(" NavLink")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("NavLink 可以实现路由链接的高亮，通过activeClassName 指定路由匹配时的样式名\n")])])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 NavLink")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" NavLink "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 路径匹配时 自动添加 hello 类名")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavLink activeClassName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),t._v(" className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list-group-item"')]),t._v(" to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NavLink"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("NavLink activeClassName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),t._v(" className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list-group-item"')]),t._v(" to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("NavLink"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br")])]),s("h3",{pre:!0,attrs:{id:"封装navlink"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#封装navlink"}},[t._v("#")]),t._v(" 封装NavLink")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v(' 组件标签体内容是一个特殊的标签属性\n 通过 this.props.children 可以获取组件标签体内容\n 在组件标签里设置也可以生效 children="xxx"\n')])])]),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MyNavLink 组件内 事先封装好")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" NavLink "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyNavLink")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(this.props);")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {...this.props} 可以自动把外面传递进来的属性全部展开 ")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NavLink")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("activeClassName")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("list-group-item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token spread"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以直接将需要的属性通过 props 传递进去 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" MyNavLink "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./components/MyNavLink'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyNavLink")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/about"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("a")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("b")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("c")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("About")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyNavLink")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyNavLink")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Home")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyNavLink")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"switch的使用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#switch的使用"}},[t._v("#")]),t._v(" Switch的使用")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("通常情况下，path 和 component 是一 一对应的关系\nSwitch 可以提高路由匹配效率(单一匹配)\n")])])]),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Switch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 注册路由, 匹配上同一个地址的路由只会展示第一个匹配上的 */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Switch")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/about"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Switch")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br")])]),s("h3",{pre:!0,attrs:{id:"解决多级路径刷新页面样式丢失的问题"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#解决多级路径刷新页面样式丢失的问题"}},[t._v("#")]),t._v(" 解决多级路径刷新页面样式丢失的问题")]),t._v(" "),s("ol",[s("li",[t._v("public/index.html 中 引入样式时不写 ./ 写 / （常用）")]),t._v(" "),s("li",[t._v("public/index.html 中 引入样式时不写 ./ 写 %PUBLIC_URL% （常用）")]),t._v(" "),s("li",[t._v("使用 HashRouter 路由模式")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"路由的严格匹配与模糊匹配"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#路由的严格匹配与模糊匹配"}},[t._v("#")]),t._v(" 路由的严格匹配与模糊匹配")]),t._v(" "),s("ol",[s("li",[t._v("默认使用的是模糊匹配（简单记：【输入的路径】必须包含要【匹配的路径】，且顺序要一致）")]),t._v(" "),s("li",[t._v("开启严格匹配："),s("code",[t._v("exact={true}")])])]),t._v(" "),s("blockquote",[s("p",[t._v("严格匹配不要随便开启，需要再开，有些时候开启会导致无法继续匹配二级路由")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"redirect的使用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#redirect的使用"}},[t._v("#")]),t._v(" Redirect的使用")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("一般写在所有路由注册的最下方，当所有路由都无法匹配时，跳转到"),s("code",[t._v("Redirect")]),t._v("指定的路由")])]),t._v(" "),s("li",[s("p",[t._v("具体编码：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Route"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Switch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Redirect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Switch")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/about"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Route")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Redirect")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/about"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Switch")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"嵌套路由"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#嵌套路由"}},[t._v("#")]),t._v(" 嵌套路由")]),t._v(" "),s("ol",[s("li",[t._v("注册子路由时要写上父路由的 path 值")]),t._v(" "),s("li",[t._v("路由的匹配是按照注册路由的顺序进行的")]),t._v(" "),s("li",[t._v("不要随便开启严格匹配, 开启了就无法匹配到子路由了")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Home")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我是Home的内容"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ul className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nav nav-tabs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 自己封装的 MyNavLink 组件")]),t._v("\n                      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MyNavLink to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/news"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("News"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("MyNavLink"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MyNavLink to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/message"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Message"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("MyNavLink"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ul"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n              "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 注册子路由 */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/news"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("News"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/message"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Redirect to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/news"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"向路由组件传递参数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#向路由组件传递参数"}},[t._v("#")]),t._v(" 向路由组件传递参数")]),t._v(" "),s("h3",{pre:!0,attrs:{id:"params-参数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#params-参数"}},[t._v("#")]),t._v(" params 参数")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("路由链接(携带参数)：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 简单携带")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/demo/test/zhangsan/18'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("详情"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 携带变量")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/demo/test/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("详情"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("注册路由(声明接收)：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-html line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Route")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/demo/test/:name/:age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("{Test}/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("使用参数：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("match"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("match"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("携带了的参数必须要声明接受, 不然是接受不到")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"search-参数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#search-参数"}},[t._v("#")]),t._v(" search 参数")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("路由链接(携带参数)：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 简单携带  ")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/demo/test?name=zhangsan&age=18'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("详情"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 携带变量")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/demo/test?name=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("&age=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("详情"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("注册路由(无需声明，正常注册即可)：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-html line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Route")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/demo/test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("{Test}/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("使用参数：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("备注：获取到的"),s("code",[t._v("search")]),t._v("是 urlencoded 编码字符串，需要借助"),s("code",[t._v("querystring")]),t._v("库解析(React自带)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 querystring")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" qs "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'querystring'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 querystring 解析")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ?name=zhangsan&age=18")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" qs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("search"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br")])])])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"state-参数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#state-参数"}},[t._v("#")]),t._v(" state 参数")]),t._v(" "),s("ul",[s("li",[t._v("路由链接(携带参数)："),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 简单携带  ")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathname")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/demo/test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("详情"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 携带变量")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathname")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/demo/test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("详情"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[t._v("注册路由(无需声明，正常注册即可)："),s("div",{pre:!0,attrs:{class:"language-html line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Route")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/demo/test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("{Test}/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[t._v("使用参数：\n"),s("ul",[s("li",[s("p",[t._v("备注：刷新也可以保留参数")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br")])])])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"路由的跳转模式"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#路由的跳转模式"}},[t._v("#")]),t._v(" 路由的跳转模式")]),t._v(" "),s("h3",{pre:!0,attrs:{id:"push"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#push"}},[t._v("#")]),t._v(" push")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("默认就是 push, 类似于栈的结构, 先进后出, 会留下历史记录\n")])])]),s("h3",{pre:!0,attrs:{id:"replace"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#replace"}},[t._v("#")]),t._v(" replace")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("替换当前栈顶的页面, 不会留下历史记录, 会替换当前的页面\n")])])]),s("ul",[s("li",[s("p",[t._v("使用, 在路由跳转标签加上 "),s("code",[t._v("replace")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-html line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("replace")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("/demo/test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("详情"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Link")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"编程式路由导航"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#编程式路由导航"}},[t._v("#")]),t._v(" 编程式路由导航")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("借助 this.prosp.history 对象上的API可以操作路由跳转、前进、后退\n")])])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// replace 跳转 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// replace 跳转 + 携带 params 参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/demo/test/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("}/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// replace 跳转 + 携带 search 参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/demo/test?name=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("}&age=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// replace 跳转 + 携带 state 参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/demo/test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br")])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// push 跳转")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// push 跳转 + 携带 params 参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/demo/test/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("}/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// push 跳转 + 携带 search 参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/demo/test?name=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("}&age=")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// push 跳转 + 携带 state 参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/demo/test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回退")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goBack")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br")])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 前进")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goForward")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 正数表示 前进 n 步")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 负数表示 后退 n 步")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"withrouter"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#withrouter"}},[t._v("#")]),t._v(" withRouter")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("withRouter 可以加工一般组件, 让一般组件具备路由组件所有的API")])]),t._v(" "),s("li",[s("p",[t._v("withRouter 的返回值是一个新组件")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入  withRouter")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" withRouter "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n  \n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Header")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 加工一般组件并暴露")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"browserrouter与hashrouter的区别"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#browserrouter与hashrouter的区别"}},[t._v("#")]),t._v(" BrowserRouter与HashRouter的区别")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("底层原理不一样：")]),t._v(" "),s("ul",[s("li",[t._v("BrowserRouter 使用的是H5的history API，不兼容IE9及以下版本")]),t._v(" "),s("li",[t._v("HashRouter 使用的是URL的哈希值")])])]),t._v(" "),s("li",[s("p",[t._v("path 表现形式不一样")]),t._v(" "),s("ul",[s("li",[t._v("BrowserRouter 的路径中没有#, 例如：localhost:3000/demo/test\n"),s("ul",[s("li",[t._v("HashRouter 的路径包含#, 例如：localhost:3000/#/demo/test")]),t._v(" "),s("li",[t._v("#号后面的属性不会作为参数传递给后台")])])])])]),t._v(" "),s("li",[s("p",[t._v("刷新后对路由 state 参数的影响")]),t._v(" "),s("ul",[s("li",[t._v("BrowserRouter 没有任何影响，因为 state 保存在 history  对象中")]),t._v(" "),s("li",[t._v("HashRouter 刷新后会导致路由 state 参数的丢失!!!")])])]),t._v(" "),s("li",[s("p",[t._v("备注：HashRouter 可以用于解决一些路径错误相关的问题")])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"路由组件的lazyload"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#路由组件的lazyload"}},[t._v("#")]),t._v(" 路由组件的lazyLoad")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("路由的懒加载, 使用时再加载\n")])])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1.通过 React 的 lazy函数 配合import()函数 动态加载路由组件 ===> 路由组件代码会被分开打包")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("lazy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Suspense"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Loading "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./Loading'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Home "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./Home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" About "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./About'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2.通过 <Suspense> 指定在加载得到路由打包文件前显示一个 fallback 属性指定的 Loading组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense fallback"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Loading"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Suspense"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"redux-非官方"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#redux-非官方"}},[t._v("#")]),t._v(" redux(非官方)")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("比较难使用, 后面有官方出的库 react-redux\n")])])]),s("ol",[s("li",[s("code",[t._v("redux")]),t._v(" 是一个专门用于做状态管理的 JS 库(不是 react 插件库)")]),t._v(" "),s("li",[t._v("它可以用在 react, angular, vue 等项目中, 但基本都是与 react 配合使用")]),t._v(" "),s("li",[t._v("作用: 集中式管理 react 应用中多个组件"),s("code",[t._v("共享")]),t._v("的状态, 类似于 vue 中 vuex")])]),t._v(" "),s("img",{pre:!0,attrs:{src:a(564),style:"width:800px"}}),t._v(" "),s("h3",{pre:!0,attrs:{id:"什么情况下需要使用-redux"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#什么情况下需要使用-redux"}},[t._v("#")]),t._v(" 什么情况下需要使用 redux")]),t._v(" "),s("ol",[s("li",[t._v("某个组件的状态，需要让其他组件可以随时拿到（共享）")]),t._v(" "),s("li",[t._v("一个组件需要改变另一个组件的状态（通信）")]),t._v(" "),s("li",[t._v("总体原则：能不用就不用, 如果不用比较吃力才考虑使用")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"redux-的三个核心概念"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#redux-的三个核心概念"}},[t._v("#")]),t._v(" redux 的三个核心概念")]),t._v(" "),s("h4",{pre:!0,attrs:{id:"action"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#action"}},[t._v("#")]),t._v(" action")]),t._v(" "),s("ol",[s("li",[t._v("动作的对象")]),t._v(" "),s("li",[t._v("包含 2 个属性\n"),s("ul",[s("li",[t._v("type：标识属性, 值为字符串, 唯一, 必要属性")]),t._v(" "),s("li",[t._v("data：数据属性, 值类型任意, 可选属性")])])]),t._v(" "),s("li",[t._v("例子：{ type: 'ADD_STUDENT',data:{name: 'tom',age:18} }")])]),t._v(" "),s("h4",{pre:!0,attrs:{id:"reducer"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#reducer"}},[t._v("#")]),t._v(" reducer")]),t._v(" "),s("ol",[s("li",[t._v("用于初始化状态、加工状态")]),t._v(" "),s("li",[t._v("加工时，根据旧的 state 和 action， 产生新的 state 的纯函数")])]),t._v(" "),s("h4",{pre:!0,attrs:{id:"store"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#store"}},[t._v("#")]),t._v(" store")]),t._v(" "),s("ol",[s("li",[t._v("将 state、action、reducer 联系在一起的对象")]),t._v(" "),s("li",[t._v("如何得到此对象?\n"),s("ul",[s("li",[s("code",[t._v("import {createStore} from 'redux'")])]),t._v(" "),s("li",[s("code",[t._v("import reducer from './reducers'")])]),t._v(" "),s("li",[s("code",[t._v("const store = createStore(reducer)")])])])]),t._v(" "),s("li",[t._v("此对象的功能?\n"),s("ul",[s("li",[s("code",[t._v("getState()")]),t._v(": 得到 state")]),t._v(" "),s("li",[s("code",[t._v("dispatch(action)")]),t._v(": 分发 action, 触发 reducer 调用, 产生新的 state")]),t._v(" "),s("li",[s("code",[t._v("subscribe(listener)")]),t._v(": 注册监听, 当产生了新的 state 时, 自动调用")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-redux精简版"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-redux精简版"}},[t._v("#")]),t._v(" 求和案例_redux精简版")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("去除Count组件自身的状态")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("src")]),t._v("下建立 "),s("code",[t._v("redux/store.js")]),t._v(" 和 "),s("code",[t._v("redux/count_reducer.js")]),t._v(":")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("store.js")]),t._v(" 文件就流程：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("引入 "),s("code",[t._v("redux")]),t._v(" 中的 "),s("code",[t._v("createStore")]),t._v(" 函数，创建一个 "),s("code",[t._v("store")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("createStore")]),t._v(" 调用时要传入一个为其服务的 "),s("code",[t._v("reducer")])])]),t._v(" "),s("li",[s("p",[t._v("记得暴露 store 对象")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该文件专门用于暴露一个 store 对象，整个应用只有一个 store 对象")]),t._v("\n    \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入 createStore，专门用于创建 redux 中最为核心的 store 对象")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("createStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入为 Count 组件服务的 reducer")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" countReducer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./count_reducer'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//暴露 store")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("countReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("count_reducer.js")]),t._v(" 文件就流程：")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("reducer")]),t._v("的本质是一个函数，接收："),s("code",[t._v("preState")]),t._v(", "),s("code",[t._v("action")]),t._v("，返回加工后的状态")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("reducer")]),t._v("有两个作用：初始化状态，加工状态")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("reducer")]),t._v("被第一次调用时，是"),s("code",[t._v("store")]),t._v("自动触发的，")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("传递的"),s("code",[t._v("preState")]),t._v("是"),s("code",[t._v("undefined")]),t._v(",")])]),t._v(" "),s("li",[s("p",[t._v("传递的"),s("code",[t._v("action")]),t._v("是: "),s("code",[t._v("{type:'@@REDUX/INIT_...}")])])])])])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n       该文件是用于为创建一个为 Count组件服务的 reducer, reducer本质上就是一个函数\n           reducer 函数会接受两个参数, 分别为: 之前的状态(preState), 动作对象(action)\n  */")]),t._v("\n  \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化 staet ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" inieState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("countReducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("preState"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("inieState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从 action 对象中获取: type, data")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据 type 决定如何加工数据")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 加")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("  preState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 减")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("  preState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    \n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" preState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br")])])])])]),t._v(" "),s("li",[s("p",[t._v("在 "),s("code",[t._v("index.js")]),t._v(" 中监测 "),s("code",[t._v("store")]),t._v(" 中状态的改变，一旦发生改变重新渲染"),s("code",[t._v("<App/>")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("备注："),s("code",[t._v("redux")]),t._v("只负责管理状态，至于状态的改变驱动着页面的展示，要靠我们自己写")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 store, 用于获取 redux 中保存的状态")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../redux/store'")]),t._v("\n   \n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js 入口文件内检测数据变化一劳永逸")]),t._v("\n   store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   \n   \n   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对应组件内一个一个写")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 检测 redux 中状态的变化, 只要变化, 就调用 render")]),t._v("\n       store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forceUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.setState({});")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br")])])])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-redux完整版"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-redux完整版"}},[t._v("#")]),t._v(" 求和案例_redux完整版")]),t._v(" "),s("p",[t._v("新增文件：")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("src/redux/constant.js")]),t._v(" 放置需要使用的常量")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n    该模块是用于定义 action 对象中 type 类型的常量值, 目的只有一个: 便于管理的同时防止程序员单词写错\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INCREMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DECREMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("src/redux/count_action.js")]),t._v(" 专门用于创建action对象")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n 该文件专门为 Count 组件生成 action 对象\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INCREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DECREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./constant'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 常规函数写法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIncrementAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INCREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 箭头函数写法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("createDecrementAction")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DECREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-redux异步action版"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-redux异步action版"}},[t._v("#")]),t._v(" 求和案例_redux异步action版")]),t._v(" "),s("ol",[s("li",[t._v("明确：延迟(异步)的动作不想交给组件自身，想交给action")]),t._v(" "),s("li",[t._v("何时需要异步action：想要对状态进行操作，但是具体的数据靠异步任务返回")]),t._v(" "),s("li",[t._v("具体编码：")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("使用 "),s("code",[t._v("redux-thunk")]),t._v(" 库，并配置在"),s("code",[t._v("redux/store")]),t._v("文件中")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需在 redux 引入 applyMiddleware 来使用中间件 redux-thunk")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("createStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("applyMiddleware"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 redux-thunk, 用于支持异步 action")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" thunk "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux-thunk'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将 中间件作为 createStore 函数的第二个参数使用")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("countReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("applyMiddleware")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("创建action的函数不再返回一般对象，而是一个函数，该函数中写异步任务, 在 "),s("code",[t._v("redux/count_action.js")]),t._v("文件中")])]),t._v(" "),s("li",[s("p",[t._v("当异步任务有结果后，分发一个同步的 action 去真正操作数据")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIncrementAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INCREMENT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 所谓的异步 action, 就是指 action 的值为函数, 异步 acting 一般都会调用同步 action ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 异步 action 不是必须要用的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("createIncrementAsyncAction")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 收到参数 dispatch")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通知 reducer 加工状态")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIncrementAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("异步action不是必须要写的，完全可以在组件里自己等待异步任务的结果了再去分发同步action")])]),t._v(" "),s("img",{pre:!0,attrs:{src:a(565),style:"width:800px"}}),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-react-redux基本使用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-react-redux基本使用"}},[t._v("#")]),t._v(" 求和案例_react-redux基本使用")]),t._v(" "),s("ol",[s("li",[t._v("明确两个概念：")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("- UI组件: 不能使用任何redux的api，只负责页面的呈现、交互等\n- 容器组件: 负责和redux通信，通过props将结果交给UI组件\n")])])]),s("ol",{pre:!0,attrs:{start:"2"}},[s("li",[s("p",[t._v("如何创建一个容器组件————靠react-redux 的 connect函数")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 Count 的 UI 组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" CountUI "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../component/Count'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 connect 用于连接 UI组件 与 redux")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-redux'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 action ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  createIncrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  createDecrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  createIncrementAsyncAction\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../redux/count_action'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("////////////////////////////////如下是 connect的完整写法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n  1.mapStateToProps函数返回的是一个对象；\n  2.返回的对象中的key就作为传递给UI组件props的key,value就作为传递给UI组件props的value\n  3.mapStateToProps用于传递状态\n*/")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 会直接收到状态 redux 的状态")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapStateToProps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n  1.mapDispatchToProps函数返回的是一个对象；\n  2.返回的对象中的key就作为传递给UI组件props的key,value就作为传递给UI组件props的value\n  3.mapDispatchToProps用于传递操作状态的方法\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapDispatchToProps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dispatch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 会直接收到状态 dispatch")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("jia")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("number")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIncrementAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("jian")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("number")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDecrementAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("jianAsync")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createIncrementAsyncAction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用 connect()() 创建并暴露一个 Count 的容器组件(连接UI组件)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapStateToProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mapDispatchToProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CountUI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/////////////////////////////////如下是 connect的简写")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 映射状态")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("29")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("30")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("31")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("32")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("33")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("34")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("35")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("36")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("37")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("38")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("39")]),s("br")])]),s("blockquote",[s("p",[t._v("UI组件通过"),s("code",[t._v("props")]),t._v("就可以使用容器组件传递的状态或方法")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("mapStateToProps")]),t._v(":映射状态，返回值是一个对象")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mapDispatchToProps 的一般写法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* dispatch => ({ // 映射操作状态的方法\n    jia: number => dispatch(createIncrementAction(number)),\njian: number => dispatch(createDecrementAction(number)),\n    jianAsync: (number, time) => dispatch(createIncrementAsyncAction(number, time)),\n}) */")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mapDispatchToProps 的简写")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// react-redux 会自动将 active 分发(dispatch)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jia")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createIncrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jian")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createDecrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jianAsync")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createIncrementAsyncAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("容器组件中的store是靠"),s("code",[t._v("props传进去")]),t._v("的，而不是在容器组件中直接引入")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 容器组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Count "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./containers/Count'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 store")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./redux/store'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 给容器组件传递 store */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Count")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("store")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n            ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-react-redux优化"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-react-redux优化"}},[t._v("#")]),t._v(" 求和案例_react-redux优化")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("容器组件和UI组件整合成一个文件")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 connect 用于连接 UI组件 与 redux")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-redux'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 action ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    createIncrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    createDecrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    createIncrementAsyncAction\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../redux/count_action'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义UI组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Count")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用 connect()() 创建并暴露一个 Count 的容器组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 映射状态")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jia")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createIncrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jian")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createDecrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jianAsync")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createIncrementAsyncAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("无需自己给容器组件传递"),s("code",[t._v("store")]),t._v("，给"),s("code",[t._v("<App/>")]),t._v("包裹一个"),s("code",[t._v("<Provider store={store}>")]),t._v("即可")])]),t._v(" "),s("li",[s("p",[t._v("使用了"),s("code",[t._v("react-redux")]),t._v("后也不用再自己检测redux中状态的改变了，容器组件可以自动完成这个工作")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ReactDOM "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" App "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./redux/store'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Provider "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-redux'")]),t._v("\n\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Provider")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("store")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Provider")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("mapDispatchToProps")]),t._v("也可以简单的写成一个对象")])]),t._v(" "),s("li",[s("p",[t._v("一个组件要和redux“打交道”要经过哪几步？\n定义好UI组件---不暴露")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("引入connect生成一个容器组件，并暴露，写法如下：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//映射状态")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("xxxxxAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//映射操作状态的方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UI")]),t._v("组件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("在UI组件中通过"),s("code",[t._v("this.props.xxx")]),t._v("读取和操作状态")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-react-redux数据共享版"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-react-redux数据共享版"}},[t._v("#")]),t._v(" 求和案例_react-redux数据共享版")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("定义一个Pserson组件，和Count组件通过redux共享数据")])]),t._v(" "),s("li",[s("p",[t._v("为Person组件编写：reducer、action，配置constant常量")])]),t._v(" "),s("li",[s("p",[t._v("重点：Person的reducer和Count的Reducer要使用"),s("code",[t._v("combineReducers")]),t._v("进行合并, 合并后的总状态是一个对象！！！")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n    该文件专门用于暴露一个 store 对象，整个应用只有一个 store 对象\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入 combineReducers 用于合并状态对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("createStore"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("applyMiddleware"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("combineReducers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入为 Count 组件服务的 reducer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" countReducer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./reducers/count'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入为 Person 组件服务的 reducer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" personReducer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./reducers/person'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 redux-thunk, 用于支持异步 action")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" thunk "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux-thunk'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 汇总所有的 reducer 变为一个总的 reducer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" allReducer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("combineReducers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这一句很重要")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("he")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" countReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rens")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" personReducer\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//暴露 store")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("allReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("applyMiddleware")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("交给store的是总的reducer，最后注意在组件中取出状态的时候，记得“取到位”")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对应组件的映射需要注意拿到的状态是总的状态")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Person")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("yiduiren")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rens"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("he")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("he"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 映射状态")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jiaYiRen")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createAddPersonAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 映射操作状态的方法")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Count")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("he"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("renshu")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rens"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jia")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createIncrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jian")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createDecrementAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jianAsync")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("createIncrementAsyncAction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"纯函数和高阶函数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#纯函数和高阶函数"}},[t._v("#")]),t._v(" 纯函数和高阶函数")]),t._v(" "),s("h3",{pre:!0,attrs:{id:"纯函数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#纯函数"}},[t._v("#")]),t._v(" 纯函数")]),t._v(" "),s("ol",[s("li",[t._v("一类特别的函数: 只要是同样的输入(实参)，必定得到同样的输出(返回)")]),t._v(" "),s("li",[t._v("必须遵守以下一些约束\n"),s("ul",[s("li",[t._v("不得改写参数数据")]),t._v(" "),s("li",[t._v("不会产生任何副作用，例如网络请求，输入和输出设备")]),t._v(" "),s("li",[t._v("不能调用 "),s("code",[t._v("Date.now()")]),t._v(" 或者 "),s("code",[t._v("Math.random()")]),t._v(" 等方法")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("注意: redux 的 reducer 函数必须是一个纯函数")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"高阶函数"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#高阶函数"}},[t._v("#")]),t._v(" 高阶函数")]),t._v(" "),s("ol",[s("li",[t._v("理解: 一类特别的函数\n"),s("ul",[s("li",[t._v("情况 1: 参数是函数")]),t._v(" "),s("li",[t._v("情况 2: 返回是函数")])])]),t._v(" "),s("li",[t._v("常见的高阶函数:\n"),s("ul",[s("li",[t._v("定时器设置函数")]),t._v(" "),s("li",[t._v("数组的 "),s("code",[t._v("forEach()/map()/filter()/reduce()/find()/bind()")])]),t._v(" "),s("li",[s("code",[t._v("Promise")])]),t._v(" "),s("li",[s("code",[t._v("react-redux")]),t._v(" 中的 "),s("code",[t._v("connect")]),t._v(" 函数")])])]),t._v(" "),s("li",[t._v("作用: 能实现更加动态, 更加可扩展的功能")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-react-redux开发者工具的使用"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-react-redux开发者工具的使用"}},[t._v("#")]),t._v(" 求和案例_react-redux开发者工具的使用")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("下载插件 "),s("code",[t._v("Redux DevTools")]),t._v(" , 安装 "),s("code",[t._v("redux-devtools-extension")])])]),t._v(" "),s("li",[s("p",[t._v("store中进行配置")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 redux-devtools-extension")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("composeWithDevTools"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux-devtools-extension'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 直接应用")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("allReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("composeWithDevTools")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 有异步 action 的应用")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("allReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("composeWithDevTools")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("applyMiddleware")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"求和案例-react-redux最终版"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#求和案例-react-redux最终版"}},[t._v("#")]),t._v(" 求和案例_react-redux最终版")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("所有变量名字要规范，尽量触发对象的"),s("code",[t._v("简写形式")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("redux/reducers")]),t._v(" 文件夹中，编写 index.js 专门用于"),s("code",[t._v("汇总")]),t._v("并暴露所有的 reducer")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n    该文件用于汇总所有的 reducer 汇总为一个总的 reducer\n*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入 combineReducers，用于汇总多个 reducer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("combineReducers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入为 Count 组件服务的 reducer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./count'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入为 Person 组件服务的 reducer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" person "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./person'")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 汇总所有的 reducer 变为一个总的 reducer")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" allReducer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("combineReducers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tcount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tperson\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" allReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br")])])])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"render-props"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#render-props"}},[t._v("#")]),t._v(" render props")]),t._v(" "),s("p",[t._v("如何向组件内部动态传入带有属性的结构(标签)?")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("Vue中: \n\t使用slot技术, 也就是通过组件标签体传入结构  <Test><div>hello</div></Test>\n\n\nReact中:\n\t使用children props: 通过组件标签体传入结构\n\t使用render props: 通过组件标签属性传入结构,而且可以携带数据，一般用render函数属性\n")])])]),s("h3",{pre:!0,attrs:{id:"children-props"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#children-props"}},[t._v("#")]),t._v(" children props")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Deno")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("xxxx")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Deno")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取 到 Deno 组件")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br")])]),s("blockquote",[s("p",[t._v("问题: 如果Deno组件需要Test组件内的数据 ==> 做不到")])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"render-props-2"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#render-props-2"}},[t._v("#")]),t._v(" render props")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("<Test render={(xxx) => <Demo data={xxx}></Demo>}></Test>\nTest组件: {this.props.render(内部state数据)}\nDemo组件: 读取Test组件传入的数据显示 {this.props.xxx} \n")])])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过 render props的形式将 要显示的组件和数据带入内部")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" render"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tstate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我是"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v("组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 预留一个位置 调用带入的render函数渲染想要显示的组件")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("B")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我是"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),t._v("组件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"hooks"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#hooks"}},[t._v("#")]),t._v(" Hooks")]),t._v(" "),s("h4",{pre:!0,attrs:{id:"react-hook-hooks的介绍"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#react-hook-hooks的介绍"}},[t._v("#")]),t._v(" React Hook/Hooks的介绍")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("1. Hook是React 16.8.0版本增加的新特性/新语法\n2. 可以让你在函数组件中使用 state 以及其他的 React 特性\n")])])]),s("h4",{pre:!0,attrs:{id:"三个常用的hook"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#三个常用的hook"}},[t._v("#")]),t._v(" 三个常用的Hook")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v(" 1. State Hook: React.useState()\n 2. Effect Hook: React.useEffect()\n 3. Ref Hook: React.useRef()\n")])])]),s("h4",{pre:!0,attrs:{id:"state-hook"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#state-hook"}},[t._v("#")]),t._v(" State Hook")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("State Hook让函数组件也可以有state状态, 并进行状态数据的读写操作\n")])])]),s("ol",[s("li",[t._v("语法: "),s("code",[t._v("const [xxx, setXxx] = React.useState(initValue)")])]),t._v(" "),s("li",[t._v("useState()说明:\n"),s("ul",[s("li",[t._v("参数: 第一次初始化指定的值在内部作缓存")]),t._v(" "),s("li",[t._v("返回值: 包含2个元素的数组, 第1个为"),s("code",[t._v("内部当前状态值")]),t._v(", 第2个为"),s("code",[t._v("更新状态值的函数")])])])]),t._v(" "),s("li",[t._v("setXxx()2种写法:\n"),s("ul",[s("li",[t._v("setXxx(newValue): 参数为非函数值, 直接指定新的状态值, 内部用其覆盖原来的状态值")]),t._v(" "),s("li",[t._v("setXxx(value => newValue): 参数为函数, 接收原本的状态值, 返回新的状态值, 内部用其覆盖原来的状态值")])])])]),t._v(" "),s("h4",{pre:!0,attrs:{id:"effect-hook"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#effect-hook"}},[t._v("#")]),t._v(" Effect Hook")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("Effect Hook 可以让你在函数组件中执行副作用操作(用于模拟类组件中的生命周期钩子)\n")])])]),s("ol",[s("li",[s("p",[t._v("React中的副作用操作:")]),t._v(" "),s("ul",[s("li",[t._v("发ajax请求数据获取")]),t._v(" "),s("li",[t._v("设置订阅 / 启动定时器")]),t._v(" "),s("li",[t._v("手动更改真实DOM")])])]),t._v(" "),s("li",[s("p",[t._v("语法和说明:")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在此可以执行任何带副作用操作, 根据第二个参数来决定调用多少次")]),t._v("\n\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在组件卸载前执行, 相当于 componentWillUnmount() ")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在此做一些收尾工作, 比如清除定时器/取消订阅等")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果指定的是[], 回调函数只会在第一次render()后执行, 相当于 componentDidMount()")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果有指定值 则会在对应值发生改变时调用, 相当于 componentDidUpdate()")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("可以把 useEffect Hook 看做如下三个函数的组合")]),t._v(" "),s("ul",[s("li",[t._v("componentDidMount()")]),t._v(" "),s("li",[t._v("componentDidUpdate()")]),t._v(" "),s("li",[t._v("componentWillUnmount()")])])])]),t._v(" "),s("h4",{pre:!0,attrs:{id:"ref-hook"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#ref-hook"}},[t._v("#")]),t._v(" Ref Hook")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("Ref Hook可以在函数组件中存储/查找组件内的标签或任意其它数据\n")])])]),s("ol",[s("li",[t._v("语法: "),s("code",[t._v("const refContainer = React.useRef()")])]),t._v(" "),s("li",[t._v("作用:保存标签对象, 功能与"),s("code",[t._v("React.createRef()")]),t._v("一样")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"fragment"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#fragment"}},[t._v("#")]),t._v(" Fragment")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("可以让根标签不必使用一个真实的DOM根标签, 会在渲染时丢掉\n")])])]),s("ul",[s("li",[s("p",[t._v("使用方法:")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Fragment "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" // 需要指定key\n\t")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Fragment")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")])])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("使用空标签也可以实现, 不过空标签不能指定key而 Fragment 可以指定 key")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"context"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#context"}},[t._v("#")]),t._v(" Context")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("一种组件间通信方式, 常用于【祖组件】与【后代组件】间通信\n")])])]),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("创建Context容器对象")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("必须得放到所有"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v("都能访问到的地方"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("：\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" XxxContext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n\t\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 渲染子组件时，外面包裹"),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("xxxContext.Provider")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 通过value属性给后代组件传递数据：\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("xxxContext.Provider")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token script language-javascript"}},[s("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("数据"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t\t子组件\n    ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("xxxContext.Provider")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 后代组件读取数据：\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//第一种方式:仅适用于类组件 ")]),t._v("\n\t  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" contextType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" xxxContext  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 声明接收context")]),t._v("\n\t  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 读取context中的value数据")]),t._v("\n\t  \n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//第二种方式: 函数组件与类组件都可以")]),t._v("\n\t  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("xxxContext.Consumer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t    ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t      "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// value就是context中的value数据")]),t._v("\n\t        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" 要显示的内容\n\t      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n\t  ")]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("xxxContext.Consumer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br")])]),s("blockquote",[s("p",[t._v("一般情况都不会使用用context, 一般都用它的封装插件")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"组件优化"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#组件优化"}},[t._v("#")]),t._v(" 组件优化")]),t._v(" "),s("h3",{pre:!0,attrs:{id:"component的2个问题"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#component的2个问题"}},[t._v("#")]),t._v(" Component的2个问题")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("只要执行setState(), 即使不改变状态数据, 组件也会重新render ==> 效率低")])]),t._v(" "),s("li",[s("p",[t._v("只当前组件重新render, 就会自动重新 render 子组件，纵使子组件没有用到父组件的任何数据 ==> 效率低")])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"效率高的做法"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#效率高的做法"}},[t._v("#")]),t._v(" 效率高的做法")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("只有当组件的 state 或 props 数据发生改变时才重新 render\n")])])]),s("h3",{pre:!0,attrs:{id:"原因"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#原因"}},[t._v("#")]),t._v(" 原因")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("Component 中的 shouldComponentUpdate() 总是返回 true\n")])])]),s("h3",{pre:!0,attrs:{id:"解决"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#解决"}},[t._v("#")]),t._v(" 解决")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("办法1(不推荐):")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-jsx line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-jsx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("重写shouldComponentUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("方法\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 比较新旧 state 或 props 数据"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 如果有变化才返回 "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 如果没有返回 "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("nextState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//目前的 props 和 state")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("nextState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接下要变化的 目标props，目标state")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("carName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" nextState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("carName\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("办法2(推荐):")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("不要使用Component创建组件, 使用PureComponent")])]),t._v(" "),s("li",[s("p",[t._v("PureComponent重写了shouldComponentUpdate(), 只有state或props数据有变化才返回true")])]),t._v(" "),s("li",[s("p",[t._v("注意:\n只是进行state和props数据的浅比较, 如果只是数据对象内部数据变了, 会返回false"),s("br"),t._v("\n不要直接修改state数据, 而是要产生新数据")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入 PureComponent")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" PureComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("test")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PureComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br")])])])])])]),t._v(" "),s("blockquote",[s("p",[t._v("项目中一般使用PureComponent来优化")])]),t._v(" "),s("h2",{pre:!0,attrs:{id:"错误边界"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#错误边界"}},[t._v("#")]),t._v(" 错误边界")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("错误边界(Error boundary)：用来捕获后代组件错误，渲染出备用页面\n\n只能捕获后代组件生命周期产生的错误，不能捕获自己组件产生的错误\n和其他组件在合成事件、定时器中产生的错误\n")])])]),s("h3",{pre:!0,attrs:{id:"使用方式"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#使用方式"}},[t._v("#")]),t._v(" 使用方式：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("getDerivedStateFromError 配合 componentDidCatch\n")])])]),s("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[s("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Child "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./Child'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Parent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n\tstate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hasError")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用于标识子组件是否产生错误")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//当 Parent 的子组件出现报错时候，会触发 getDerivedStateFromError调用，并携带错误信息")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@@@'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hasError")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" error "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidCatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'此处统计错误，反馈给服务器，用于通知编码人员进行bug的解决'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("我是Parent组件"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hasError "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("当前网络不稳定，请稍后再试"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("1")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("2")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("3")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("4")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("5")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("6")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("7")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("8")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("9")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("10")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("11")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("12")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("13")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("14")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("15")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("16")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("17")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("18")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("19")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("20")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("21")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("22")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("23")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("24")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("25")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("26")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("27")]),s("br"),s("span",{pre:!0,attrs:{class:"line-number"}},[t._v("28")]),s("br")])]),s("h2",{pre:!0,attrs:{id:"组件通信方式总结"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#组件通信方式总结"}},[t._v("#")]),t._v(" 组件通信方式总结")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("组件间的关系：")]),t._v(" "),s("ul",[s("li",[t._v("父子组件")]),t._v(" "),s("li",[t._v("兄弟组件（非嵌套组件）")]),t._v(" "),s("li",[t._v("祖孙组件（跨级组件）")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"几种通信方式"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#几种通信方式"}},[t._v("#")]),t._v(" 几种通信方式：")]),t._v(" "),s("ol",[s("li",[t._v("props：\n"),s("ul",[s("li",[t._v("children props")]),t._v(" "),s("li",[t._v("render props")])])]),t._v(" "),s("li",[t._v("消息订阅-发布：\n"),s("ul",[s("li",[t._v("pubs-sub、event等等")])])]),t._v(" "),s("li",[t._v("集中式管理：\n"),s("ul",[s("li",[t._v("redux、dva等等")])])]),t._v(" "),s("li",[t._v("conText:\n"),s("ul",[s("li",[t._v("生产者-消费者模式")])])])]),t._v(" "),s("h3",{pre:!0,attrs:{id:"比较好的搭配方式"}},[s("a",{pre:!0,attrs:{class:"header-anchor",href:"#比较好的搭配方式"}},[t._v("#")]),t._v(" 比较好的搭配方式：")]),t._v(" "),s("div",{pre:!0,attrs:{class:"language- extra-class"}},[s("pre",[s("code",[t._v("父子组件：props\n兄弟组件：消息订阅-发布、集中式管理\n祖孙组件(跨级组件)：消息订阅-发布、集中式管理、conText(用的少，封装插件用的多)\n")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);