(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{641:function(s,t,a){"use strict";a.r(t);var r=a(2),n=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{pre:!0},[t("h1",{pre:!0,attrs:{id:"webpack"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#webpack"}},[s._v("#")]),s._v(" webpack")]),s._v(" "),t("p"),t("div",{pre:!0,attrs:{class:"table-of-contents"}},[t("ul",[t("li",[t("a",{pre:!0,attrs:{href:"#webpack-介绍"}},[s._v("webpack 介绍")])]),t("li",[t("a",{pre:!0,attrs:{href:"#webpack-五个核心概念"}},[s._v("webpack 五个核心概念")])]),t("li",[t("a",{pre:!0,attrs:{href:"#初始化配置"}},[s._v("初始化配置")])]),t("li",[t("a",{pre:!0,attrs:{href:"#编译打包应用"}},[s._v("编译打包应用")])]),t("li",[t("a",{pre:!0,attrs:{href:"#webpack-开发环境配置"}},[s._v("webpack 开发环境配置")]),t("ul",[t("li",[t("a",{pre:!0,attrs:{href:"#打包样式资源"}},[s._v("打包样式资源")])]),t("li",[t("a",{pre:!0,attrs:{href:"#打包-html-资源"}},[s._v("打包 HTML 资源")])]),t("li",[t("a",{pre:!0,attrs:{href:"#打包图片资源"}},[s._v("打包图片资源")])]),t("li",[t("a",{pre:!0,attrs:{href:"#打包其他资源"}},[s._v("打包其他资源")])]),t("li",[t("a",{pre:!0,attrs:{href:"#devserver"}},[s._v("devServer")])])])]),t("li",[t("a",{pre:!0,attrs:{href:"#开发环境基本配置"}},[s._v("开发环境基本配置")])]),t("li",[t("a",{pre:!0,attrs:{href:"#webpack-生产环境配置"}},[s._v("webpack 生产环境配置")]),t("ul",[t("li",[t("a",{pre:!0,attrs:{href:"#提取-css-成单独文件"}},[s._v("提取 css 成单独文件")])]),t("li",[t("a",{pre:!0,attrs:{href:"#兼容-css-处理"}},[s._v("兼容 css 处理")])]),t("li",[t("a",{pre:!0,attrs:{href:"#css压缩"}},[s._v("css压缩")])]),t("li",[t("a",{pre:!0,attrs:{href:"#js兼容性处理"}},[s._v("js兼容性处理")])]),t("li",[t("a",{pre:!0,attrs:{href:"#压缩-js-和-html"}},[s._v("压缩 js 和 html")])])])]),t("li",[t("a",{pre:!0,attrs:{href:"#生产环境基本配置"}},[s._v("生产环境基本配置")])]),t("li",[t("a",{pre:!0,attrs:{href:"#hmr"}},[s._v("HMR")])]),t("li",[t("a",{pre:!0,attrs:{href:"#source-map"}},[s._v("source-map")])]),t("li",[t("a",{pre:!0,attrs:{href:"#oneof"}},[s._v("oneOf")])]),t("li",[t("a",{pre:!0,attrs:{href:"#缓存"}},[s._v("缓存")])]),t("li",[t("a",{pre:!0,attrs:{href:"#tree-shaking"}},[s._v("tree shaking")])]),t("li",[t("a",{pre:!0,attrs:{href:"#code-split"}},[s._v("code split")])]),t("li",[t("a",{pre:!0,attrs:{href:"#懒加载和预加载"}},[s._v("懒加载和预加载")])]),t("li",[t("a",{pre:!0,attrs:{href:"#pwa"}},[s._v("PWA")])]),t("li",[t("a",{pre:!0,attrs:{href:"#多进程打包"}},[s._v("多进程打包")])]),t("li",[t("a",{pre:!0,attrs:{href:"#externals"}},[s._v("externals")])]),t("li",[t("a",{pre:!0,attrs:{href:"#dii"}},[s._v("DII")])]),t("li",[t("a",{pre:!0,attrs:{href:"#webpack的详细配置-常用"}},[s._v("webpack的详细配置(常用)")]),t("ul",[t("li",[t("a",{pre:!0,attrs:{href:"#entry"}},[s._v("entry")])]),t("li",[t("a",{pre:!0,attrs:{href:"#output"}},[s._v("output")])]),t("li",[t("a",{pre:!0,attrs:{href:"#module"}},[s._v("module")])]),t("li",[t("a",{pre:!0,attrs:{href:"#resolve"}},[s._v("resolve")])]),t("li",[t("a",{pre:!0,attrs:{href:"#devserver"}},[s._v("devServer")])]),t("li",[t("a",{pre:!0,attrs:{href:"#optimization"}},[s._v("optimization")])])])])])]),t("p"),s._v(" "),t("h2",{pre:!0,attrs:{id:"webpack-介绍"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#webpack-介绍"}},[s._v("#")]),s._v(" webpack 介绍")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("webpack 是一种前端资源构建工具, 一个静态模块打包器(module bundler).\n在 webpack 看来, 前端的所有资源文件(js/json/css/img/less/...)都会作为模块处理\n它将根据模块的依赖关系进行静态分析, 打包生成对应的静态资源(bundle)\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"webpack-五个核心概念"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#webpack-五个核心概念"}},[s._v("#")]),s._v(" webpack 五个核心概念")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("Entry")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("入口(Entry) 设置 webpack 以哪个文件为入口起点开始打包, 分析构建内部依赖图\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Output")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("输出(Output) 设置 webpack 打包后的资源 bundles 输出到哪里去, 以及如何命名\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Loader")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("Loader 让 webpack 能够去处理那些非 JavaScript 文件 (webpack 自身只识别JavaScript文件)\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Plugins")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("插件(Plugins)可以用于执行范围更广的任务, 插件的范围包括, 从打包优化和压缩, 一直到重新定义环境中的变量等\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Mode")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("模式(Mode) 设置 webpack 使用相应模式的配置\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("table",[t("thead",[t("tr",[t("th",[s._v("选项")]),s._v(" "),t("th",[s._v("描述")]),s._v(" "),t("th",[s._v("特点")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("development")]),s._v(" "),t("td",[s._v("会将 DefinePlugin 中 process.env.NODE_ENV 的值设置 为 development")]),s._v(" "),t("td",[s._v("能让代码本地调试 运行的环境")])]),s._v(" "),t("tr",[t("td",[s._v("production")]),s._v(" "),t("td",[s._v("会将 DefinePlugin 中 process.env.NODE_ENV 的值设置 为 production")]),s._v(" "),t("td",[s._v("能让代码优化上线 运行的环境")])])])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"初始化配置"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#初始化配置"}},[s._v("#")]),s._v(" 初始化配置")]),s._v(" "),t("ul",[t("li",[s._v("初始化package.json\n"),t("ul",[t("li",[t("code",[s._v("npm init")])])])]),s._v(" "),t("li",[s._v("下载并安装 webpack\n"),t("ul",[t("li",[t("p",[t("code",[s._v("npm install webpack webpack-cli -g")]),s._v(" 安装全局依赖")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("npm install webpack webpack-cli -D")]),s._v(" 安装开发依赖")])]),s._v(" "),t("li",[t("p",[s._v("使用的 "),t("code",[s._v("package.json")]),s._v(" 版本如下:")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack_code"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"description"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"test"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo \\"Error: no test specified\\" && exit 1"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"author"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"license"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ISC"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"devDependencies"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"@babel/core"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^7.8.4"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"@babel/polyfill"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^7.8.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"@babel/preset-env"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^7.8.4"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"add-asset-html-webpack-plugin"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.1.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"babel"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.23.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"babel-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^8.0.6"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"core-js"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.6.4"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"css-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.4.2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"eslint"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.8.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"eslint-config-airbnb-base"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^14.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"eslint-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.0.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"eslint-plugin-import"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.20.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"file-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^5.0.2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"html-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^0.5.5"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"html-webpack-plugin"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.2.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"less"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.11.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"less-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^5.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"mini-css-extract-plugin"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^0.9.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"optimize-css-assets-webpack-plugin"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^5.0.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"postcss-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"postcss-preset-env"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.7.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"style-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.1.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"terser-webpack-plugin"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.3.5"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"thread-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.1.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"url-loader"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.0.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"webpack"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.41.6"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"webpack-cli"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.3.11"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"webpack-dev-server"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.10.3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"workbox-webpack-plugin"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^5.0.0"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"dependencies"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"jquery"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.4.1"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"browserslist"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"development"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 chrome version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 firefox version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 safari version"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"production"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('">0.001%"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not dead"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not op_mini all"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"eslintConfig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"extends"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"airbnb-base"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"env"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"browser"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"sideEffects"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.css"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("47")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("48")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("49")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("50")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("51")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("52")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("53")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("54")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("55")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("56")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("57")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("58")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("59")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("60")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("61")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("62")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("63")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("64")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("65")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("66")]),t("br")])])])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"编译打包应用"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#编译打包应用"}},[s._v("#")]),s._v(" 编译打包应用")]),s._v(" "),t("ol",[t("li",[s._v("创建文件, 编写代码")]),s._v(" "),t("li",[s._v("运行指令(完整)\n"),t("ul",[t("li",[s._v("开发环境打包指令："),t("code",[s._v("webpack src/js/index.js -o build/js/built.js --mode=development")]),s._v(" "),t("ul",[t("li",[s._v("功能：webpack会以 "),t("code",[s._v("./src/index.js")]),s._v(" 为入口文件开始打包, 打包后输出到 "),t("code",[s._v("./build")]),s._v(", 整体打包环境为"),t("code",[s._v("开发环境")])])])]),s._v(" "),t("li",[s._v("生产环境打包指令："),t("code",[s._v("webpack src/js/index.js -o build/js/built.js --mode=production")]),s._v(" "),t("ul",[t("li",[s._v("功能：webpack会以 "),t("code",[s._v("./src/index.js")]),s._v(" 为入口文件开始打包, 打包后输出到 "),t("code",[s._v("./build")]),s._v(", 整体打包环境为"),t("code",[s._v("生产环境")])])])])])]),s._v(" "),t("li",[s._v("结论：\n"),t("ul",[t("li",[s._v("webpack能处理 js/json 资源, 不能处理 css/img 等其他资源")]),s._v(" "),t("li",[s._v("生产环境会将 ES6模块化编译成浏览器能识别的模块化")]),s._v(" "),t("li",[s._v("生产环境会进行 js代码压缩")])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"webpack-开发环境配置"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#webpack-开发环境配置"}},[s._v("#")]),s._v(" webpack 开发环境配置")]),s._v(" "),t("p",[s._v("根目录创建 "),t("code",[s._v("webpack.config.js")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("作用: 设置 webpack 的配置（当你运行 webpack 指令时, 会加载里面的配置）\n所有构建工具都是基于nodejs平台运行的, 模块化默认采用commonjs\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"打包样式资源"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#打包样式资源"}},[s._v("#")]),s._v(" 打包样式资源")]),s._v(" "),t("p",[s._v("webpack.config.js 配置信息如下:")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// resolve用来拼接绝对路径的方法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack配置")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 入口起点")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包输出")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包输出文件名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'built.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包输出路径")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// __dirname   nodejs的变量, 代表当前文件的目录的绝对路径")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// loader的配置")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 详细loader配置")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不同文件必须配置不同loader处理")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// test 匹配哪些文件(正则)")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// use 使用哪些loader处理匹配上的文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// use 数组中loader执行顺序：从右到左, 从下到上 依次执行")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建style标签, 将js中的样式资源插入进行, 添加到head中生效")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将css文件变成commonjs模块加载js中, 里面内容是样式字符串")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.less$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将less文件编译成css文件")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 需要下载 less-loader和less")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// plugins的配置")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 详细plugins的配置")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 模式")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开发模式")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// mode: 'production'  // 生产模式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("47")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("48")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("49")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("50")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("51")]),t("br")])]),t("ul",[t("li",[s._v("运行指令(项目根目录下): "),t("code",[s._v("webpack")])])]),s._v(" "),t("blockquote",[t("p",[s._v("loader的module配置: use 数组中loader执行顺序："),t("code",[s._v("从右到左")]),s._v(", "),t("code",[s._v("从下到上")]),s._v("依次执行,")])]),s._v(" "),t("h3",{pre:!0,attrs:{id:"打包-html-资源"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#打包-html-资源"}},[s._v("#")]),s._v(" 打包 HTML 资源")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("需要使用到插件\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("p",[s._v("下载 "),t("code",[s._v("npm install html-webpack-plugin -D")])])]),s._v(" "),t("li",[t("p",[s._v("在 plugins 上配置需要使用的插件")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 引入 html-webpack-plugin")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// plugins的配置")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// html-webpack-plugin")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 功能：默认会创建一个空的HTML, 自动引入打包输出的所有资源（JS/CSS）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 复制 './src/index.html' 文件, 并自动引入打包输出的所有资源（JS/CSS）")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br")])])])]),s._v(" "),t("h3",{pre:!0,attrs:{id:"打包图片资源"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#打包图片资源"}},[s._v("#")]),s._v(" 打包图片资源")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("下载 "),t("code",[s._v("npm install html-loader url-loader file-loader -D")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 引入 html-webpack-plugin")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 问题：默认处理不了html中img图片")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理图片资源")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(jpg|png|gif)$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用一个 loader 可以不写 use 直接写 loader")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 下载 url-loader file-loader")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'url-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"javascript/auto"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 阻止 webpack5 中 asset(不关闭会打包两次图片)")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 图片大小小于8kb, 就会被base64处理")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 优点: 减少请求数量（减轻服务器压力）")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 缺点：图片体积会更大（文件请求速度更慢）")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("limit")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("esModule")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack 4")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 给图片进行重命名")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// [hash:10]取图片的hash的前10位")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// [ext]取文件原来扩展名")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[hash:10].[ext]'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.html$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理html文件的img图片（负责引入img, 从而能被url-loader进行处理）")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-loader'")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// plugins的配置")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// html-webpack-plugin")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 功能：默认会创建一个空的HTML, 自动引入打包输出的所有资源（JS/CSS）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 复制 './src/index.html' 文件, 并自动引入打包输出的所有资源（JS/CSS）")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br")])])])]),s._v(" "),t("h3",{pre:!0,attrs:{id:"打包其他资源"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#打包其他资源"}},[s._v("#")]),s._v(" 打包其他资源")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包其他资源(除了html/css/js/less资源以外的资源)")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 排除 html/css/js/less 等资源")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(html|css|js|less)$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[hash:10].[ext]'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"devserver"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#devserver"}},[s._v("#")]),s._v(" devServer")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("下载 "),t("code",[s._v("webpack-dev-server")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开发服务器 devServer：用来自动化（自动编译, 自动打开浏览器, 自动刷新浏览器~~）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 特点：只会在内存中编译打包, 不会有任何输出")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动devServer指令为：npx webpack-dev-server")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 项目构建后路径")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("contentBase")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动 gzip 压缩(代码体积更小, 速度更快)")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("compress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开发服务器端口号")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自动打开浏览器")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br")])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"开发环境基本配置"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#开发环境基本配置"}},[s._v("#")]),s._v(" 开发环境基本配置")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  开发环境配置：能让代码运行\n    运行项目指令：\n      webpack 会将打包结果输出出去\n      npx webpack-dev-server 只会在内存中编译打包, 没有输出\n*/")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// filename: 'js/built.js',")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// path: `${__dirname}/build`")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// loader的配置")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理less资源")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.less$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理css资源")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理图片资源")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(jpg|png|gif)$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'url-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("limit")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[hash:10].[ext]'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 关闭 es6 模块化")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("esModule")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出到 imgs 目录")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("outputPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'imgs'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理html中img资源")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.html$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-loader'")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理其他资源")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(html|js|css|less|jpg|png|gif)")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[hash:10].[ext]'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出到 media 目录")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("outputPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'media'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// plugins的配置")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("contentBase")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("compress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("47")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("48")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("49")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("50")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("51")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("52")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("53")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("54")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("55")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("56")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("57")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("58")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("59")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("60")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("61")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("62")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("63")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("64")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("65")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("66")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("67")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("68")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("69")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("70")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("71")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("72")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("73")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("74")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"webpack-生产环境配置"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#webpack-生产环境配置"}},[s._v("#")]),s._v(" webpack 生产环境配置")]),s._v(" "),t("h3",{pre:!0,attrs:{id:"提取-css-成单独文件"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#提取-css-成单独文件"}},[s._v("#")]),s._v(" 提取 css 成单独文件")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("下载 "),t("code",[s._v("npm install mini-css-extract-plugin -D")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" MiniCssExtractPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mini-css-extract-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/built.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建style标签, 将样式放入")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'style-loader', ")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这个loader取代style-loader.作用：提取js中的css成单独文件")]),s._v("\n          MiniCssExtractPlugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将css文件整合到js文件中")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MiniCssExtractPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 对输出的css文件进行重命名")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css/built.css'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br")])])])]),s._v(" "),t("h3",{pre:!0,attrs:{id:"兼容-css-处理"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#兼容-css-处理"}},[s._v("#")]),s._v(" 兼容 css 处理")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("下载"),t("code",[s._v("npm install postcss-loader postcss-preset-env -D")])])]),s._v(" "),t("li",[t("p",[s._v("在 package.json 中添加 browserslist 配置,")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" MiniCssExtractPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mini-css-extract-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置nodejs环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// process.env.NODE_ENV = 'development';")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          MiniCssExtractPlugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/*\n            css兼容性处理：postcss --\x3e postcss-loader postcss-preset-env\n\n            帮 postcss 找到 package.json 中 browserslist 里面的配置, 通过配置加载指定的css兼容性样式\n              (在 package.json 中添加 browserslist 选项: 如下)\n\n            "browserslist": {\n              // 开发环境 --\x3e 设置node环境变量：process.env.NODE_ENV = development (mode不生效)\n              // 兼容最近版本的浏览器\n              "development": [\n                "last 1 chrome version",\n                "last 1 firefox version",\n                "last 1 safari version"\n              ],\n              // 生产环境：默认就是生产环境\n              // 大于 0.001%的 不要已经死掉的 不要op_mini\n              "production": [\n                ">0.001%",\n                "not dead",\n                "not op_mini all"\n              ]\n            }\n          */')]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用loader的默认配置")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'postcss-loader',")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 修改loader的配置")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ident")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// postcss的插件")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-preset-env'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MiniCssExtractPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css/built.css'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("47")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("48")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("49")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("50")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("51")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("52")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("53")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("54")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("55")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("56")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("57")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("58")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("59")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("60")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("61")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("62")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("63")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("64")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("65")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("66")]),t("br")])])])]),s._v(" "),t("h3",{pre:!0,attrs:{id:"css压缩"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#css压缩"}},[s._v("#")]),s._v(" css压缩")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("下载 "),t("code",[s._v("npm install --save-dev optimize-css-assets-webpack-plugin")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" OptimizeCssAssetsWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'optimize-css-assets-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置nodejs环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// process.env.NODE_ENV = 'development';")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 压缩css")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OptimizeCssAssetsWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br")])])])]),s._v(" "),t("h3",{pre:!0,attrs:{id:"js兼容性处理"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#js兼容性处理"}},[s._v("#")]),s._v(" js兼容性处理")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("需要使用如下库(@babel/polyfill可以不安装)\n\t\n\tnpm install --save-dev babel-loader @babel/core @babel/preset-env core-js\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n        js兼容性处理：--\x3e babel-loader @babel/core \n          1. 基本js兼容性处理 --\x3e @babel/preset-env\n            问题：只能转换基本语法, 如promise高级语法不能转换\n            \n          2. 全部js兼容性处理 --\x3e @babel/polyfill (直接文件中引入)\n            问题：我只要解决部分兼容性问题, 但是@babel/polyfill会将所有兼容性代码全部引入, 体积太大了(不建议使用)\n            \n          3. 需要做兼容性处理的就做：按需加载  --\x3e core-js(就不能再使用@babel/polyfill)\n      */")]),s._v("  \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 预设：指示babel做怎么样的兼容性处理")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("presets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 按需加载")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("useBuiltIns")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'usage'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定core-js版本")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("corejs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定兼容性做到哪个版本浏览器版本")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("targets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chrome")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("firefox")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ie")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'9'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("safari")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("edge")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'17'")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("47")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"压缩-js-和-html"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#压缩-js-和-html"}},[s._v("#")]),s._v(" 压缩 js 和 html")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("生产模式下打包会自定压缩 js代码\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 压缩 html 使用 html-webpack-plugin ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 压缩html代码")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("minify")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 移除空格")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("collapseWhitespace")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 移除注释")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("removeComments")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"生产环境基本配置"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#生产环境基本配置"}},[s._v("#")]),s._v(" 生产环境基本配置")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" MiniCssExtractPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mini-css-extract-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" OptimizeCssAssetsWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'optimize-css-assets-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 定义nodejs环境变量：决定使用browserslist的哪个环境")]),s._v("\nprocess"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 复用loader")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" commonCssLoader "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  MiniCssExtractPlugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 还需要在package.json中定义browserslist")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ident")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-preset-env'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/built.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("commonCssLoader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.less$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("commonCssLoader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'less-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n        正常来讲, 一个文件只能被一个loader处理.\n        当一个文件要被多个loader处理, 那么一定要指定loader执行的先后顺序：\n          先执行eslint 在执行babel\n      */")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在package.json中eslintConfig --\x3e airbnb")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 优先执行")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("enforce")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pre'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eslint-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("fix")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("presets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("useBuiltIns")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'usage'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("corejs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("targets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chrome")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("firefox")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'50'")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(jpg|png|gif)")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'url-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("limit")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[hash:10].[ext]'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("outputPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'imgs'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("esModule")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.html$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-loader'")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(js|css|less|html|jpg|png|gif)")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("outputPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'media'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MiniCssExtractPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css/built.css'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OptimizeCssAssetsWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("minify")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("collapseWhitespace")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("removeComments")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("47")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("48")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("49")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("50")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("51")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("52")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("53")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("54")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("55")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("56")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("57")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("58")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("59")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("60")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("61")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("62")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("63")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("64")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("65")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("66")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("67")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("68")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("69")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("70")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("71")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("72")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("73")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("74")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("75")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("76")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("77")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("78")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("79")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("80")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("81")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("82")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("83")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("84")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("85")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("86")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("87")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("88")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("89")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("90")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("91")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("92")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("93")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("94")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("95")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("96")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("97")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("98")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("99")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("100")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("101")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("102")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("103")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("104")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("105")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("106")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("107")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("108")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("109")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("110")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("111")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("112")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"hmr"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#hmr"}},[s._v("#")]),s._v(" HMR")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("HMR: hot module replacement 热模块替换 / 模块热替换\n    作用：一个模块发生变化, 只会重新打包这一个模块（而不是打包所有模块） \n      极大提升构建速度\n开发指令: npx webpack-dev-server\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-JS line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n      样式文件：可以使用HMR功能：因为style-loader内部实现了~\n      \n      js文件：默认不能使用HMR功能 --\x3e 需要修改js代码, 添加如下支持HMR功能的代码\n\n        if (module.hot) {\n          // 一旦 module.hot 为true, 说明开启了HMR功能. --\x3e 让HMR功能代码生效\n          module.hot.accept('./print.js', function() {\n            // 监听 print.js 文件的变化, 一旦发生变化, 其他模块不会重新打包构建.\n            // 会执行后面的回调函数\n            print();\n          });\n        }\n        注意：HMR功能对js的处理, 只能处理非入口js文件的其他文件.\n\n\n      html文件: 默认不能使用HMR功能, 同时会导致问题：html文件不能热更新了 （一般不用做HMR功能）\n        解决：修改entry入口为数组, 将html文件引入\n*/")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("contentBase")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("compress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启HMR功能")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当修改了webpack配置, 新配置要想生效, 必须重新webpack服务")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("hot")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"source-map"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#source-map"}},[s._v("#")]),s._v(" source-map")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("一种提供源代码到构建后代码映射 技术 （如果构建后代码出错了, 通过映射可以追踪源代码错误）\n    \n    [inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map\n    浏览器 需要打开 enable javascript source maps选项\n    \n    \n    source-map：外部\n      错误代码准确信息 和 源代码的错误位置\n\n    eval-source-map：内联\n      每一个文件都生成对应的source-map, 都在eval\n      错误代码准确信息 和 源代码的错误位置\n      \n    nosources-source-map：外部\n      错误代码准确信息, 但是没有任何源代码信息\n\n    hidden-source-map：外部\n      错误代码错误原因, 但是没有错误位置\n      不能追踪源代码错误, 只能提示到构建后代码的错误位置\n        \n    ...配置太多不一一列出\n      \n内联 和 外部的区别：\n\t1. 外部生成了文件, 内联没有 2. 内联构建速度更快\n\n开发环境：\n      --\x3e eval-source-map  / eval-cheap-module-souce-map\n      \n生产环境：\n      内联会让代码体积变大, 所以在生产环境不用内联\n      nosources-source-map 隐藏全部代码\n      hidden-source-map 只隐藏源代码, 会提示构建后代码错误信息\n\n      --\x3e source-map / cheap-module-souce-map\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devtool")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eval-source-map"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"oneof"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#oneof"}},[s._v("#")]),s._v(" oneOf")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("只会让文件执行一个loader\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("loader"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 需要同一种类型文件使用多个loader时 把它单独拿出来")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 以下loader只会匹配一个")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注意：不能有两个配置处理同一种类型文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("oneOf")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("loader"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("loader"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("loader"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"缓存"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#缓存"}},[s._v("#")]),s._v(" 缓存")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("    babel缓存\n      cacheDirectory: true\n      --\x3e 让第二次打包构建速度更快\n      \n      \n    文件资源缓存(打包时根据hash值为对应文件命名)\n      hash: 每次wepack构建时会生成一个唯一的hash值.\n        问题: 因为js和css同时使用一个hash值.\n          如果重新打包, 会导致所有缓存失效.（只改动一个文件）\n\n      chunkhash：根据chunk生成的hash值.如果打包来源于同一个chunk, 那么hash值就一样\n        问题: js和css的hash值还是一样的\n          因为css是在js中被引入的, 所以同属于一个chunk\n\n      contenthash: 根据文件的内容生成hash值.不同文件hash值一定不一样    \n      --\x3e 让代码上线运行缓存更好使用\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" MiniCssExtractPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mini-css-extract-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/built.[contenthash:10].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  使用 contenthash 命名文件名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("oneOf")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("presets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("useBuiltIns")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'usage'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("corejs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("targets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chrome")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("firefox")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'50'")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启babel缓存")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 第二次构建时, 会读取之前的缓存")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("cacheDirectory")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(jpg|png|gif)")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'url-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("limit")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[hash:10].[ext]'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  使用 contenthash 命名文件名")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("outputPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'imgs'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("esModule")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MiniCssExtractPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css/built.[contenthash:10].css'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("47")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("48")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("49")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("50")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("51")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("52")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("53")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("54")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("55")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("56")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"tree-shaking"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#tree-shaking"}},[s._v("#")]),s._v(" tree shaking")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v('tree shaking：去除无用代码\n前提：1. 必须使用ES6模块化  2. 开启production环境\n作用: 减少代码体积\n\n在package.json中配置 \n  "sideEffects": false 所有代码都没有副作用（都可以进行tree shaking）\n    问题：可能会把css / @babel/polyfill （副作用）文件干掉\n    \n  "sideEffects": ["*.css", "*.less"]\n  \t可以配置排除某些指定文件名的\n')])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"code-split"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#code-split"}},[s._v("#")]),s._v(" code split")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("多个入口文件分割代码:")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 单入口")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// entry: './src/js/index.js',")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 多入口：有几个入口, 最终输出就有几个bundle")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("index")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/test.js'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// [name]：取文件名加hash命名文件来区分文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/[name].[contenthash:10].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("optimization")]),s._v(" 配置")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("可以将 node_modules 中使用的代码包单独打包一个chunk最终输出\n自动分析多入口chunk中, 有没有公共的文件.如果有会打包成单独一个chunk, 多文件共用\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 单入口")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// entry: './src/js/index.js',")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("index")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/test.js'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// [name]：取文件名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/[name].[contenthash:10].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  \toptimization\n        1. 可以将node_modules中代码单独打包一个chunk最终输出\n        2. 自动分析多入口chunk中, 有没有公共的文件.如果有会打包成单独一个chunk, 多文件共用\n  */")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("optimization")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("splitChunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'all'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("import")]),s._v(" 异步导入文件(单入口文件):")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  通过js代码, 让某个文件被单独打包成一个chunk\n  \t还是需要 optimization 配置分割 node_module \n  import异步导入语法：能将某个文件单独打包\n*/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//     /* webpackChunkName: 'test' */ 为打包的文件设置固定的前缀名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* webpackChunkName: 'test' */")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./test'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" mul"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" count "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文件加载成功~")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint-disable-next-line")]),s._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mul")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("catch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint-disable-next-line")]),s._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'文件加载失败~'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br")])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"懒加载和预加载"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#懒加载和预加载"}},[s._v("#")]),s._v(" 懒加载和预加载")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 异步导入\n  懒加载：当文件需要使用时才加载\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v("异步导入加上 webpackPrefetch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("预加载")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 会在使用之前"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 提前加载js文件  \n  \n 正常加载可以认为是并行加载（同一时间加载多个文件）  \n 预加载 prefetch：等其他资源加载完毕"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 浏览器空闲了"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("再偷偷加载资源")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("兼容性不是很好"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getElementById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'btn'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onclick")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 预加载 test 文件 ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* webpackChunkName: 'test', webpackPrefetch: true */")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./test'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" mul "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mul")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"pwa"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#pwa"}},[s._v("#")]),s._v(" PWA")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("渐进式网络开发应用程序(离线可访问)\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("p",[s._v("下载 "),t("code",[s._v("npm install --save-dev workbox-webpack-plugin")])])]),s._v(" "),t("li",[t("p",[s._v("在plugins里使用一下")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" WorkboxWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'workbox-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WorkboxWebpackPlugin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GenerateSW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n        1. 帮助serviceworker快速启动\n        2. 删除旧的 serviceworker\n\n        生成一个 serviceworker 配置文件~\n      */")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("clientsClaim")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("skipWaiting")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("注册 "),t("code",[s._v("serviceWorker")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一般在入口文件中注册")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理兼容性问题")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'serviceWorker'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" navigator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'load'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    navigator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serviceWorker\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("register")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/service-worker.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("then")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sw注册成功了~'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("catch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sw注册失败了~'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("如果配置了 "),t("code",[s._v("eslint")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("eslint不认识 window、navigator全局变量\n解决：需要修改"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json中eslintConfig配置\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"env"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"browser"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 支持浏览器端全局变量")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("serviceWorker")]),s._v("代码必须运行在服务器上")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("1. serviceWorker 代码放到服务器上\n\n2. 可以使用 serve 这个包来打来 serviceWorker 代码(打包好的代码)\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br")])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"多进程打包"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#多进程打包"}},[s._v("#")]),s._v(" 多进程打包")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("下载  "),t("code",[s._v("npm install --save-dev thread-loader")])])]),s._v(" "),t("li",[t("p",[s._v("在需要开启多线程打包的 loader 后面使用 thread-loade")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("oneOf")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* \n                开启多进程打包.(babel-loader)\n                进程启动大概为600ms, 进程通信也有开销.\n                只有工作消耗时间比较长, 才需要多进程打包\n              */")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'thread-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("workers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 进程2个")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("presets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/preset-env'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("useBuiltIns")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'usage'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("corejs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("targets")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chrome")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'60'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("firefox")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'50'")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("cacheDirectory")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("42")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("43")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("44")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("45")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("46")]),t("br")])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"externals"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#externals"}},[s._v("#")]),s._v(" externals")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("可以拒接打包指定的第三方包, 需要使用被拒接的包请使用 cdn 引入\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("externals")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 拒绝jQuery被打包进来")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("jquery")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jQuery'")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// npm包名: 包名暴露的对象或方法")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br")])]),t("h2",{pre:!0,attrs:{id:"dii"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#dii"}},[s._v("#")]),s._v(" DII")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("dll技术, 对某些库（第三方库：jquery、react、vue...）进行单独打包\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("p",[s._v("编写 dii 文件("),t("code",[s._v("webpack.dii.js")]),s._v("):")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  使用dll技术, 对某些库（第三方库：jquery、react、vue...）进行单独打包\n    当你运行 webpack 时, 默认查找 webpack.config.js 配置文件\n    需求：需要运行 webpack.dll.js 文件\n      --\x3e webpack --config webpack.dll.js\n*/")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" webpack "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 最终打包生成的[name] --\x3e jquery")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ['jquery'] --\x3e 要打包的库是jquery")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("jquery")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jquery'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// react: ['react','react-dom'...] 可以写多个 ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[name].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dll'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("library")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[name]_[hash]'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包的库里面向外暴露出去的内容叫什么名字")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打包生成一个 manifest.json --\x3e 提供和jquery映射")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("webpack"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DllPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[name]_[hash]'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 映射库的暴露的内容名称")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dll/manifest.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出文件路径")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("运行: "),t("code",[s._v("webpack --config webpack.dll.js")]),s._v(" 生成 "),t("code",[s._v("dll/manifest.json")]),s._v("文件里面有和库的映射关系, 还有 jq 文件(打包后的)")])]),s._v(" "),t("li",[t("p",[s._v("下载 "),t("code",[s._v("npm install --save-dev add-asset-html-webpack-plugin")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("webpack.config.js")]),s._v(" 配置:")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" webpack "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" AddAssetHtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'add-asset-html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'built.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 告诉webpack哪些库不参与打包(页面不会引入)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("webpack"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DllReferencePlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("manifest")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dll/manifest.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这个文件就是 上面生成的映射文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自动引入打包好的第三方包")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AddAssetHtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filepath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dll/jquery.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这个文件就是上面单独打包的第三方包")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br")])])])]),s._v(" "),t("h2",{pre:!0,attrs:{id:"webpack的详细配置-常用"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#webpack的详细配置-常用"}},[s._v("#")]),s._v(" webpack的详细配置(常用)")]),s._v(" "),t("h3",{pre:!0,attrs:{id:"entry"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#entry"}},[s._v("#")]),s._v(" entry")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 入口起点\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" string "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),s._v("\n      单入口\n      打包形成一个chunk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" 输出一个bundle文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n      此时chunk的名称默认是 main\n\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" array  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/add.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      多入口\n      所有入口文件最终只会形成一个chunk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 输出出去只有一个bundle文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 会在"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HMR")]),s._v("功能中让html热更新生效时使用\n\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" object "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("index")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/add.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      多入口\n      有几个入口文件就形成几个chunk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 输出几个bundle文件\n      此时chunk的名称是 key\n\n      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 特殊用法\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出一个bundle文件 index 里面包含 './src/index.js', './src/count.js'")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("index")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/count.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出一个bundle文件 add 只包含 ./src/add.js")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/add.js'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"output"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#output"}},[s._v("#")]),s._v(" output")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 文件名称（可以指定目录和名称）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/[name].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出文件目录（所有资源输出的公共目录）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 所有资源引入公共路径前缀 --\x3e 'imgs/a.jpg' --\x3e '/imgs/a.jpg'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("publicPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 非入口文件chunk的名称指定")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chunkFilename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/[name]_chunk.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n      \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// library: '[name]', // 整个库(chunk)向外暴露的变量名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// libraryTarget: 'window' // 变量名添加到哪个 浏览器 变量上")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// libraryTarget: 'global' // 变量名添加到哪个 node 变量上")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// libraryTarget: 'commonjs' // 以 commonjs 模块暴露")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"module"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#module"}},[s._v("#")]),s._v(" module")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("module")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// loader的配置")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用多个loader用use")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 排除node_modules下的js文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 只检查 src 下的js文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("include")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 优先执行")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("enforce")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pre'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 延后执行")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// enforce: 'post',")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用单个loader用loader")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("loader")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eslint-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// oneOf里配置的loader只会生效一个 ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("oneOf")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"resolve"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#resolve"}},[s._v("#")]),s._v(" resolve")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language- line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[t("code",[s._v("此 resolve 不是 js 或者 path 里的resolve, 而是webpack的配置项\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br")])]),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解析模块的规则")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 配置解析模块路径别名, 优点: 引入文件简写路径, 缺点: 写路径时没有提示")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("alias")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("$css")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src/css'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// $css/a.css --\x3e src/css/a.css")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 配置省略引入文件路径的后缀名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("extensions")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.jsx'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.css'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 配置 webpack 解析模块去找哪个目录找")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("modules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../../node_modules'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'node_modules'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"devserver-2"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#devserver-2"}},[s._v("#")]),s._v(" devServer")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 运行代码的目录")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("contentBase")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 监视 contentBase 目录下的所有文件, 一旦文件变化就会 reload")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("watchContentBase")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("watchOptions")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 忽略文件")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("ignored")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动gzip压缩")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("compress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 端口号")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 域名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自动打开浏览器")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启HMR功能")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("hot")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不要显示启动服务器日志信息")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("clientLogLevel")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'none'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 除了一些基本启动信息以外, 其他内容都不要显示")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("quiet")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果出错了, 不要全屏提示~")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("overlay")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务器代理 --\x3e 解决开发环境跨域问题")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一旦devServer(5000)服务器接受到 /api/xxx 的请求, 就会把请求转发到另外一个服务器(3000)")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'/api'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("target")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://localhost:3000'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 发送请求时, 请求路径重写：将 /api/xxx --\x3e /xxx （去掉/api）")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("pathRewrite")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'^/api'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br")])]),t("h3",{pre:!0,attrs:{id:"optimization"}},[t("a",{pre:!0,attrs:{class:"header-anchor",href:"#optimization"}},[s._v("#")]),s._v(" optimization")]),s._v(" "),t("div",{pre:!0,attrs:{class:"language-js line-numbers-mode"}},[t("pre",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" resolve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" TerserWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'terser-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/js/index.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/[name].[contenthash:10].js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chunkFilename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js/[name].[contenthash:10]_chunk.js'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("optimization")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 代码分割配置")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("splitChunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 代码分割所有")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("chunks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'all'")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 还有一堆默认值, 可以不用修改")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* \n            注意点:\n                使用 contenthash 文件缓存加 代码分割时   文件缓存会失效\n                    因为每次修改代码打包都会生成一个新的 contenthash 然后, \n                        导致其他文件的引用也会变化, 其他文件也会被打包\n                 解决: 配置 optimization.runtimeChunk 选项如下:\n        */")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将当前模块的记录其他模块的hash单独打包为一个文件 runtime")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("runtimeChunk")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("entrypoint")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token template-string"}},[t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("runtime-")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("entrypoint"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 解决：上述问题")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("minimizer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自定义配置生产环境的压缩方案：js和css")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TerserWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启缓存")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("cache")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启多进程打包")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("parallel")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动source-map")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("sourceMap")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{pre:!0,attrs:{class:"line-numbers-wrapper"}},[t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("1")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("2")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("3")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("4")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("5")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("6")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("7")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("8")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("9")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("10")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("11")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("12")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("13")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("14")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("15")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("16")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("17")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("18")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("19")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("20")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("21")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("22")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("23")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("24")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("25")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("26")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("27")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("28")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("29")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("30")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("31")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("32")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("33")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("34")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("35")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("36")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("37")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("38")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("39")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("40")]),t("br"),t("span",{pre:!0,attrs:{class:"line-number"}},[s._v("41")]),t("br")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);