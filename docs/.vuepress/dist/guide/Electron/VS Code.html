<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VS Code | An的个人笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/note-sites/favicon.ico">
    <script type="module" src="/note-sites/js/index.js"></script>
    <meta name="description" content="记录学习笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/note-sites/assets/css/0.styles.a5e0cdd4.css" as="style"><link rel="preload" href="/note-sites/assets/js/app.6e0c8c06.js" as="script"><link rel="preload" href="/note-sites/assets/js/5.83e8f80b.js" as="script"><link rel="preload" href="/note-sites/assets/js/1.9e97c91a.js" as="script"><link rel="preload" href="/note-sites/assets/js/7.77d4009d.js" as="script"><link rel="prefetch" href="/note-sites/assets/js/10.554eab3d.js"><link rel="prefetch" href="/note-sites/assets/js/11.43690c3a.js"><link rel="prefetch" href="/note-sites/assets/js/12.286c737a.js"><link rel="prefetch" href="/note-sites/assets/js/13.87c44ad8.js"><link rel="prefetch" href="/note-sites/assets/js/14.3aeeb954.js"><link rel="prefetch" href="/note-sites/assets/js/15.8914bed8.js"><link rel="prefetch" href="/note-sites/assets/js/16.f4328978.js"><link rel="prefetch" href="/note-sites/assets/js/17.80ca8361.js"><link rel="prefetch" href="/note-sites/assets/js/18.34dddd37.js"><link rel="prefetch" href="/note-sites/assets/js/19.854ec3eb.js"><link rel="prefetch" href="/note-sites/assets/js/20.74cbe0dd.js"><link rel="prefetch" href="/note-sites/assets/js/21.3948684b.js"><link rel="prefetch" href="/note-sites/assets/js/22.574a6eb2.js"><link rel="prefetch" href="/note-sites/assets/js/23.647ef80e.js"><link rel="prefetch" href="/note-sites/assets/js/24.7c87d77b.js"><link rel="prefetch" href="/note-sites/assets/js/25.b26e5e2d.js"><link rel="prefetch" href="/note-sites/assets/js/26.103db665.js"><link rel="prefetch" href="/note-sites/assets/js/27.ef9065c6.js"><link rel="prefetch" href="/note-sites/assets/js/28.3e5878e2.js"><link rel="prefetch" href="/note-sites/assets/js/29.e55346c7.js"><link rel="prefetch" href="/note-sites/assets/js/3.1e69ef82.js"><link rel="prefetch" href="/note-sites/assets/js/30.f52c3f98.js"><link rel="prefetch" href="/note-sites/assets/js/31.140f2989.js"><link rel="prefetch" href="/note-sites/assets/js/32.225038a6.js"><link rel="prefetch" href="/note-sites/assets/js/33.047a3f47.js"><link rel="prefetch" href="/note-sites/assets/js/34.8b9f5ae5.js"><link rel="prefetch" href="/note-sites/assets/js/35.aced2f3e.js"><link rel="prefetch" href="/note-sites/assets/js/36.87b07c4e.js"><link rel="prefetch" href="/note-sites/assets/js/37.5d7ad259.js"><link rel="prefetch" href="/note-sites/assets/js/38.c8d0b2e8.js"><link rel="prefetch" href="/note-sites/assets/js/39.edf35bc6.js"><link rel="prefetch" href="/note-sites/assets/js/4.449a8b72.js"><link rel="prefetch" href="/note-sites/assets/js/40.1871f537.js"><link rel="prefetch" href="/note-sites/assets/js/41.e59ead13.js"><link rel="prefetch" href="/note-sites/assets/js/42.9be62944.js"><link rel="prefetch" href="/note-sites/assets/js/43.1698ae6d.js"><link rel="prefetch" href="/note-sites/assets/js/6.be1c7188.js"><link rel="prefetch" href="/note-sites/assets/js/8.5b761802.js"><link rel="prefetch" href="/note-sites/assets/js/9.4b851c0a.js">
    <link rel="stylesheet" href="/note-sites/assets/css/0.styles.a5e0cdd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-c0d124fa><div data-v-c0d124fa><div class="password-shadow password-wrapper-out" style="display:none;" data-v-30dff670 data-v-c0d124fa data-v-c0d124fa><h3 class="title" data-v-30dff670>An的个人笔记</h3> <p class="description" data-v-30dff670>记录学习笔记</p> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-c0d124fa><header class="navbar" data-v-c0d124fa><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-sites/" class="home-link router-link-active"><!----> <span class="site-name">An的个人笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c0d124fa></div> <aside class="sidebar" data-v-c0d124fa><div class="personal-info-wrapper" data-v-5c49c935 data-v-c0d124fa><img src="/note-sites/assets/img/logo.png" alt="author-avatar" class="personal-img" data-v-5c49c935> <h3 class="name" data-v-5c49c935>
    An
  </h3> <div class="num" data-v-5c49c935><div data-v-5c49c935><h3 data-v-5c49c935>32</h3> <h6 data-v-5c49c935>文章</h6></div> <div data-v-5c49c935><h3 data-v-5c49c935>26</h3> <h6 data-v-5c49c935>标签</h6></div></div> <ul class="social-links" data-v-5c49c935><li class="social-item" data-v-5c49c935><i class="iconfont reco-github" style="color:#67cc86;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-mayun" style="color:#f47e60;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-juejin" style="color:#f8b26a;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-npm" style="color:#e15b64;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-bilibili" style="color:#67cc86;" data-v-5c49c935></i></li></ul> <hr data-v-5c49c935></div> <nav class="nav-links"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-30dff670 data-v-c0d124fa><h3 class="title" data-v-30dff670>VS Code</h3> <!----> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-c0d124fa><div data-v-c0d124fa><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">VS Code</h1> <div data-v-7b22c628><i class="iconfont reco-account" data-v-7b22c628><span data-v-7b22c628>An</span></i> <i class="iconfont reco-date" data-v-7b22c628><span data-v-7b22c628>2022/6/18</span></i> <!----> <i class="tags iconfont reco-tag" data-v-7b22c628><span class="tag-item" data-v-7b22c628>Electron</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="vs-code扩展开发"><a href="#vs-code扩展开发" class="header-anchor">#</a> VS Code扩展开发</h1> <p></p><div class="table-of-contents"><ul><li><a href="#ui界面分类">UI界面分类</a></li><li><a href="#扩展方向">扩展方向</a></li><li><a href="#hello-world">hello world</a><ul><li><a href="#环境准备">环境准备</a></li><li><a href="#初始化">初始化</a><ul><li><a href="#文件说明">文件说明</a><ul><li><a href="#extension-ts">extension.ts</a></li><li><a href="#package-json">package.json</a></li><li><a href="#运行程序">运行程序</a></li></ul></li></ul></li></ul></li><li><a href="#命令">命令</a><ul><li><a href="#执行命令">执行命令</a></li><li><a href="#获取命令">获取命令</a></li></ul></li><li><a href="#通知和状态栏">通知和状态栏</a><ul><li><a href="#通知">通知</a><ul><li><a href="#带按钮回调">带按钮回调</a></li><li><a href="#带进度的通知">带进度的通知</a></li></ul></li><li><a href="#状态栏">状态栏</a><ul><li><a href="#自定义状态栏">自定义状态栏</a></li></ul></li></ul></li><li><a href="#接受输入内容">接受输入内容</a></li><li><a href="#快速选择框">快速选择框</a></li><li><a href="#自定义webview欢迎页面">自定义WebView欢迎页面</a><ul><li><a href="#加载本地资源">加载本地资源</a></li><li><a href="#消息通知">消息通知</a></li><li><a href="#保存状态">保存状态</a></li></ul></li><li><a href="#快捷键绑定">快捷键绑定</a></li><li><a href="#自定义菜单">自定义菜单</a></li><li><a href="#添加右键子菜单">添加右键子菜单</a></li><li><a href="#悬停提示">悬停提示</a></li><li><a href="#代码片段">代码片段</a></li><li><a href="#左侧自定义侧边栏">左侧自定义侧边栏</a></li><li><a href="#读取文件夹目录">读取文件夹目录</a></li><li><a href="#自定义插件首选项配置">自定义插件首选项配置</a></li><li><a href="#编辑器内容操作">编辑器内容操作</a><ul><li><a href="#打开新的活动编辑器并插入文本">打开新的活动编辑器并插入文本</a></li><li><a href="#编辑内容">编辑内容</a></li><li><a href="#替换内容">替换内容</a></li><li><a href="#获取当前编辑器的信息">获取当前编辑器的信息</a></li><li><a href="#文字高亮显示">文字高亮显示</a></li></ul></li><li><a href="#打开文件并选中部分内容">打开文件并选中部分内容</a></li><li><a href="#终端操作">终端操作</a></li><li><a href="#全局存储">全局存储</a></li><li><a href="#打包发布">打包发布</a></li></ul></div><p></p> <p><a href="https://code.visualstudio.com/api" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/extension-guides/overview" target="_blank" rel="noopener noreferrer">扩展指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/references/vscode-api" target="_blank" rel="noopener noreferrer">VSCodeAPI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/extension-capabilities/common-capabilities" target="_blank" rel="noopener noreferrer">通用能力<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/references/contribution-points" target="_blank" rel="noopener noreferrer">贡献点配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/references/activation-events" target="_blank" rel="noopener noreferrer">扩展事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/extension-guides/overview" target="_blank" rel="noopener noreferrer">官方扩展示例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/references/icons-in-labels#icon-listing" target="_blank" rel="noopener noreferrer">官方图标<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension" target="_blank" rel="noopener noreferrer">扩展发布<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="ui界面分类"><a href="#ui界面分类" class="header-anchor">#</a> UI界面分类</h2> <ul><li>标题栏<code>Title Bar</code>: VSCode界面顶部的横栏及弹出菜单</li> <li>活动栏<code>Activity Bar</code>: VSCode界面最左侧的选项栏</li> <li>侧栏<code>Side Bar</code>: 活动栏右侧的内容栏</li> <li>面板<code>Panel</code>: VSCode的命令面板，包括错误、输出、调试控制台和终端面板</li> <li>编辑组<code>Editor Group</code>: 编辑界面部分，一个编辑组内包含一个或者多个编辑窗口。VSCode支持拆分出多个编辑组</li> <li>状态栏<code>Status Bar</code>: VSCode界面最底下的横栏</li> <li>标题栏<code>Title Bar</code>: VSCode界面顶部的横栏及弹出菜单</li> <li>活动栏<code>Activity Bar</code>: VSCode界面最左侧的选项栏</li> <li>侧栏<code>Side Bar</code>: 活动栏右侧的内容栏</li> <li>面板<code>Panel</code>: VSCode的命令面板，包括错误、输出、调试控制台和终端面板</li> <li>编辑组<code>Editor Group</code>: 编辑界面部分，一个编辑组内包含一个或者多个编辑窗口。VSCode支持拆分出多个编辑组</li> <li>状态栏<code>Status Bar</code>: VSCode界面最底下的横栏</li></ul> <p><img src="/note-sites/assets/img/image-20220615221054379.5a84c1f5.png" alt="image-20220615221054379"></p> <h2 id="扩展方向"><a href="#扩展方向" class="header-anchor">#</a> 扩展方向</h2> <ul><li>命令注册: 命令注册后，VSCode通过Ctrl+Shift+P调出命令搜索栏，即可在直接搜到</li> <li>菜单显示: 编辑器右键菜单、编辑器标题右键菜单等，菜单显示一般和命令绑定</li> <li>快捷键设置: 一般和命令绑定，作用就是通过快捷键调用命令</li> <li>主题显示: 色彩主题、文件图标主题等，用来改变VSCode的主题显示</li> <li>树视图: 涉及Activity Bar和Side Bar，可在这两个区域增加树视图</li> <li>WebView: VSCode内嵌的Html网页，可以实现更加复杂、灵活的交互</li> <li>语法高亮: 用于语言方面，优化可读性</li> <li>片段补全: 用于语言方面，增加编辑效率</li></ul> <h2 id="hello-world"><a href="#hello-world" class="header-anchor">#</a> hello world</h2> <h3 id="环境准备"><a href="#环境准备" class="header-anchor">#</a> 环境准备</h3> <p>安装官方代码生成模板工具</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> yo generator-code
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="初始化"><a href="#初始化" class="header-anchor">#</a> 初始化</h3> <p>初始化命令</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>yo code
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>根据提示填写相关内容</p> <h4 id="文件说明"><a href="#文件说明" class="header-anchor">#</a> 文件说明</h4> <p>项目中两个重要的文件: <strong>extension.ts</strong> 和 <strong>package.json</strong></p> <h5 id="extension-ts"><a href="#extension-ts" class="header-anchor">#</a> extension.ts</h5> <p>该文件是入口文件, 代码如下:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// vscode 模块包含 vscode 扩展的相关 API</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 当扩展被激活时触发</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 此代码行仅在激活扩展时执行一次</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;active 函数运行了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 注册一个 hello.helloWorld 事件</span>
	<span class="token comment">// 命令id参数必须与 package.json 中的 contributes.commands.command 命令字段匹配</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;hello.helloWorld&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 触发此事件会显示一段 Info 类型的 message</span>
		vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;这是我的第一个 vscode 插件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 将注册的事件添加到上下文对象中</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 当扩展被停用时触发</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h5 id="package-json"><a href="#package-json" class="header-anchor">#</a> package.json</h5> <p>这个文件配置项很多, 具体配置可见<a href="https://code.visualstudio.com/api/references/extension-manifest" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 下面的是比较重要的属性:</p> <ul><li><p><strong>engines.vscode</strong>: 指定vscode兼容的<strong>最低版本</strong></p></li> <li><p><strong>activationEvents</strong>(<code>Array</code>): 此扩展的<a href="https://code.visualstudio.com/api/references/activation-events" target="_blank" rel="noopener noreferrer">激活事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>数组</p> <ul><li><code>onLanguage: ${xxx}</code> 打开指定语言的文件激活</li> <li><code>onCommand: ${xxx}</code> 在命令列表中执行时激活</li> <li><code>onDebug: ${xxx}</code> 调试时激活</li> <li><code>workspaceContains: ${xxx}</code> 打开一个文件夹并且该文件夹包含至少一个匹配的文件时激活</li> <li><code>onFileSystem: ${xxx}</code> 读取来自特定的文件或文件夹时激活</li> <li><code>onView: ${xxx}</code> 在 VS Code 侧边栏中展开指定 id 的视图激活</li> <li><code>onUri: ${xxx}</code> 打开该扩展的系统范围 Uri 时激活</li> <li><code>*</code>: 一启动 VS Code, 插件就会被激活(不建议使用, 会减慢VS Code的启动速度)</li> <li><code>onStartupFinished</code>: 类似于 <code>*</code> 激活事件，但它不会减慢 VS Code 的启动速度</li></ul> <blockquote><p>上面扩展事件的激活是指<code>extension.ts</code>文件的<code>activate</code>钩子函数激活</p></blockquote></li> <li><p><strong>contributes</strong>(<code>Object</code>): 描述扩展<a href="https://code.visualstudio.com/api/references/contribution-points" target="_blank" rel="noopener noreferrer">贡献<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的对象, 也就是说这个插件有哪些功能, <code>contributes</code>字段是使用的最多的它可以定义<code>vscode</code>插件可以做什么</p> <ul><li><code>configuration</code>: 设置(<code>settings.json</code>)</li> <li><code>commands</code>: 命令</li> <li><code>menus</code>: 菜单</li> <li><code>keybindings</code>: 快捷键绑定</li> <li><code>languages</code>: 新语言支持</li> <li><code>debuggers</code>: 调试</li> <li><code>breakpoints</code>: 断点</li> <li><code>grammars</code>: 语法</li> <li><code>themes</code>: 主题</li> <li><code>snippets</code>: 代码片段</li> <li><code>jsonValidation</code>: 自定义JSON校验</li> <li><code>views</code>: 左侧侧边栏视图</li> <li><code>viewsContainers</code>: 自定义activitybar</li> <li><code>problemMatchers</code>: 匹配器</li> <li><code>taskDefinitions</code>: 任务</li> <li><code>colors</code>: 主题颜色</li></ul></li></ul> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vscode-demo&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;displayName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vscode-demo&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;vscode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.40.0&quot;</span> <span class="token comment">// 表示插件最低支持的vscode版本, 低于此版本号的vscode代码不执行(并且要与 @types/vscode 对应版本)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;categories&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;Other&quot;</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 扩展的激活事件, 如果这里不声明则不会触发对应的命令事件, 可以使用 `*` 通配</span>
	<span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;onCommand:hello.helloWorld&quot;</span> <span class="token comment">// onCommand: 表示接受到指定的命令时激活事件</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./out/extension.js&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果这里不声明则不会出现对应的UI界面</span>
		<span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.helloWorld&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 要执行的命令的id</span>
				<span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello vscode 插件&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 显示的文本, 会在`F1`命令栏显示(可以是中文)</span>
        <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span> <span class="token comment">// 指定分组</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h5 id="运行程序"><a href="#运行程序" class="header-anchor">#</a> 运行程序</h5> <p><img src="/note-sites/assets/img/image-20220612221517887.6e8f62d5.png" alt="image-20220612221517887"></p> <p>或者按<kbd>F5</kbd>这时会打开一个扩展开发宿主环境</p> <p><kbd>F1</kbd>输入<code>hello vscode 插件</code></p> <p><img src="data:image/png;base64,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" alt="image-20220613210434248"></p> <p>然后右下角出现提示</p> <p><img src="data:image/png;base64,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" alt="image-20220613210614351"></p> <p>如果命令注册和<code>package.json</code>中配置的一致但是无法识别命令的话可以执行</p> <p><code>package.json</code>里<code>script</code>里的<code>vscode:prepublish</code>的命令</p> <p><img src="/note-sites/assets/img/image-20220613210852890.650f01c7.png" alt="image-20220613210852890"></p> <p>注意点:</p> <ul><li><code>tsconfig.json</code>文件的<code>compilerOptions.module</code>一定要设置为<code>commonjs</code>即使使用的是<code>ESModule</code></li> <li><code>package.json</code>里的<code>engines.vscode</code>字段表示的最低兼容版本不可以低于当前开发的版本</li></ul> <p>更详细的<code>package.json</code>如下:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 插件的名字，应全部小写，不能有空格</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vscode-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 插件的友好显示名称，用于显示在应用市场，支持中文</span>
  <span class="token property">&quot;displayName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VSCode插件vscode-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 描述</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;插件描述&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 关键字，用于应用市场搜索</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;cli&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 版本号</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 发布者，如果要发布到应用市场的话，这个名字必须与发布者一致</span>
  <span class="token property">&quot;publisher&quot;</span><span class="token operator">:</span> <span class="token string">&quot;water&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 表示插件最低支持的vscode版本, 低于此版本号的vscode代码不执行</span>
  <span class="token property">&quot;engines&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;vscode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.52.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 插件应用市场分类，可选值:  [Programming Languages, Snippets, Linters, Themes, Debuggers, Formatters, Keymaps, SCM Providers, Other, Extension Packs, Language Packs]</span>
  <span class="token property">&quot;categories&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;Other&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 插件图标，至少128x128像素 从根目录开始找 images文件夹</span>
  <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/icon.png&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 扩展的激活事件数组</span>
  <span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;onCommand:extension.createPage&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;onCommand:extension.createComponent&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 插件的主入口</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src/extension&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 整个插件最重要最多的配置项</span>
  <span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 插件配置项</span>
    <span class="token property">&quot;configuration&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// 配置项标题，会显示在vscode的设置页</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wxTemp&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 相关配置</span>
        <span class="token property">&quot;wxTemp.page.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;模版js&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 命令</span>
    <span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;extension.createPage&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 对应的命令id</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;创建页面&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ui界面显示的标题, 也是匹配的文本</span>
        <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$(book)&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 当该命令被绑定到编辑器标题栏时显示 https://code.visualstudio.com/api/references/icons-in-labels#icon-listing</span>
        <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;分组&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定分组</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 快捷键绑定</span>
    <span class="token property">&quot;keybindings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;extension.createPage&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctrl+f10&quot;</span><span class="token punctuation">,</span> <span class="token comment">// windown快捷键</span>
        <span class="token property">&quot;mac&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cmd+f10&quot;</span><span class="token punctuation">,</span> <span class="token comment">// mac快捷键</span>
        <span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;editorTextFocus&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 菜单</span>
    <span class="token property">&quot;menus&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 编辑器右键菜单</span>
      <span class="token property">&quot;editor/context&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// 表示只有编辑器具有焦点时才会在菜单中出现</span>
          <span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;editorFocus&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;extension.createPage&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">// navigation是一个永远置顶的分组，后面的@6是人工进行组内排序</span>
          <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navigation@6&quot;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// 只有编辑器具有焦点，并且打开的是JS文件才会出现</span>
          <span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;editorFocus &amp;&amp; resourceLangId == javascript&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;extension.createComponentDemo&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;z_commands&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// 编辑器右上角图标，不配置icon就显示文字</span>
      <span class="token property">&quot;editor/title&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;editorFocus &amp;&amp; resourceLangId == javascript&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;extension.createComponentDemo3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navigation&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// 编辑器标题右键菜单</span>
      <span class="token property">&quot;editor/title/context&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;resourceLangId == javascript&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;extension.createComponentDemo4&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navigation&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// 资源管理器右键菜单</span>
      <span class="token property">&quot;explorer/context&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;extension.createComponentDemo5&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navigation&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 代码片段</span>
    <span class="token property">&quot;snippets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./snippets/javascript.json&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;html&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./snippets/html.json&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 自定义新的activitybar图标，也就是左侧侧边栏大的图标</span>
    <span class="token property">&quot;viewsContainers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;activitybar&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wxapp&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wxapp&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/icon.png&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 自定义侧边栏内view的实现</span>
    <span class="token property">&quot;views&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 和 viewsContainers 的id对应</span>
      <span class="token property">&quot;wxapp&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wxapp1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;天时&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wxapp2&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;地利&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wxapp3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;人和&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 图标主题</span>
    <span class="token property">&quot;iconThemes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IconTheme&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测试图标主题&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./theme/icon-theme.json&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// npm scripts</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 开发依赖</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SEE LICENSE IN LICENSE.txt&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bugs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/xxx/issues&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/xxx&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 说明页</span>
  <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/XXXXXXX/README.md&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 作者信息</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;an&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;331536495@qq.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://gitee.com/Ann-yang&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br></div></div><h2 id="命令"><a href="#命令" class="header-anchor">#</a> 命令</h2> <p>上面的hello world例子就是一个简单的命令</p> <h3 id="执行命令"><a href="#执行命令" class="header-anchor">#</a> 执行命令</h3> <p>使用<code>vscode.commands.executeCommand</code>可以执行一些内置的命令</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;hello.helloWorld&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行其他的命令(打开 帮助 -&gt; 关于)</span>
    vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">executeCommand</span><span class="token punctuation">(</span><span class="token string">&quot;workbench.action.showAboutDialog&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>res<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 查看发行说明</span>
    vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">executeCommand</span><span class="token punctuation">(</span><span class="token string">&quot;update.showCurrentReleaseNotes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="获取命令"><a href="#获取命令" class="header-anchor">#</a> 获取命令</h3> <p>关于键盘的内置命令可以在键盘快捷键方式中获取</p> <p><img src="/note-sites/assets/img/image-20220616213403545.2505bd90.png" alt="image-20220616213403545"></p> <p>在代码中也可以获取命令</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 获取所有命令</span>
vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">getCommands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>allCommands <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;所有的命令&quot;</span><span class="token punctuation">,</span> allCommands<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>有一些复杂的内置命令可以参考<a href="https://code.visualstudio.com/api/references/commands" target="_blank" rel="noopener noreferrer">官方<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="通知和状态栏"><a href="#通知和状态栏" class="header-anchor">#</a> 通知和状态栏</h2> <h3 id="通知"><a href="#通知" class="header-anchor">#</a> 通知</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 右下角通知提示</span>
vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;info message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showWarningMessage</span><span class="token punctuation">(</span><span class="token string">&quot;warning message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showErrorMessage</span><span class="token punctuation">(</span><span class="token string">&quot;error message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20220615214650170"></p> <h4 id="带按钮回调"><a href="#带按钮回调" class="header-anchor">#</a> 带按钮回调</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// 第一个参数是信息, 后续的参数会生成对应的按钮, then 回调收到点击的按钮文本</span>
vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;是否要打开文件选择&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;是&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;否&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;不再提示&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token string">&quot;是&quot;</span><span class="token operator">:</span>
				vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showOpenDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token operator">:</span> vscode<span class="token punctuation">.</span>Uri<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">const</span> filePath <span class="token operator">=</span> value<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fsPath<span class="token punctuation">;</span>
							vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">&quot;不再提示&quot;</span><span class="token operator">:</span>
				<span class="token comment">// ...</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">default</span><span class="token operator">:</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20220615214846056"></p> <h4 id="带进度的通知"><a href="#带进度的通知" class="header-anchor">#</a> 带进度的通知</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">withProgress</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 进度显示类型, Notification(右下角通知和进度) | Window(状态栏转圈) | SourceControl(源代码控制栏图标和进度)</span>
  location<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ProgressLocation<span class="token punctuation">.</span>Notification<span class="token punctuation">,</span>
  title<span class="token operator">:</span> <span class="token string">&quot;获取网络资源&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 标题</span>
  cancellable<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 显示取消按钮</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>progress<span class="token punctuation">,</span> token<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

  <span class="token comment">// 取消按钮回调</span>
  token<span class="token punctuation">.</span><span class="token function">onCancellationRequested</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;取消成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 进度0%, 无文本</span>
  progress<span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">{</span> increment<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 修改进度条到10%, 增加文本</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    progress<span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">{</span> increment<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&quot;发送请求中..&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    progress<span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">{</span> increment<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&quot;请求发送成功...&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    progress<span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">{</span> increment<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">&quot;请求已到达...&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 4秒后关闭</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span>resolve <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20220616203122623"></p> <h3 id="状态栏"><a href="#状态栏" class="header-anchor">#</a> 状态栏</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 添加一个默认的状态栏</span>
<span class="token comment">// 选择动画只有 sync, loading, gear 图标支持</span>
<span class="token keyword">const</span> loading <span class="token operator">=</span> vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">setStatusBarMessage</span><span class="token punctuation">(</span><span class="token string">&quot;$(loading~spin) loading...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1.5s后释放</span>
  loading<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAaCAIAAAC4ktw5AAADeklEQVRYhe2YP0wTYRjGn2srSLTSswVb/yCmNUIggIbEaC6a1CathgXjUJOSOODUbh263HBDlw5sMskmAwMRBoeSNA2JlQFrSpVE1DttmgIN0ir0H6H0zqFAqAxcDwqk6W+75P2e77nn3u++7464cbMDNXaQnbSB00UtjhJqcZRQi6ME6XEQRBVGqSh3AEEQgiBcvXY9m81cJDXZXCaVWk+tr1XC3PFTXhxyhaLuTB318JFG05xOrdc3NJCkmvvxbXExGo38zOWyFXJ5bJQXh+7yFaPpcXx56e34aOMFUoBwoVF1SXv53v0HydWVjY2cIAgVMno8yEl1s8jSW20d/U+fz3yYnglMFwp8JpPOZjJ/kolkcpVjv+ey2Xx+s3SE0cY8kU1/jEtypu2nX7QvzS4kewY9z65HZheSkmTKQ2x31NWfbb6k+/DeP/9lDgD2dEEmnc6k05UwV2RuxDVXOfVSxO4OarWmq/tOIvGbLxQqauhkEdsd586dX15aXFv7K3EevdUxcFsFAIj4XKMBAAaL82WvEgAQm3KP+AEARhtjbgWAaDC8PbRn0NO54BoNGG1M+7wPfaaWPSIAZadNLQAQCwUbDZh0ezmJHiEyDplMls9v5rc25XK5lEn0VseAgX3j8nIAjDaGtiy7vRzrHXJ5AcBgcVoter+XM1icZlX4tXuCLeaC8H9CLX1tU25mGJSdvmvVBsbieqvDRAaLypSdNiEoxd+eOxVTxPO8IKC+voHneYIgyp5Ep0Z4bOeh+X1hGLoMAEDZacZDMy97lUqNDkCLBqHxCXanLLVPKPqu2ESBrxGlWgtAp1bFZraVA1PB/SPKROxiWV1d+fXrR2Fr68i2UspO302MMMPx4nIAoG9WlamhbSL/JqJH4weA+FfpRi4792l2XdrpczmBbqtFX7wwmrrBfma1TSTWVuIAYOy8CgDggixum6jdMuWBwvHPLLrNPcULyrz9JtJbHU6rFugZ9NgoAAaLk96Z/QDEdgfP8wAK0rYVbuyVz04PeHoBABGfy8sB3EyEMdOMGYhGYsU61jsZcgx4aBOAaDCcOrhZuLHxMD3IePoAxELBFCnF3h6IKvobZrQx7fPM8GEOKdXzVartv98a+3rIA1vZX7SnjN1zCpAKjQz5DylXTYvlCKiexXIk1OIoQSHw/El7OEUopBy6q5d/CIFSxGQADwcAAAAASUVORK5CYII=" alt="image-20220821100847441"></p> <h4 id="自定义状态栏"><a href="#自定义状态栏" class="header-anchor">#</a> 自定义状态栏</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.status&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 创建一个状态栏对象, 右对应, 优先级 999</span>
		<span class="token keyword">const</span> statusBarItem<span class="token operator">:</span> vscode<span class="token punctuation">.</span>StatusBarItem <span class="token operator">=</span> vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">createStatusBarItem</span><span class="token punctuation">(</span>vscode<span class="token punctuation">.</span>StatusBarAlignment<span class="token punctuation">.</span>Right<span class="token punctuation">,</span> <span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		statusBarItem<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">&quot;$(loading~spin) loading...&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 文本和图标(动画)</span>
		statusBarItem<span class="token punctuation">.</span>tooltip <span class="token operator">=</span> <span class="token string">&quot;鼠标的悬浮提示&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 鼠标的悬浮提示</span>
		statusBarItem<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 前景色</span>
		statusBarItem<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">ThemeColor</span><span class="token punctuation">(</span><span class="token string">&quot;statusBarItem.warningBackground&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 背景颜色</span>
		statusBarItem<span class="token punctuation">.</span>command <span class="token operator">=</span> <span class="token string">&quot;learn-vscode-extends.statusClick&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 绑定点击的命令</span>

		<span class="token comment">// 显示</span>
		statusBarItem<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>			
			<span class="token comment">// 隐藏</span>
			statusBarItem<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 注销</span>
			<span class="token comment">// statusBarItem.dispose();</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 状态栏点击命令</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.statusClick&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;状态栏的点击命令回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><img src="/note-sites/assets/img/image-20220821101851511.004309cd.png" alt="image-20220821101851511"></p> <h2 id="接受输入内容"><a href="#接受输入内容" class="header-anchor">#</a> 接受输入内容</h2> <p>使用<code>vscode.window.showInputBox</code>可以打开一个输入框, 让用户输入内容</p> <p>新建一个文件<code>dome/input.ts</code>如下:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 注册一个命令 learn-vscode-extends.input</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.input&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 打开一个 input</span>
		vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInputBox</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			ignoreFocusOut<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 当焦点移动到编辑器的另一部分或另一个窗口时, 保持输入框打开</span>
			password<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 为 true 就表示是密码类型</span>
			prompt<span class="token operator">:</span> <span class="token string">&quot;请输入文本&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 文本输入提示</span>
			value<span class="token operator">:</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 默认值, 默认全部选中</span>
			valueSelection<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// 指定默认值选中的范围</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>value <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value <span class="token operator">||</span> <span class="token operator">!</span>value<span class="token operator">?.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showErrorMessage</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的文本无效&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

			vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">你输入的文本是: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>对应的在<code>pageage.json</code>里注册命令</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;onCommand:hello.input&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.input&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello input 标题&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>然后再<code>extension.ts</code>里调用</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 注意: 这里千万不要使用.ts后缀, 可以使用.js后缀也可以省略</span>
<span class="token keyword">import</span> input <span class="token keyword">from</span> <span class="token string">&quot;./demo/input&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">input</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="快速选择框"><a href="#快速选择框" class="header-anchor">#</a> 快速选择框</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 注册一个命令 learn-vscode-extends.quickPick</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.quickPick&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 打开一个快速选择列表</span>
		vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showQuickPick</span><span class="token punctuation">(</span>
			<span class="token comment">// [&quot;选项一&quot;, &quot;选项二&quot;, &quot;选项三&quot;], // 简单的显示多个选项</span>
			<span class="token punctuation">[</span>
				<span class="token punctuation">{</span> <span class="token comment">// 对象的形式可以配置更多东西</span>
					label<span class="token operator">:</span> <span class="token string">&quot;选项一&quot;</span><span class="token punctuation">,</span>
					description<span class="token operator">:</span> <span class="token string">&quot;选项一描述$(bug)&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定官方提供的图标id https://code.visualstudio.com/api/references/icons-in-labels#icon-listing</span>
					detail<span class="token operator">:</span> <span class="token string">&quot;选项一详细信息&quot;</span><span class="token punctuation">,</span>
					mate<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 这里也可以放一些自定义的对象</span>
						script<span class="token operator">:</span> <span class="token string">&quot;learn-vscode-extends.helloWrold&quot;</span> 
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{</span>
					label<span class="token operator">:</span> <span class="token string">&quot;选项二&quot;</span><span class="token punctuation">,</span>
					description<span class="token operator">:</span> <span class="token string">&quot;选项二描述&quot;</span><span class="token punctuation">,</span>
					detail<span class="token operator">:</span> <span class="token string">&quot;选项二详细信息$(gear)&quot;</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				title<span class="token operator">:</span> <span class="token string">&quot;请选择一个选项&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 标题</span>
				placeHolder<span class="token operator">:</span> <span class="token string">&quot;用户类型&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 占位符文本</span>
				canPickMany<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否可以多选</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token operator">:</span> vscode<span class="token punctuation">.</span>QuickPickItem <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里就是上面数组中对应的对象信息</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmEAAAClCAYAAAAUEyrAAAAgAElEQVR4nO3deVQUZ94v8G9BEwHpZuuAK3QjoCgoQdAYZdVk4hIFMcmdGJQY47yezLwzeZMxdzJzzv3j3sx7opPJ5J3JdcaYvCYmmWtU3JOMURaXJAZEjCu4gAoIhM1uFpHGvn9AldXd1SzdYGv8fmYSu6uqq55yzpnzPb/nqV8JYRHRZjNEdz7JPxIRERHRAAi2XwQAEO7sUHVnLXPPfxnCiIiIiAaT0PMvMwTAbO7JYQJUMJu7w5c8hJmlf9lgNiMiIiLqJtjbYRZsdkphzCxAEMxQma1DmFUAY+giIiIiUmadkwT5HoUgBnQHMLNZgMoMM8xmM7orYgDM4gSlvCpGRERERH0x94QuAQK6Q5TsTwEQzJA+q6QAJquIAWaYLcIXkxgRERFR74Q7kUmwDGDiJ0ghDT1rwsxmCG4CRgQH3/3xEhEREf2E1dbWofNWBwRBAAQBQs8/bmZYPRVJRERERIPKDKt5RXNPJYwZjIiIiGgIWazz6l4T5tazxyXjISIiInrQ9KzCh5vZZhE+EREREQ0mMXjJm4C5uW44RERERA8Im0VhgIozkUS0etVK1P34I7bv2GWxfeSIEVi18gUcPnIUufmHbH4DAOs3bAQApKUkIXHWTGzY+N94YfnzKC27YHM++e/yDx3GSyuy4eXlqTimH06dkc49GFavWomoqPHYuWuPzb3IxzXQ+7E+x+SYSYr72ttv4v0PN+Hc+VIn74SI7l9i24puqjsbiehBtXP3Xqxa+QJu3ryJGY9OQ2BAgMX+pzMz8HRmBoA7YWLn7r14efVLyMxYhO07dmF8ZCTq6n7E9Zqafl3z3PlSvP/hJiz9+TP49J+fS+EkasJ4vLDseZSWlQ3a/WVmLEJU1Hg0NDQiLTUZ586X2YxzoPeTlpKE9EVPwUPV/X+jnSYTdu7ag/UbNmLkiBF4efVLOFHyQ5/BjYgeXMKY0Aiz2Xwb7ioVgoODXD0eInKRtJQkTI17BOv+/K60rbdKmPibxFkz8dW/vsazT2farWpdq6zCd8e+twgtYpgbOSIY6YueQsGhI2hqasKCeXOx94svFa/niMyMRUhOmiVVwN54/TUAwB/f+pNT9yP+3rqCBnQHSetwSUQPrtraOnTcbO/uD+bmJvUJYwgjIguZGYswJy3F7n55ABGtXrUS/v5+0vY3Xn+tz+lIeWgRrylWkwYrgNmbguwtiDlzP7393Q329CoR3T/shTCVqwdGRK63/q/vAAAO5OZj+45dUtiwVwmTT8UdyM13KFxETRgvrQm7VlmF1b96RZrGezozw6lAJp67rb0N//nW2zZTin98609YvWol/uudddi5aw8AOH0/InshlYjIGithRASgu9rT2tqKcePCpClDe8Sw9sbrr6GmphbRkybanboDYBGoxMXrDY2NeG/9+1JAUqqQOSItJUlxStO6ugXcCWsXLl7C+g0bHb4fcdyZGYswPjICf3zrT8jMWISghx/G+g0bB+3eiOj+xEoYEfWpsqoan2/boVj9slcVu2Ew4D/W/A7AnSAlLvSXH5uZsUiquIlTc2+8/hrGjhltMQbxmIbGRpRduIgZ06cN6B4O5OZL4+nLufOlNsf2936IiJyl+p/vvoIz//429rl6JER0z/DwUFk8ESnqNJl6/Z2/vx9Kyy5YbJOHt9W/esViak5elbJXLfr4k386dA+Doa/7YSAjImewEkZENjo7Tdi6fYdiJcye1atWQhsYiB3n9lhs9/PzhYeHCtdraodsvENhIPczOWYS1v/1HVyrrJK2jY+MsAlwRERyDGFEJPHVaLBq5QsY7u3dZyVs5IgR8Pb2AtC9nszb2wvr/vyutMars7NT+v21yiqbVg32niQUpyOBO2vP7oaB3s/IEcFY/Yvu6p11YM3MWISxY0ZLU61cC0ZEShjCiEgSGzsZ/9p/APFT4/DV/q/tVsLEpxg7O02YOeNRxb5e9to/iORPYQKDtzDfEY7ej9J05Buvv4YRI4KxdfsOnDtfhpdXv4SZMx5lt3wisqEaA+CMq0dBRC4VNWE8vL29sP4fG9HcfAPxU+OkffJ2FO3tN3G9phZREyJx44YB6/78rvSEoXXVTK7TZMK33x1DwtSpUHmopLYQ9wpH7se6fYZY2TuQm28R2P7wv/430lKS8MKy5/HfH3/CIEZEEuFvO/+v+cy/v419bFFBRERENOjstahwc/XAiIiIiB5EbgF9H0NEREREg8zN29UjICIiInoAuVW6egREREREDyC+O5KIiIhoCPXr3ZG1tXWuGh8RERHRA4VPRxIRERG5AEMYERERkQswhBERERG5AEMYERERkQswhBERERG5gKrvQwBd2KShHgcR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" alt="image-20220615224101067"></p> <h2 id="自定义webview欢迎页面"><a href="#自定义webview欢迎页面" class="header-anchor">#</a> 自定义WebView欢迎页面</h2> <p><a href="https://code.visualstudio.com/api/extension-guides/webview" target="_blank" rel="noopener noreferrer">webview<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>使用<code>vscode.window.createWebviewPanel</code>可以创建一些简单页面展示, 欢迎页面等, 如下:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> path <span class="token keyword">from</span> <span class="token string">&quot;path&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> fs <span class="token keyword">from</span> <span class="token string">&quot;fs&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.welcome&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

		<span class="token comment">// 创建一个 weilcome</span>
		<span class="token keyword">const</span> panel <span class="token operator">=</span> vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">createWebviewPanel</span><span class="token punctuation">(</span>
			<span class="token string">&quot;weilcome&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webview面板的类型, 内部使用</span>
			<span class="token string">&quot;自定义欢迎页面标题&quot;</span><span class="token punctuation">,</span> <span class="token comment">// table 标题</span>
			vscode<span class="token punctuation">.</span>ViewColumn<span class="token punctuation">.</span>One<span class="token punctuation">,</span> <span class="token comment">// 显示在第一个编辑器</span>
			<span class="token punctuation">{</span>
				enableScripts<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 控制脚本是否在webview内容中启用, 默认为false(脚本禁用)</span>
				retainContextWhenHidden<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// webview被隐藏时保持状态，避免被重置</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// html文件路径</span>
		<span class="token keyword">const</span> hemlPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
			context<span class="token punctuation">.</span>extensionPath<span class="token punctuation">,</span> <span class="token comment">// 项目根路径</span>
			<span class="token string">&quot;./src/render/welcome.html&quot;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 读取html文本</span>
		<span class="token keyword">const</span> html <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>hemlPath<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 赋值html文本</span>
		panel<span class="token punctuation">.</span>webview<span class="token punctuation">.</span>html <span class="token operator">=</span> html<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>注册命令, 主文件调用, 然后执行命令, 效果如下:</p> <p><img src="data:image/png;base64,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" alt="image-20220613220611181"></p> <h3 id="加载本地资源"><a href="#加载本地资源" class="header-anchor">#</a> 加载本地资源</h3> <p>出于安全考虑，<code>Webview</code>默认无法直接访问本地资源，它在一个孤立的上下文中运行，想要加载本地图片、js、css等必须通过特殊的<code>vscode-resource:</code>协议，网页里面所有的静态资源都要转换成这种格式，否则无法被正常加载</p> <p><code>vscode-resource:</code>协议类似于<code>file:</code>协议，但它只允许访问特定的本地文件, 和<code>file:</code>一样, <code>vscode-resource:</code>从磁盘加载绝对路径的资源</p> <p><code>file:</code>协议通过<code>vscode.Uri.parse</code>可以将一个路径解析成Uri对象</p> <h3 id="消息通知"><a href="#消息通知" class="header-anchor">#</a> 消息通知</h3> <p><code>Webview</code>和普通网页非常类似，不能直接调用任何VSCodeAPI，但是，它唯一特别之处就在于多了一个<code>acquireVsCodeApi()</code>方法，执行这个方法会返回一个低配版的vscode对象，这个对象里面有且仅有如下3个可以和插件通信的API: <code>getState()</code>,<code>postMessage()</code>,<code>setState()</code></p> <p>插件给<code>Webview</code>发送消息（支持发送任意可以被<code>JSON</code>化的数据）</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>panel<span class="token punctuation">.</span>webview<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>text<span class="token operator">:</span> <span class="token string">&quot;我是插件发送的信息&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>Webview</code>端接收：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Webview接收到的消息是: &quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>Webview</code>发送消息给插件:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>vscode<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>text<span class="token operator">:</span> <span class="token string">&quot;我是Webview发送的信息&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>插件接收:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>panel<span class="token punctuation">.</span>webview<span class="token punctuation">.</span><span class="token function">onDidReceiveMessage</span><span class="token punctuation">(</span>message <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;插件收到的消息是: &quot;</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="保存状态"><a href="#保存状态" class="header-anchor">#</a> 保存状态</h3> <p>在webview的js中可以使用<code>vscode.getState()</code>和<code>vscode.setState()</code>方法来保存和恢复JSON可序列化状态对象</p> <p>当webview被隐藏时，即使webview内容本身被破坏，这些状态仍然会保存。当然, 当webview被销毁时，状态将被销毁</p> <p><strong>序列化</strong></p> <p>通过注册<code>WebviewPanelSerializer</code>可以实现在<code>VScode</code>重启后自动恢复<code>webview</code>, 当然，序列化其实也是建立在<code>getState</code>和<code>setState</code>之上的</p> <p>注册方法: <code>vscode.window.registerWebviewPanelSerializer</code></p> <p><strong>retainContextWhenHidden</strong></p> <p>对于具有非常复杂的UI或状态且无法快速保存和恢复的webview，可以直接使用<code>retainContextWhenHidden</code>选项, 设置<code>retainContextWhenHidden: true</code>后即使webview被隐藏到后台其状态也不会丢失, 注意: 它需要很高的内存开销，一般是建议使用<code>getState</code>和<code>setState</code>来实现持久化</p> <h2 id="快捷键绑定"><a href="#快捷键绑定" class="header-anchor">#</a> 快捷键绑定</h2> <p><a href="https://code.visualstudio.com/docs/getstarted/keybindings" target="_blank" rel="noopener noreferrer">keybinds<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>vscode插件快捷键注册如下:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// package.json</span>

<span class="token string-property property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;onCommand:learn-vscode-extends.keyboardTest&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;learn-vscode-extends.keyboardTest&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyboardTest&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;keybindings&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;learn-vscode-extends.keyboardTest&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 快捷键触发的事件id</span>
      <span class="token string-property property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctrl+f1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// windown 下的快捷键</span>
      <span class="token string-property property">&quot;mac&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ctrl+f1&quot;</span><span class="token punctuation">,</span> <span class="token comment">// mac 下的快捷键</span>
      <span class="token string-property property">&quot;args&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 通过快捷键触发时, 这个参数会被传递给对应命令注册的回调中</span>
        <span class="token string-property property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello World&quot;</span> 
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;editorTextFocus&quot;</span> <span class="token comment">// 当编辑器聚焦时才会触发</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.keyboardTest&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>		
		<span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> arg<span class="token punctuation">.</span>text <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;快捷键触发&quot;</span> <span class="token operator">+</span> arg<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;命令触发&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>在本地窗口, 可以按下: <kbd>ctrl</kbd>+<kbd>]</kbd>就可以触发定义的<code>learn-vscode-extends.keyboardTest</code>事件</p> <blockquote><p><a href="https://code.visualstudio.com/api/references/when-clause-contexts" target="_blank" rel="noopener noreferrer">when子句<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="自定义菜单"><a href="#自定义菜单" class="header-anchor">#</a> 自定义菜单</h2> <p><a href="https://code.visualstudio.com/api/references/contribution-points#contributes.menus" target="_blank" rel="noopener noreferrer">menu<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;onCommand:hello.helloWorld&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;onCommand:hello.customMenu&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./out/extension.js&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.helloWorld&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello vscode 插件&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.customMenu&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;customMenu 启动自定义菜单&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 菜单标题</span>
      <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;avue-tools&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 分组</span>
      <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$(tools)&quot;</span> <span class="token comment">// 指定icon(当被菜单绑定时显示, 否则显示 title)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;menus&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;editor/title&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">//编辑器标题(可以配置图片, 没有则显示文本)</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.customMenu&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 点击触发事件</span>
        <span class="token property">&quot;alt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.helloWorld&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 按住 ait 键显示切换到 hello.helloWorld 命令</span>
        <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;navigation&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定分组 &quot;navigation&quot; 分组总是被排序到菜单的顶部/开头</span>
        <span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;editorFocus &amp;&amp; resourceLangId == javascript&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 编辑器具有焦点，并且打开的是JS文件才会出现</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;explorer/context&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 资源管理器右键菜单</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;an.copyCompImport&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;group&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6_copypath&quot;</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>效果如下:</p> <p><img src="images/image-20220731183742541.png" alt="image-20220731183742541"></p> <blockquote><p>还有其他菜单类型<code>editor/context</code>(编辑器右键菜单), <code>editor/title/context</code>(编辑器标题右键菜单), <code>explorer/context</code>(资源管理器右键菜单)</p></blockquote> <h2 id="添加右键子菜单"><a href="#添加右键子菜单" class="header-anchor">#</a> 添加右键子菜单</h2> <p><a href="https://code.visualstudio.com/api/references/contribution-points#contributes.submenus" target="_blank" rel="noopener noreferrer">submenus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="悬停提示"><a href="#悬停提示" class="header-anchor">#</a> 悬停提示</h2> <p>鼠标光标hover至某个代码时的提示</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;activate run ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerHoverProvider</span><span class="token punctuation">(</span>
		<span class="token punctuation">{</span> scheme<span class="token operator">:</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span> language<span class="token operator">:</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 匹配 json 文件</span>
		<span class="token punctuation">{</span>
			<span class="token function">provideHover</span><span class="token punctuation">(</span>doc<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> position<span class="token operator">:</span> vscode<span class="token punctuation">.</span>Position<span class="token punctuation">,</span> token<span class="token operator">:</span> vscode<span class="token punctuation">.</span>CancellationToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// 当前文件类型</span>
				<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>languageId<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// 文件是否未保存更改</span>
				<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>isDirty<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// 获取当前文件名</span>
				<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// 获取当前hover的单词 </span>
				<span class="token keyword">const</span> word <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span>
					doc<span class="token punctuation">.</span><span class="token function">getWordRangeAtPosition</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// 对 json 文件中的 description 单词进行悬停提示</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bdescription\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Hover</span><span class="token punctuation">(</span><span class="token string">&quot;悬停提示: 填写描述信息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>修改激活扩展设置, <code>package.json</code>文件中配置<code>activationEvents</code>添加一个<code>onLanguage:json</code>即可,</p> <p>表示当打开<code>json</code>文件时激活扩展, 即会调用<code>src/extension.ts</code>文件里的<code>activate</code>函数</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token string-property property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token string">&quot;onLanguage:json&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 当碰到 json 文件时激活扩展</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>效果如下:</p> <p><img src="/note-sites/assets/img/image-20220614151802152.23db7c60.png" alt="image-20220614151802152"></p> <h2 id="代码片段"><a href="#代码片段" class="header-anchor">#</a> 代码片段</h2> <p><a href="https://code.visualstudio.com/api/references/contribution-points#contributes.snippets" target="_blank" rel="noopener noreferrer">snippets<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>插件添加和vscode添加类似, 如下:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// papckage.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;categories&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Snippets&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 将扩展程序标记为片段扩展程序</span>
  <span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;snippets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token property">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定语言</span>
				<span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src/snippets/js.json&quot;</span> <span class="token comment">// 指定模板路径</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// ./src/snippets/js.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;这里是显示的文本&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;prefix&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 指定关键字</span>
      <span class="token string">&quot;vs&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;ve&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 等同于代码片段</span>
      <span class="token string">&quot;import * as vscode from 'vscode';&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;export default ${1}&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;自定义的snippets&quot;</span> <span class="token comment">// 描述</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>效果如下:</p> <p><img src="/note-sites/assets/img/image-20220614154800730.9a201551.png" alt="image-20220614154800730"></p> <p>下面是一些常用的代码片段语法:</p> <ul><li><code>${n}</code>: 表示是第几个光标(多个光标通过<code>tab</code>跳到下一个光标), <code>${0}</code>则表示最后一个光标</li> <li><code>${1:hello}</code>: 第一个光标中的默认值为<code>hello</code></li> <li><code>${1|one,two,three|}</code>: 第一个光标中提供三个下拉单选值, 默认为<code>one</code></li></ul> <h2 id="左侧自定义侧边栏"><a href="#左侧自定义侧边栏" class="header-anchor">#</a> 左侧自定义侧边栏</h2> <p>注意: <strong>侧边栏按钮(Tree View Container)和面板视图(Tree View)要同时配置，否则不生效</strong></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package.json</span>

<span class="token punctuation">{</span>
  <span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;viewsContainers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;activitybar&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello-sugar&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;这是侧边栏标题&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src/asstes/svg/menu.svg&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;views&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;hello-sugar&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello-Command&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;你好&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello-PackageAnalysis&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;世界&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;viewsWelcome&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 欢迎页</span>
			<span class="token punctuation">{</span>
				<span class="token property">&quot;view&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello-Command&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 对应上面的id</span>
        
        <span class="token comment">// contents 里可以使用`自定义的命令或者`vacode的内置命令`</span>
				<span class="token property">&quot;contents&quot;</span><span class="token operator">:</span> <span class="token string">&quot;这里的内容可以写markdown格式的文本, 支持命令, 支持链接\n[helloWorld](command:hello.helloWorld)\n了解更多可以查看 VS Code [scm 文档](https://aka.ms/vscode-scm)&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;config.git.enabled &amp;&amp; git.state == initialized &amp;&amp; workbenchState == empty&quot;</span> <span class="token comment">// 支持 when 子句(没有初始化git时出现)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token property">&quot;view&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello-PackageAnalysis&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;contents&quot;</span><span class="token operator">:</span> <span class="token string">&quot;这里的内容可以写markdown格式的文本, 支持命令, 支持链接\n[打开文件](command:vscode.openFolder)\n[克隆存储库](command:git.clone)\n了解更多可以查看 VS Code [scm 文档](https://aka.ms/vscode-scm)&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;when&quot;</span><span class="token operator">:</span> <span class="token string">&quot;workbenchState == empty&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>添加对应的路径<code>./src/asstes/svg/menu.svg</code>的<code>svg</code>图片资源即可, 效果如下:</p> <p><img src="/note-sites/assets/img/image-20220614163057174.341e4df1.png" alt="image-20220614163057174"></p> <p>给侧边栏添加子项, 并绑定命令</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package.json</span>

<span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 这里注册父的对应命令(给其子节点使用用)</span>
  <span class="token string">&quot;onView:Hello-Command&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;onView:Hello-PackageAnalysis&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>代码如下:</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// ./src/demo/sidebar.ts</span>

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 命令数组</span>
<span class="token keyword">const</span> scripts <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">&quot;webpack启动&quot;</span><span class="token punctuation">,</span>
    script<span class="token operator">:</span> <span class="token string">&quot;npm run serve&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">&quot;vite启动&quot;</span><span class="token punctuation">,</span>
    script<span class="token operator">:</span> <span class="token string">&quot;npm run vite&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    title<span class="token operator">:</span> <span class="token string">&quot;打包&quot;</span><span class="token punctuation">,</span>
    script<span class="token operator">:</span> <span class="token string">&quot;npm run build&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 重写每一个节点类</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SideBarEntryItem</span> <span class="token keyword">extends</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span>TreeItem <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> version<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// 版本</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> script<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 命令</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token comment">// 标题</span>
    <span class="token keyword">public</span> <span class="token keyword">readonly</span> collapsibleState<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TreeItemCollapsibleState
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> collapsibleState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 这里可以自定义保存一些数据会存到每一个子节点上面</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tooltip <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">---</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>script<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">---</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>version<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这个注册 Hello-Command 窗口对应的子节点</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SideBarHelloCommand</span>
  <span class="token keyword">implements</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span>TreeDataProvider<span class="token operator">&lt;</span>SideBarEntryItem<span class="token operator">&gt;</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> workspaceRoot<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token function">getTreeItem</span><span class="token punctuation">(</span>element<span class="token operator">:</span> SideBarEntryItem<span class="token punctuation">)</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>TreeItem <span class="token punctuation">{</span>
    <span class="token keyword">return</span> element<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 获取子节点</span>
  <span class="token function">getChildren</span><span class="token punctuation">(</span>
    element<span class="token operator">?</span><span class="token operator">:</span> SideBarEntryItem
  <span class="token punctuation">)</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>ProviderResult<span class="token operator">&lt;</span>SideBarEntryItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 存放子节点</span>
      <span class="token keyword">const</span> childrenList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> scripts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> script<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> scripts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建对应命令数组数量的子节点</span>
        <span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SideBarEntryItem</span><span class="token punctuation">(</span>
          <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 版本</span>
          script<span class="token punctuation">,</span> <span class="token comment">// 命令</span>
          title<span class="token punctuation">,</span> <span class="token comment">// 标题</span>
          vscode<span class="token punctuation">.</span>TreeItemCollapsibleState<span class="token punctuation">.</span>None
        <span class="token punctuation">)</span>
        <span class="token comment">// 注册对应 Hello-Command 父的 openChild 命令(点击子节点)</span>
        child<span class="token punctuation">.</span>command <span class="token operator">=</span> <span class="token punctuation">{</span>
          command<span class="token operator">:</span> <span class="token string">&quot;Hello-Command.openChild&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 命令id</span>
          title<span class="token operator">:</span> script<span class="token punctuation">,</span> <span class="token comment">// 命令</span>
          arguments<span class="token operator">:</span> <span class="token punctuation">[</span>script<span class="token punctuation">,</span> title<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//命令接收的参数</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 添加到 childrenList 数组中</span>
        childrenList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> childrenList
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> Collapsed <span class="token operator">=</span> vscode<span class="token punctuation">.</span>TreeItemCollapsibleState<span class="token punctuation">.</span>Collapsed<span class="token punctuation">;</span>
      <span class="token comment">//根节点</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">SideBarEntryItem</span><span class="token punctuation">(</span><span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;你好父级一&quot;</span><span class="token punctuation">,</span> Collapsed<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">SideBarEntryItem</span><span class="token punctuation">(</span><span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;你好父级二&quot;</span><span class="token punctuation">,</span> Collapsed<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// 这个注册 Hello-PackageAnalysis 窗口对应的子节点</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SideBarHelloPackageAnalysis</span>
  <span class="token keyword">implements</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span>TreeDataProvider<span class="token operator">&lt;</span>SideBarEntryItem<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> workspaceRoot<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token function">getTreeItem</span><span class="token punctuation">(</span>element<span class="token operator">:</span> SideBarEntryItem<span class="token punctuation">)</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>TreeItem <span class="token punctuation">{</span>
    <span class="token keyword">return</span> element
  <span class="token punctuation">}</span>

  <span class="token function">getChildren</span><span class="token punctuation">(</span>
    element<span class="token operator">?</span><span class="token operator">:</span> SideBarEntryItem
  <span class="token punctuation">)</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>ProviderResult<span class="token operator">&lt;</span>SideBarEntryItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//子节点</span>
      <span class="token keyword">const</span> childrenList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> scripts<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> script<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> scripts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SideBarEntryItem</span><span class="token punctuation">(</span>
          <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span> script<span class="token punctuation">,</span> title<span class="token punctuation">,</span>
          vscode<span class="token punctuation">.</span>TreeItemCollapsibleState<span class="token punctuation">.</span>None
        <span class="token punctuation">)</span>
        child<span class="token punctuation">.</span>command <span class="token operator">=</span> <span class="token punctuation">{</span>
          command<span class="token operator">:</span> <span class="token string">&quot;Hello-PackageAnalysis.openChild&quot;</span><span class="token punctuation">,</span>
          title<span class="token operator">:</span> script<span class="token punctuation">,</span>
          arguments<span class="token operator">:</span> <span class="token punctuation">[</span>child<span class="token punctuation">.</span>tooltip<span class="token punctuation">,</span> i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        childrenList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> childrenList
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">//根节点</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">SideBarEntryItem</span><span class="token punctuation">(</span>
          <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;世界父级&quot;</span><span class="token punctuation">,</span>
          vscode<span class="token punctuation">.</span>TreeItemCollapsibleState<span class="token punctuation">.</span>Collapsed<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 插件代码</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> window<span class="token operator">:</span> vsWin<span class="token punctuation">,</span> commands <span class="token punctuation">}</span> <span class="token operator">=</span> vscode<span class="token punctuation">;</span>

  <span class="token comment">// 注册侧边栏面板</span>
  <span class="token keyword">const</span> sidebarHelloCommand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SideBarHelloCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 注册父命令(对应上面的)</span>
  vsWin<span class="token punctuation">.</span><span class="token function">registerTreeDataProvider</span><span class="token punctuation">(</span><span class="token string">&quot;Hello-Command&quot;</span><span class="token punctuation">,</span> sidebarHelloCommand<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//注册子命令</span>
  commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;Hello-Command.openChild&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;[Hello-Command.openChild] 当前选中的是:&quot;</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    vsWin<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> sidebarHelloPackageAnalysis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SideBarHelloPackageAnalysis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  vsWin<span class="token punctuation">.</span><span class="token function">registerTreeDataProvider</span><span class="token punctuation">(</span><span class="token string">&quot;Hello-PackageAnalysis&quot;</span><span class="token punctuation">,</span> sidebarHelloPackageAnalysis<span class="token punctuation">)</span><span class="token punctuation">;</span>
  commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;Hello-PackageAnalysis.openChild&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;[Hello-PackageAnalysis.openChild] 当前选中的是:&quot;</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    vsWin<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br></div></div><p>然后在<code>extension.ts</code>导入调用, 效果如下:</p> <p><img src="/note-sites/assets/img/image-20220614212152918.5725b46f.png" alt="image-20220614212152918"></p> <h2 id="读取文件夹目录"><a href="#读取文件夹目录" class="header-anchor">#</a> 读取文件夹目录</h2> <p>vscode可以通过<code>vscode.workspace.workspaceFolders</code>获取当前工作区所有<strong>根文件夹数组</strong></p> <p><code>vscode.env.clipboard.writeText(text)</code>: 写入文本到剪切板</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;an-tools.hello&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取根目录数组第一个文件夹</span>
    <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token punctuation">(</span>vscode<span class="token punctuation">.</span>workspace<span class="token punctuation">.</span>workspaceFolders <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 写入到剪切板</span>
    <span class="token comment">// vscode.env.clipboard.writeText(rootPath);</span>
    vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;根目录(file)第一个为: &quot;</span> <span class="token operator">+</span> root<span class="token punctuation">.</span>uri<span class="token punctuation">.</span>fsPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="自定义插件首选项配置"><a href="#自定义插件首选项配置" class="header-anchor">#</a> 自定义插件首选项配置</h2> <p><a href="https://code.visualstudio.com/api/references/contribution-points#contributes.configuration" target="_blank" rel="noopener noreferrer">默认配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>每一个插件都可以自行添加首选项的配置, 当打开<code>vscode</code>时, 可以根据首选项选择的配置, 执行不同的逻辑</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;activationEvents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;onCommand:learn-vscode-extends.customConfig&quot;</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;commands&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token property">&quot;command&quot;</span><span class="token operator">:</span> <span class="token string">&quot;learn-vscode-extends.customConfig&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;customConfig&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;configuration&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;learn-vscode-extends&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 这里大标题对应项目名称即可, 对应的首选项会被分到一组</span>
      <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;hello.title&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 这里是副标题, 也是这个配置项的key</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 类型为字符串</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;这里是描述, 随便写&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 描述</span>
          <span class="token property">&quot;enum&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 下拉选项</span>
            <span class="token string">&quot;选项一&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;选项二&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;选项三&quot;</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;markdownEnumDescriptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 每个选择项的说明, 可以是 markdown 格式的文本, 还有 enumDescriptions 则对应普通的文本</span>
						<span class="token string">&quot;`选项一的描述文本`&quot;</span><span class="token punctuation">,</span>
						<span class="token string">&quot;*选项二的描述文本*&quot;</span><span class="token punctuation">,</span>
						<span class="token string">&quot;**选项三的描述文本**&quot;</span>
					<span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;选项三&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 默认值</span>
          <span class="token property">&quot;scope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;window&quot;</span> <span class="token comment">// 指定该配置的范围</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hello.radio&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
					<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;这是一个单选按钮&quot;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;hello.input&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我是默认的内容&quot;</span><span class="token punctuation">,</span>
					<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;这是一个文本输入框&quot;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;hello.arrayConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;scope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;window&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;数组类型的配置&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;hello.markdown&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">,</span>
					<span class="token comment">// 可以设置一些设置链接语法, 格式为: `#配置标题#` 如 `#files.autoSave#`</span>
					<span class="token property">&quot;markdownDescription&quot;</span><span class="token operator">:</span> <span class="token string">&quot;设置自动保存`#files.autoSave#`, 设置字体大小`#editor.fontSize#`, 支持markdown语法\n- `高亮`**加粗***斜体*\n- 列表1 \n- 列表2&quot;</span>
				<span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p>插件代码</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">const</span> <span class="token punctuation">{</span> showInformationMessage<span class="token punctuation">,</span> showErrorMessage <span class="token punctuation">}</span> <span class="token operator">=</span> vscode<span class="token punctuation">.</span>window<span class="token punctuation">;</span>

	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.customConfig&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

		<span class="token comment">// 通过副标题获取指定的配置</span>
		<span class="token keyword">const</span> config <span class="token operator">=</span> vscode<span class="token punctuation">.</span>workspace<span class="token punctuation">.</span><span class="token function">getConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;hello.title&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 效果同上</span>
		<span class="token comment">// const config = (vscode.workspace.getConfiguration().get(&quot;hello&quot;) as any).title;</span>

		<span class="token keyword">switch</span> <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token string">&quot;选项一&quot;</span><span class="token operator">:</span>
				<span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;匹配选项一&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">&quot;选项二&quot;</span><span class="token operator">:</span>
				<span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;匹配选项二&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">&quot;选项三&quot;</span><span class="token operator">:</span>
				<span class="token function">showInformationMessage</span><span class="token punctuation">(</span><span class="token string">&quot;匹配选项三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">default</span><span class="token operator">:</span>
				<span class="token function">showErrorMessage</span><span class="token punctuation">(</span><span class="token string">&quot;没有对应首选项&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 代码中更新配置, 最后一个参数, 为 true 表示写入全局配置, 为 false 或不传时则只写入工作区配置</span>
		vscode<span class="token punctuation">.</span>workspace<span class="token punctuation">.</span><span class="token function">getConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token string">&quot;hello.title&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;选项一&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>效果如下:</p> <p><img src="/note-sites/assets/img/image-20220918172804515.b2ba7522.png" alt="image-20220918172804515"></p> <h2 id="编辑器内容操作"><a href="#编辑器内容操作" class="header-anchor">#</a> 编辑器内容操作</h2> <h3 id="打开新的活动编辑器并插入文本"><a href="#打开新的活动编辑器并插入文本" class="header-anchor">#</a> 打开新的活动编辑器并插入文本</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.operateEditor&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

		<span class="token comment">// 执行内置的命令, 新建一个活动窗口</span>
		vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">executeCommand</span><span class="token punctuation">(</span><span class="token string">&quot;workbench.action.files.newUntitledFile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token comment">// 获取当前的编辑器对象</span>
			<span class="token keyword">const</span> textEditor<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditor <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span>activeTextEditor<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>textEditor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// 编辑模式</span>
				textEditor<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">(</span>editBuilder<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditorEdit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
					<span class="token keyword">const</span> codeStr <span class="token operator">=</span> <span class="token string">&quot;const sayHi = () =&gt; console.log(\&quot;hello world\&quot;);&quot;</span><span class="token punctuation">;</span>
					<span class="token comment">// 插入内容</span>
					editBuilder<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Position</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> codeStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// 自动切换活动文件扩展名</span>
				<span class="token comment">// vscode.commands.executeCommand(&quot;workbench.action.editor.changeLanguageMode&quot;)</span>
				<span class="token comment">// 	.then((res: any) =&gt; {</span>
				<span class="token comment">// 		console.log(&quot;语言切换完成&quot;);</span>
				<span class="token comment">// 	});</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="编辑内容"><a href="#编辑内容" class="header-anchor">#</a> 编辑内容</h3> <p>如果需要操作编辑器的内容就需要获取编辑器, 可以通过<code>registerTextEditorCommand</code>来注册命令, <code>registerTextEditorCommand</code>与<code>registerCommand</code>不同</p> <p><code>registerTextEditorCommand</code>注册的命令, 只有在编辑器被激活时调用才生效, 还有, 这个命令可以接受到<code>textEditor</code>(当前活动的编辑器)和<code>edit</code>(编辑器操作对象)</p> <blockquote><p><code>vscode.window.activeTextEditor</code>也可以获取到当前活动编辑器(<strong>如果有的话)</strong></p></blockquote> <h3 id="替换内容"><a href="#替换内容" class="header-anchor">#</a> 替换内容</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerTextEditorCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.operateEditor&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>textEditor<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditor<span class="token punctuation">,</span> edit<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditorEdit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> document <span class="token operator">=</span> textEditor<span class="token punctuation">.</span>document<span class="token punctuation">;</span>
		<span class="token comment">// 获取当前编辑器的文本</span>
		<span class="token keyword">const</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 替换指定的内容</span>
		<span class="token keyword">const</span> result <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hello</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;HELLO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 开始位置</span>
		<span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Position</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 结束位置</span>
		<span class="token keyword">const</span> end <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Position</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>lineCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> range <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 然后重新替换</span>
		edit<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 将指定文本插入到当前编辑器 11行6个字符处</span>
    <span class="token comment">// edit.insert(new vscode.Position(10, 5), &quot;测试文本&quot;);</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="获取当前编辑器的信息"><a href="#获取当前编辑器的信息" class="header-anchor">#</a> 获取当前编辑器的信息</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerTextEditorCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.operateEditor&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>textEditor<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditor<span class="token punctuation">,</span> edit<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditorEdit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		
		<span class="token keyword">const</span> document <span class="token operator">=</span> textEditor<span class="token punctuation">.</span>document<span class="token punctuation">;</span>

		<span class="token comment">// 获取当前编辑器文件的地址</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 获取编辑器所有的内容</span>
		<span class="token keyword">const</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 获取当前选中的文本</span>
		<span class="token keyword">const</span> selectText <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span>textEditor<span class="token punctuation">.</span>selection<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selectText<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 获取当前编辑器的语言</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>languageId<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 修改当前活动编辑器的语言</span>
		<span class="token comment">// vscode.languages.setTextDocumentLanguage(document, &quot;vue&quot;);</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="文字高亮显示"><a href="#文字高亮显示" class="header-anchor">#</a> 文字高亮显示</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerTextEditorCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.operateEditor&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>textEditor<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditor<span class="token punctuation">,</span> edit<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditorEdit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> decorationType <span class="token operator">=</span> vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">createTextEditorDecorationType</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			backgroundColor<span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 背景颜色</span>
			textDecoration<span class="token operator">:</span> <span class="token string">&quot;underline&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 下划线</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 第1行第2个字符到第1行第4个字符</span>
		<span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 第2行第4个字符到第2行第5个字符</span>
		<span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		textEditor<span class="token punctuation">.</span><span class="token function">setDecorations</span><span class="token punctuation">(</span>decorationType<span class="token punctuation">,</span> <span class="token punctuation">[</span>r1<span class="token punctuation">,</span> r2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20220918191140939"></p> <h2 id="打开文件并选中部分内容"><a href="#打开文件并选中部分内容" class="header-anchor">#</a> 打开文件并选中部分内容</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 打开文件选择框</span>
vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showOpenDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">&quot;请选择一个文件&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 对话框的标题</span>
  openLabel<span class="token operator">:</span> <span class="token string">&quot;打开&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 打开按钮文本</span>
  canSelectFiles<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许选择文件</span>
  canSelectFolders<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否允许选择文件夹</span>
  canSelectMany<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 允许选择多个文件或文件夹</span>
  filters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 文件筛选器</span>
    <span class="token string-property property">&quot;文本&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;md&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;img&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jpg&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tsx&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token operator">:</span> vscode<span class="token punctuation">.</span>Uri<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token comment">// 文件地址</span>
    <span class="token keyword">const</span> filePath <span class="token operator">=</span> res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path<span class="token punctuation">;</span> 
    <span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Position</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> end <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Position</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// 选中第3行第1列 到 第3行第23列</span>
      selection<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">vscode</span><span class="token punctuation">.</span><span class="token function">Range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// 是否预览，默认true，预览的意思是下次再打开文件是否会替换当前文件</span>
      preview<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// 显示在第二个编辑器</span>
      viewColumn<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ViewColumn<span class="token punctuation">.</span>Two
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 打开一个文件内容, 可以指定配置项</span>
    vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">showTextDocument</span><span class="token punctuation">(</span>vscode<span class="token punctuation">.</span>Uri<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="终端操作"><a href="#终端操作" class="header-anchor">#</a> 终端操作</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&quot;vscode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&quot;learn-vscode-extends.operateTerminal&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

		<span class="token comment">// 创建一个终端</span>
		<span class="token keyword">const</span> terminal<span class="token operator">:</span> vscode<span class="token punctuation">.</span>Terminal <span class="token operator">=</span> vscode<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">createTerminal</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			name<span class="token operator">:</span> <span class="token string">&quot;myTerminal&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 终端名称</span>
			cwd<span class="token operator">:</span> __dirname<span class="token punctuation">,</span> <span class="token comment">// 改变路径</span>
			message<span class="token operator">:</span> <span class="token string">&quot;我是插件的消息&quot;</span> <span class="token comment">// 第一次启动时会打印出来</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 发送 shell 文本到 stdin </span>
		terminal<span class="token punctuation">.</span><span class="token function">sendText</span><span class="token punctuation">(</span><span class="token string">&quot;npm -v&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 显示终端 UI</span>
		terminal<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 隐藏和销毁</span>
		<span class="token comment">// terminal.hide();</span>
		<span class="token comment">// terminal.dispose();</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>触发命令后直接效果如下:</p> <p><img src="/note-sites/assets/img/image-20220918195134923.b91afa73.png" alt="image-20220918195134923"></p> <h2 id="全局存储"><a href="#全局存储" class="header-anchor">#</a> 全局存储</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> disposable <span class="token operator">=</span> vscode<span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">registerTextEditorCommand</span><span class="token punctuation">(</span><span class="token string">&quot;an.hello&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>textEditor<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditor<span class="token punctuation">,</span> edit<span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextEditorEdit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    
		<span class="token comment">// 获取全局存储没有则使用默认值</span>
		<span class="token keyword">const</span> userName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> context<span class="token punctuation">.</span>globalState<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 更新全局存储的值</span>
		context<span class="token punctuation">.</span>globalState<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;尼古拉斯-张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> newUserName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> context<span class="token punctuation">.</span>globalState<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		context<span class="token punctuation">.</span>globalState<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token number">123456789</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 获取键组成的数组</span>
		<span class="token keyword">const</span> keys<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> context<span class="token punctuation">.</span>globalState<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 根据键值进行跨设备同步</span>
		context<span class="token punctuation">.</span>globalState<span class="token punctuation">.</span><span class="token function">setKeysForSync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
	context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>disposable<span class="token punctuation">,</span> disposable2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="打包发布"><a href="#打包发布" class="header-anchor">#</a> 打包发布</h2> <p>安装<a href="https://github.com/microsoft/vsce" target="_blank" rel="noopener noreferrer">vsce<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对应<a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> vsce <span class="token parameter variable">-g</span> <span class="token comment"># 一定要全局安装</span>

vsce package <span class="token comment"># 打包</span>
vsce login <span class="token operator">&lt;</span>publisher name<span class="token operator">&gt;</span> <span class="token comment"># 登录</span>
vsce publice <span class="token comment"># 发布</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>打包时使用的<code>@types/vscode</code>版本需要与<code>engines.vscode</code>版本对应, 然后<code>package.json</code>里需要(可选)指定<code>repository</code>字段</p> <p>打包时如果报了如下错</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Cannot <span class="token function">write</span> <span class="token function">file</span> <span class="token string">'xxx'</span> because it would overwrite input file.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>就需要在<code>tsconfig.json</code>文件里<code>exclude</code>排除掉<code>outDir</code>这个目录输出的文件</p> <p>然后打包前需要使用<code>vsce ls</code>检查一下扩展的依赖是否包含了<code>node_modules</code>里的依赖</p> <p>如果打包的时候卡在<code>watch</code>ts文件更改的话, 可以试一下把<code>tsconfig.json</code>里的<code>compilerOptions.watch</code>选项去掉</p> <blockquote><p>注意: vsce在执行打包时不会打包<code>devDependencies</code>里的依赖</p></blockquote></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-bac73764 data-v-c0d124fa><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#ui界面分类" class="sidebar-link reco-side-ui界面分类" data-v-bac73764>UI界面分类</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#扩展方向" class="sidebar-link reco-side-扩展方向" data-v-bac73764>扩展方向</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#hello-world" class="sidebar-link reco-side-hello-world" data-v-bac73764>hello world</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#环境准备" class="sidebar-link reco-side-环境准备" data-v-bac73764>环境准备</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#初始化" class="sidebar-link reco-side-初始化" data-v-bac73764>初始化</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#命令" class="sidebar-link reco-side-命令" data-v-bac73764>命令</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#执行命令" class="sidebar-link reco-side-执行命令" data-v-bac73764>执行命令</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#获取命令" class="sidebar-link reco-side-获取命令" data-v-bac73764>获取命令</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#通知和状态栏" class="sidebar-link reco-side-通知和状态栏" data-v-bac73764>通知和状态栏</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#通知" class="sidebar-link reco-side-通知" data-v-bac73764>通知</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#状态栏" class="sidebar-link reco-side-状态栏" data-v-bac73764>状态栏</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#接受输入内容" class="sidebar-link reco-side-接受输入内容" data-v-bac73764>接受输入内容</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#快速选择框" class="sidebar-link reco-side-快速选择框" data-v-bac73764>快速选择框</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#自定义webview欢迎页面" class="sidebar-link reco-side-自定义webview欢迎页面" data-v-bac73764>自定义WebView欢迎页面</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#加载本地资源" class="sidebar-link reco-side-加载本地资源" data-v-bac73764>加载本地资源</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#消息通知" class="sidebar-link reco-side-消息通知" data-v-bac73764>消息通知</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#保存状态" class="sidebar-link reco-side-保存状态" data-v-bac73764>保存状态</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#快捷键绑定" class="sidebar-link reco-side-快捷键绑定" data-v-bac73764>快捷键绑定</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#自定义菜单" class="sidebar-link reco-side-自定义菜单" data-v-bac73764>自定义菜单</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#添加右键子菜单" class="sidebar-link reco-side-添加右键子菜单" data-v-bac73764>添加右键子菜单</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#悬停提示" class="sidebar-link reco-side-悬停提示" data-v-bac73764>悬停提示</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#代码片段" class="sidebar-link reco-side-代码片段" data-v-bac73764>代码片段</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#左侧自定义侧边栏" class="sidebar-link reco-side-左侧自定义侧边栏" data-v-bac73764>左侧自定义侧边栏</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#读取文件夹目录" class="sidebar-link reco-side-读取文件夹目录" data-v-bac73764>读取文件夹目录</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#自定义插件首选项配置" class="sidebar-link reco-side-自定义插件首选项配置" data-v-bac73764>自定义插件首选项配置</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#编辑器内容操作" class="sidebar-link reco-side-编辑器内容操作" data-v-bac73764>编辑器内容操作</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#打开新的活动编辑器并插入文本" class="sidebar-link reco-side-打开新的活动编辑器并插入文本" data-v-bac73764>打开新的活动编辑器并插入文本</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#编辑内容" class="sidebar-link reco-side-编辑内容" data-v-bac73764>编辑内容</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#替换内容" class="sidebar-link reco-side-替换内容" data-v-bac73764>替换内容</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#获取当前编辑器的信息" class="sidebar-link reco-side-获取当前编辑器的信息" data-v-bac73764>获取当前编辑器的信息</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#文字高亮显示" class="sidebar-link reco-side-文字高亮显示" data-v-bac73764>文字高亮显示</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#打开文件并选中部分内容" class="sidebar-link reco-side-打开文件并选中部分内容" data-v-bac73764>打开文件并选中部分内容</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#终端操作" class="sidebar-link reco-side-终端操作" data-v-bac73764>终端操作</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#全局存储" class="sidebar-link reco-side-全局存储" data-v-bac73764>全局存储</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Electron/VS%20Code.html#打包发布" class="sidebar-link reco-side-打包发布" data-v-bac73764>打包发布</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-2a01419c data-v-2a01419c><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-2a01419c><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-2a01419c></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-2a01419c></path></svg></div></div></div>
    <script src="/note-sites/assets/js/app.6e0c8c06.js" defer></script><script src="/note-sites/assets/js/5.83e8f80b.js" defer></script><script src="/note-sites/assets/js/1.9e97c91a.js" defer></script><script src="/note-sites/assets/js/7.77d4009d.js" defer></script>
  </body>
</html>
