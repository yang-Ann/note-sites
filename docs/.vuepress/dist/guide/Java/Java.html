<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java | An的个人笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/note-sites/favicon.ico">
    <script type="module" src="/note-sites/js/index.js"></script>
    <meta name="description" content="记录学习笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/note-sites/assets/css/0.styles.a5e0cdd4.css" as="style"><link rel="preload" href="/note-sites/assets/js/app.f337d569.js" as="script"><link rel="preload" href="/note-sites/assets/js/5.2f78da70.js" as="script"><link rel="preload" href="/note-sites/assets/js/1.9e97c91a.js" as="script"><link rel="preload" href="/note-sites/assets/js/6.36a59bb1.js" as="script"><link rel="prefetch" href="/note-sites/assets/js/10.85cb6931.js"><link rel="prefetch" href="/note-sites/assets/js/11.bae2598b.js"><link rel="prefetch" href="/note-sites/assets/js/12.0d093b2d.js"><link rel="prefetch" href="/note-sites/assets/js/13.cc79bc08.js"><link rel="prefetch" href="/note-sites/assets/js/14.8de942ae.js"><link rel="prefetch" href="/note-sites/assets/js/15.457d2ae0.js"><link rel="prefetch" href="/note-sites/assets/js/16.9d979bf1.js"><link rel="prefetch" href="/note-sites/assets/js/17.a9bd7734.js"><link rel="prefetch" href="/note-sites/assets/js/18.e11cb2d3.js"><link rel="prefetch" href="/note-sites/assets/js/19.61f852e8.js"><link rel="prefetch" href="/note-sites/assets/js/20.5d618384.js"><link rel="prefetch" href="/note-sites/assets/js/21.8de5809e.js"><link rel="prefetch" href="/note-sites/assets/js/22.24a035d7.js"><link rel="prefetch" href="/note-sites/assets/js/23.fe0e18f1.js"><link rel="prefetch" href="/note-sites/assets/js/24.695a18ff.js"><link rel="prefetch" href="/note-sites/assets/js/25.3ceda7f8.js"><link rel="prefetch" href="/note-sites/assets/js/26.0052c128.js"><link rel="prefetch" href="/note-sites/assets/js/27.837da0ae.js"><link rel="prefetch" href="/note-sites/assets/js/28.3c4594ef.js"><link rel="prefetch" href="/note-sites/assets/js/29.e039d35e.js"><link rel="prefetch" href="/note-sites/assets/js/3.2ab39145.js"><link rel="prefetch" href="/note-sites/assets/js/30.3a2e1ba0.js"><link rel="prefetch" href="/note-sites/assets/js/31.a814529e.js"><link rel="prefetch" href="/note-sites/assets/js/32.2847840b.js"><link rel="prefetch" href="/note-sites/assets/js/33.343d8fb2.js"><link rel="prefetch" href="/note-sites/assets/js/34.d9681815.js"><link rel="prefetch" href="/note-sites/assets/js/35.30b7c2e4.js"><link rel="prefetch" href="/note-sites/assets/js/36.7d030294.js"><link rel="prefetch" href="/note-sites/assets/js/37.b1b086c1.js"><link rel="prefetch" href="/note-sites/assets/js/38.7011321b.js"><link rel="prefetch" href="/note-sites/assets/js/39.7c69b2e6.js"><link rel="prefetch" href="/note-sites/assets/js/4.516286bd.js"><link rel="prefetch" href="/note-sites/assets/js/40.87efcd2a.js"><link rel="prefetch" href="/note-sites/assets/js/41.ffae0666.js"><link rel="prefetch" href="/note-sites/assets/js/42.9769c063.js"><link rel="prefetch" href="/note-sites/assets/js/43.46228310.js"><link rel="prefetch" href="/note-sites/assets/js/44.e59fb071.js"><link rel="prefetch" href="/note-sites/assets/js/7.c1b52aa5.js"><link rel="prefetch" href="/note-sites/assets/js/8.fe1371a3.js"><link rel="prefetch" href="/note-sites/assets/js/9.a9dfe185.js">
    <link rel="stylesheet" href="/note-sites/assets/css/0.styles.a5e0cdd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-c0d124fa><div data-v-c0d124fa><div class="password-shadow password-wrapper-out" style="display:none;" data-v-30dff670 data-v-c0d124fa data-v-c0d124fa><h3 class="title" data-v-30dff670>An的个人笔记</h3> <p class="description" data-v-30dff670>记录学习笔记</p> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-c0d124fa><header class="navbar" data-v-c0d124fa><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-sites/" class="home-link router-link-active"><!----> <span class="site-name">An的个人笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c0d124fa></div> <aside class="sidebar" data-v-c0d124fa><div class="personal-info-wrapper" data-v-5c49c935 data-v-c0d124fa><img src="/note-sites/assets/img/logo.png" alt="author-avatar" class="personal-img" data-v-5c49c935> <h3 class="name" data-v-5c49c935>
    An
  </h3> <div class="num" data-v-5c49c935><div data-v-5c49c935><h3 data-v-5c49c935>33</h3> <h6 data-v-5c49c935>文章</h6></div> <div data-v-5c49c935><h3 data-v-5c49c935>26</h3> <h6 data-v-5c49c935>标签</h6></div></div> <ul class="social-links" data-v-5c49c935><li class="social-item" data-v-5c49c935><i class="iconfont reco-github" style="color:#abbd81;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-mayun" style="color:#f8b26a;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-juejin" style="color:#fb9b5f;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-npm" style="color:#67cc86;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-bilibili" style="color:#f47e60;" data-v-5c49c935></i></li></ul> <hr data-v-5c49c935></div> <nav class="nav-links"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-30dff670 data-v-c0d124fa><h3 class="title" data-v-30dff670>Java</h3> <!----> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-c0d124fa><div data-v-c0d124fa><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Java</h1> <div data-v-7b22c628><i class="iconfont reco-account" data-v-7b22c628><span data-v-7b22c628>An</span></i> <i class="iconfont reco-date" data-v-7b22c628><span data-v-7b22c628>2022/5/18</span></i> <!----> <i class="tags iconfont reco-tag" data-v-7b22c628><span class="tag-item" data-v-7b22c628>Java</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="java"><a href="#java" class="header-anchor">#</a> Java</h1> <p>Java 是由 Sun Microsystems 公司于 1995 年推出的一门面向对象程序设计语言; 2010 年 Oracle(甲骨文)公司收购 Sun Microsystems, 之后由 Oracle 公司负责 Java 的维护和版本升级</p> <p>Java 还是一个平台; Java 平台由 **Java 虚拟机(JVM)**和 **Java 应用编程接口(API)**构成; Java 应用编程接口为此提供了一个独立于操作系统的标准接口, 可分为基本部分和扩展部分; 在硬件或操作系统平台上安装一个 Java 平台之后, Java 应用程序就可运行</p> <blockquote><p><a href="https://docs.oracle.com/javase/tutorial/" target="_blank" rel="noopener noreferrer">Java官方教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,</p> <p><a href="https://docs.oracle.com/javase/8/docs/" target="_blank" rel="noopener noreferrer">Java8标准文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.runoob.com/manual/jdk11api/" target="_blank" rel="noopener noreferrer">Java11中文API文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#java-体系">Java 体系</a><ul><li><a href="#java-se">Java SE</a></li><li><a href="#java-ee">Java EE</a></li><li><a href="#java-me">Java ME</a></li></ul></li><li><a href="#环境搭建">环境搭建</a><ul><li><a href="#jdk下载">JDK下载</a><ul><li><a href="#jdk目录介绍">JDK目录介绍</a></li><li><a href="#环境变量配置">环境变量配置</a></li></ul></li></ul></li><li><a href="#helloword">HelloWord</a><ul><li><a href="#编译运行">编译运行</a></li><li><a href="#执行流程">执行流程</a></li><li><a href="#jvm、jre和jdk">JVM、JRE和JDK</a></li></ul></li><li><a href="#集成开发工具">集成开发工具</a><ul><li><a href="#idea中的项目结构">IDEA中的项目结构</a><ul><li><a href="#项目结构操作">项目结构操作</a></li></ul></li></ul></li><li><a href="#数据类型">数据类型</a><ul><li><a href="#计算机的数据单位">计算机的数据单位</a></li><li><a href="#基本数据类型">基本数据类型</a></li><li><a href="#引用数据类型">引用数据类型</a></li><li><a href="#变量使用">变量使用</a></li></ul></li><li><a href="#类型转换">类型转换</a><ul><li><a href="#自动类型转换">自动类型转换</a></li><li><a href="#强制类型转换">强制类型转换</a></li></ul></li><li><a href="#内置包装类">内置包装类</a><ul><li><a href="#装箱和拆箱">装箱和拆箱</a></li><li><a href="#包装类的应用">包装类的应用</a><ul><li><a href="#int-和-integer-相互转换">int 和 integer 相互转换</a></li><li><a href="#将字符串转换为数值类型">将字符串转换为数值类型</a></li><li><a href="#整数转换为字符串">整数转换为字符串</a></li></ul></li></ul></li><li><a href="#运算">运算</a><ul><li><a href="#数值类型的运算">数值类型的运算</a></li><li><a href="#整数溢出">整数溢出</a></li><li><a href="#浮动数溢出">浮动数溢出</a></li><li><a href="#hellowrold">HelloWrold</a></li></ul></li><li><a href="#数组">数组</a><ul><li><a href="#数组的初始化">数组的初始化</a><ul><li><a href="#动态初始化">动态初始化</a></li><li><a href="#内存分配">内存分配</a></li><li><a href="#栈">栈</a></li><li><a href="#堆">堆</a></li><li><a href="#静态初始化">静态初始化</a></li><li><a href="#命令行参数">命令行参数</a></li></ul></li><li><a href="#多维数组">多维数组</a></li><li><a href="#数组工具类arrays">数组工具类Arrays</a><ul><li><a href="#快速创建指定元素的集合">快速创建指定元素的集合</a></li><li><a href="#打印数组内容">打印数组内容</a></li><li><a href="#数组排序">数组排序</a></li><li><a href="#比较数组">比较数组</a></li><li><a href="#数组填充">数组填充</a></li><li><a href="#查找指定元素">查找指定元素</a></li><li><a href="#拷贝数组">拷贝数组</a></li></ul></li></ul></li><li><a href="#方法">方法</a><ul><li><a href="#方法重载">方法重载</a></li><li><a href="#方法参数传递">方法参数传递</a></li></ul></li><li><a href="#debug">Debug</a><ul><li><a href="#查看方法源码位置">查看方法源码位置</a></li></ul></li><li><a href="#scanner">Scanner</a></li><li><a href="#random">Random</a></li><li><a href="#math">Math</a><ul><li><a href="#求最大值、最小值和绝对值">求最大值、最小值和绝对值</a></li><li><a href="#求整运算">求整运算</a></li><li><a href="#三角函数运算">三角函数运算</a></li><li><a href="#指数运算">指数运算</a></li><li><a href="#数字格式化">数字格式化</a></li><li><a href="#大数字计算">大数字计算</a><ul><li><a href="#biginteger">BigInteger</a></li><li><a href="#bigdecimal">BigDecimal</a></li></ul></li></ul></li><li><a href="#system">System</a><ul><li><a href="#system-out">System.out</a></li><li><a href="#常用方法">常用方法</a><ul><li><a href="#exit">exit()</a></li><li><a href="#currenttimemillis">currentTimeMillis()</a></li><li><a href="#gc">gc()</a></li><li><a href="#getproperty">getProperty()</a></li></ul></li></ul></li><li><a href="#string">String</a><ul><li><a href="#string的构造方法">String的构造方法</a></li><li><a href="#string的特点">String的特点</a></li><li><a href="#string比较">String比较</a></li><li><a href="#string遍历">String遍历</a></li><li><a href="#常用方法">常用方法</a></li><li><a href="#stringbuilder">StringBuilder</a><ul><li><a href="#stringbuilder添加与反转">StringBuilder添加与反转</a></li><li><a href="#stringbuilder-和-string-相互转换">StringBuilder 和 String 相互转换</a></li></ul></li></ul></li><li><a href="#日期处理">日期处理</a><ul><li><a href="#date">Date</a></li><li><a href="#simpledateformat">SimpleDateFormat</a><ul><li><a href="#格式化-date-string">格式化(Date -&gt; String)</a></li><li><a href="#解析-string-date">解析(String -&gt; Date)</a></li></ul></li><li><a href="#calendar">Calendar</a></li></ul></li><li><a href="#正则表达式">正则表达式</a><ul><li><a href="#pattern-和-matcher">Pattern 和 Matcher</a></li></ul></li><li><a href="#集合">集合</a><ul><li><a href="#collection">Collection</a><ul><li><a href="#常用方法">常用方法</a></li><li><a href="#collection-的遍历">Collection 的遍历</a></li></ul></li><li><a href="#list">List</a><ul><li><a href="#list集合特有方法">List集合特有方法</a></li><li><a href="#list集合子类的特点">List集合子类的特点</a></li></ul></li><li><a href="#arraylist">ArrayList</a><ul><li><a href="#基本方法使用">基本方法使用</a></li><li><a href="#其他方法">其他方法</a></li></ul></li><li><a href="#并发修改异常">并发修改异常</a></li><li><a href="#listiterator">ListIterator</a><ul><li><a href="#常用方法">常用方法</a><ul><li><a href="#正向遍历和反向遍历">正向遍历和反向遍历</a></li><li><a href="#迭代器修改集合">迭代器修改集合</a></li></ul></li></ul></li><li><a href="#forearch循环">forEarch循环</a></li><li><a href="#数据结构">数据结构</a><ul><li><a href="#栈">栈</a></li><li><a href="#队列">队列</a></li><li><a href="#数组">数组</a></li><li><a href="#链表">链表</a></li><li><a href="#哈希表">哈希表</a></li></ul></li><li><a href="#linkedlist">LinkedList</a><ul><li><a href="#基本方法使用">基本方法使用</a></li></ul></li><li><a href="#set">Set</a><ul><li><a href="#hashset">HashSet</a></li><li><a href="#set方法的基本使用">Set方法的基本使用</a></li><li><a href="#哈希值">哈希值</a></li></ul></li><li><a href="#linkedhashset">LinkedHashSet</a></li><li><a href="#treeset">TreeSet</a><ul><li><a href="#自然排序的基本使用">自然排序的基本使用</a></li><li><a href="#比较器排序的基本使用">比较器排序的基本使用</a></li></ul></li><li><a href="#map">Map</a><ul><li><a href="#集合常用方法">集合常用方法</a></li><li><a href="#map的遍历">Map的遍历</a><ul><li><a href="#keyset-和values">keySet()和values()</a></li><li><a href="#entryset-遍历map">entrySet()遍历Map</a></li></ul></li><li><a href="#map的基本使用思路">Map的基本使用思路</a></li><li><a href="#arraylist存储hashmap并遍历">ArrayList存储HashMap并遍历</a></li><li><a href="#hashmap存储arraylist并遍历">HashMap存储ArrayList并遍历</a></li></ul></li><li><a href="#treemap">TreeMap</a></li><li><a href="#collections">Collections</a><ul><li><a href="#常用方法">常用方法</a></li></ul></li></ul></li><li><a href="#泛型">泛型</a><ul><li><a href="#泛型约束集合类型">泛型约束集合类型</a></li><li><a href="#泛型类">泛型类</a></li><li><a href="#泛型方法">泛型方法</a></li><li><a href="#泛型接口">泛型接口</a></li><li><a href="#类型通配符">类型通配符</a><ul><li><a href="#指定类型通配符的上限">指定类型通配符的上限</a></li><li><a href="#指定类型通配符的下限">指定类型通配符的下限</a></li></ul></li><li><a href="#可变参数">可变参数</a><ul><li><a href="#可变参数方法">可变参数方法</a><ul><li><a href="#list-of">List.of()</a></li><li><a href="#set-of">Set.of()</a></li></ul></li></ul></li></ul></li><li><a href="#object">Object</a><ul><li><a href="#tostring">toString()</a></li><li><a href="#equals">equals()</a></li><li><a href="#getclass">getClass()</a></li><li><a href="#hashcode">hashCode()</a></li><li><a href="#接收任意引用类型的对象">接收任意引用类型的对象</a></li></ul></li><li><a href="#类和对象">类和对象</a><ul><li><a href="#类">类</a><ul><li><a href="#类的基本使用">类的基本使用</a></li><li><a href="#this变量">this变量</a></li><li><a href="#成员变量和局部变量">成员变量和局部变量</a><ul><li><a href="#成员变量">成员变量</a></li><li><a href="#局部变量">局部变量</a></li><li><a href="#成员变量和局部变量的区别">成员变量和局部变量的区别</a></li></ul></li></ul></li><li><a href="#修饰符">修饰符</a><ul><li><a href="#访问修饰符">访问修饰符</a><ul><li><a href="#private">private</a></li></ul></li><li><a href="#状态修饰符">状态修饰符</a><ul><li><a href="#final">final</a></li><li><a href="#final-修饰类的特点">final 修饰类的特点</a></li></ul></li><li><a href="#static">static</a></li><li><a href="#static-的访问特点">static 的访问特点</a></li></ul></li><li><a href="#构造方法">构造方法</a></li><li><a href="#标准类的制作">标准类的制作</a></li><li><a href="#继承">继承</a><ul><li><a href="#阻止继承">阻止继承</a></li><li><a href="#区分继承和组合">区分继承和组合</a></li></ul></li><li><a href="#重写">重写</a></li><li><a href="#多态">多态</a><ul><li><a href="#多态的访问特点">多态的访问特点</a></li><li><a href="#多态的好处和弊端">多态的好处和弊端</a></li><li><a href="#instanceof">instanceof</a></li></ul></li><li><a href="#抽象类">抽象类</a><ul><li><a href="#抽象类的特点">抽象类的特点</a></li></ul></li><li><a href="#内部类">内部类</a><ul><li><a href="#内部类的分类">内部类的分类</a></li><li><a href="#成员内部类">成员内部类</a></li><li><a href="#内部局部类">内部局部类</a></li><li><a href="#匿名内部类">匿名内部类</a><ul><li><a href="#匿名内部类在开发中的使用">匿名内部类在开发中的使用</a></li></ul></li></ul></li></ul></li><li><a href="#接口">接口</a><ul><li><a href="#接口的成员特点">接口的成员特点</a></li><li><a href="#接口和抽象类的一起使用">接口和抽象类的一起使用</a></li><li><a href="#类和接口的关系">类和接口的关系</a></li><li><a href="#抽象类和接口的区别">抽象类和接口的区别</a></li><li><a href="#接口中的默认方法">接口中的默认方法</a></li><li><a href="#接口的静态方法">接口的静态方法</a></li><li><a href="#接口中的私有方法">接口中的私有方法</a></li><li><a href="#函数式接口">函数式接口</a></li></ul></li><li><a href="#形参和返回值">形参和返回值</a><ul><li><a href="#类名作为形参和返回值">类名作为形参和返回值</a></li><li><a href="#抽象类名作为形参和返回值">抽象类名作为形参和返回值</a></li><li><a href="#接口名作为形参和返回值">接口名作为形参和返回值</a></li></ul></li><li><a href="#包">包</a><ul><li><a href="#java-包的命名规则">Java 包的命名规则</a></li><li><a href="#导包">导包</a><ul><li><a href="#通过类的完整路径使用">通过类的完整路径使用</a></li><li><a href="#使用-import-导包">使用import导包</a></li><li><a href="#import-static">import static</a></li><li><a href="#通配符-导入">通配符*导入</a></li></ul></li><li><a href="#编译器查找类的规则">编译器查找类的规则</a></li><li><a href="#默认导入的包">默认导入的包</a></li><li><a href="#系统包">系统包</a></li></ul></li><li><a href="#异常">异常</a><ul><li><a href="#异常处理">异常处理</a><ul><li><a href="#try-catch">try/catch</a></li><li><a href="#throws">throws</a></li><li><a href="#自定义异常">自定义异常</a></li><li><a href="#多异常处理">多异常处理</a></li></ul></li><li><a href="#throwable">Throwable</a></li><li><a href="#编译时异常和运行时异常">编译时异常和运行时异常</a></li><li><a href="#常见异常类型">常见异常类型</a></li><li><a href="#自定义异常">自定义异常</a></li><li><a href="#throws-和-throw">throws 和 throw</a></li></ul></li><li><a href="#枚举">枚举</a><ul><li><a href="#枚举类">枚举类</a></li></ul></li><li><a href="#file">File</a><ul><li><a href="#file的字段">File的字段</a></li><li><a href="#创建文件或目录的方法">创建文件或目录的方法</a></li><li><a href="#file类的判断和获取功能">File类的判断和获取功能</a></li><li><a href="#file删除方法">File删除方法</a><ul><li><a href="#递归删除文件">递归删除文件</a></li></ul></li></ul></li><li><a href="#io流">IO流</a><ul><li><a href="#字节流">字节流</a><ul><li><a href="#字节流读取数据">字节流读取数据</a><ul><li><a href="#一次读取一个字节数据">一次读取一个字节数据</a></li><li><a href="#字节流复制数据">字节流复制数据</a></li><li><a href="#一次读取一个字节数组长度的数据">一次读取一个字节数组长度的数据</a></li><li><a href="#字节数组循环读取">字节数组循环读取</a></li><li><a href="#字节数组复制数据">字节数组复制数据</a></li></ul></li><li><a href="#字节流写入数据">字节流写入数据</a><ul><li><a href="#字节流写入数据的3种方式">字节流写入数据的3种方式</a></li><li><a href="#字节流写入数据的问题">字节流写入数据的问题</a><ul><li><a href="#如何换行">如何换行</a></li><li><a href="#追加数据写入">追加数据写入</a></li><li><a href="#字节流的完整异常处理">字节流的完整异常处理</a></li></ul></li></ul></li><li><a href="#字节缓冲流">字节缓冲流</a></li><li><a href="#字节流小结">字节流小结</a></li></ul></li><li><a href="#字符流">字符流</a><ul><li><a href="#编码表">编码表</a></li><li><a href="#字符串中的编码解码操作">字符串中的编码解码操作</a></li><li><a href="#字符流中的编码解码类">字符流中的编码解码类</a></li><li><a href="#outputstreamwriter">OutputStreamWriter</a></li><li><a href="#inputstreamreader">InputStreamReader</a></li><li><a href="#字符流读数据">字符流读数据</a></li><li><a href="#字符流写数据">字符流写数据</a></li><li><a href="#字符流简便子类">字符流简便子类</a></li><li><a href="#字符缓冲流">字符缓冲流</a><ul><li><a href="#字符缓冲流读写数据">字符缓冲流读写数据</a></li><li><a href="#字符缓冲流的特有功能">字符缓冲流的特有功能</a></li></ul></li><li><a href="#字符流小结">字符流小结</a></li></ul></li><li><a href="#字节流复制文件目录">字节流复制文件目录</a></li><li><a href="#io流操作的异常处理">IO流操作的异常处理</a><ul><li><a href="#try-catch-fanlly">try...catch...fanlly</a></li><li><a href="#try-catch语法">try()...catch语法</a><ul><li><a href="#jdk7改进语法">JDK7改进语法</a></li><li><a href="#jdk9改进语法">JDK9改进语法</a></li></ul></li></ul></li><li><a href="#标准输入输出流">标准输入输出流</a><ul><li><a href="#标准输入流的用法">标准输入流的用法</a><ul><li><a href="#使用字节流实现键盘录入">使用字节流实现键盘录入</a></li><li><a href="#scanner">Scanner</a></li></ul></li><li><a href="#标准输出流的用法">标准输出流的用法</a></li></ul></li><li><a href="#特殊操作流">特殊操作流</a><ul><li><a href="#打印流">打印流</a><ul><li><a href="#字节打印流">字节打印流</a></li><li><a href="#字符打印流">字符打印流</a></li></ul></li><li><a href="#对象序列化流">对象序列化流</a><ul><li><a href="#对象序列化流">对象序列化流</a></li><li><a href="#对象反序列化流">对象反序列化流</a></li><li><a href="#对象序列化问题">对象序列化问题</a></li></ul></li><li><a href="#properties">Properties</a><ul><li><a href="#properties作为集合的特有方法">Properties作为集合的特有方法</a></li><li><a href="#properties和io流结合的方法">Properties和IO流结合的方法</a></li></ul></li></ul></li></ul></li><li><a href="#多线程">多线程</a><ul><li><a href="#进程">进程</a></li><li><a href="#线程">线程</a></li><li><a href="#继承thread实现多线程">继承Thread实现多线程</a></li><li><a href="#设置和获取线程名称">设置和获取线程名称</a></li><li><a href="#线程调度">线程调度</a></li><li><a href="#线程控制">线程控制</a></li><li><a href="#线程的生命周期">线程的生命周期</a></li><li><a href="#实现runnable接口实现多线程">实现Runnable接口实现多线程</a></li><li><a href="#线程同步">线程同步</a><ul><li><a href="#同步代码块">同步代码块</a></li><li><a href="#同步方法">同步方法</a></li><li><a href="#线程安全的类">线程安全的类</a></li></ul></li><li><a href="#lock锁">Lock锁</a></li><li><a href="#生产者消费者模式">生产者消费者模式</a><ul><li><a href="#生产者和消费者模型的基本使用">生产者和消费者模型的基本使用:</a></li></ul></li></ul></li><li><a href="#网络编程">网络编程</a><ul><li><a href="#网络编程三要素">网络编程三要素</a><ul><li><a href="#ip地址">IP地址</a><ul><li><a href="#inetaddress">InetAddress</a></li></ul></li><li><a href="#端口">端口</a></li><li><a href="#协议">协议</a><ul><li><a href="#udp协议">UDP协议</a></li><li><a href="#tcp协议">TCP协议</a></li></ul></li></ul></li><li><a href="#udp协议的使用">UDP协议的使用</a></li><li><a href="#tcp协议的使用">TCP协议的使用</a><ul><li><a href="#tcp协议的数据互相发送">TCP协议的数据互相发送</a></li><li><a href="#tcp协议上传文件">TCP协议上传文件</a></li></ul></li></ul></li><li><a href="#lambda表达式">Lambda表达式</a><ul><li><a href="#简单例子">简单例子</a></li><li><a href="#lambda和匿名内部类的区别">Lambda和匿名内部类的区别</a></li><li><a href="#变量作用域">变量作用域</a></li><li><a href="#方法引用">方法引用</a><ul><li><a href="#引用类方法">引用类方法</a></li><li><a href="#引用对象的实例方法">引用对象的实例方法</a></li><li><a href="#引用类的实例方法">引用类的实例方法</a></li><li><a href="#引用构造器">引用构造器</a></li></ul></li><li><a href="#函数式接口">函数式接口</a><ul><li><a href="#函数式接口作为返回值返回">函数式接口作为返回值返回</a></li><li><a href="#常用的函数式接口">常用的函数式接口</a></li><li><a href="#supplier接口">Supplier接口</a></li><li><a href="#consumer接口">Consumer接口</a></li><li><a href="#predicate接口">Predicate接口</a></li><li><a href="#function接口">Function接口</a></li></ul></li></ul></li><li><a href="#stream">Stream</a><ul><li><a href="#体验stream流">体验Stream流</a></li><li><a href="#stream流的使用">Stream流的使用</a></li><li><a href="#stream流的生成方式">Stream流的生成方式</a></li><li><a href="#stream常用操作方法">Stream常用操作方法</a><ul><li><a href="#过滤和截取方法">过滤和截取方法</a></li><li><a href="#流的合并和去重方法">流的合并和去重方法</a></li><li><a href="#排序方法">排序方法</a></li><li><a href="#操作流中的元素和转换流的方法">操作流中的元素和转换流的方法</a></li></ul></li><li><a href="#stream常用终结方法">Stream常用终结方法</a></li><li><a href="#stream收集方法">Stream收集方法</a></li></ul></li><li><a href="#反射">反射</a><ul><li><a href="#类加载">类加载</a><ul><li><a href="#类加载器">类加载器</a></li><li><a href="#加载器类">加载器类</a></li></ul></li><li><a href="#反射概述">反射概述</a></li><li><a href="#获取class类的对象">获取Class类的对象</a></li><li><a href="#反射构造方法">反射构造方法</a></li><li><a href="#反射字段">反射字段</a><ul><li><a href="#获取字段值">获取字段值</a></li><li><a href="#设置值">设置值</a></li></ul></li><li><a href="#反射方法">反射方法</a><ul><li><a href="#调用方法">调用方法</a></li><li><a href="#调用静态方法">调用静态方法</a></li><li><a href="#调用非public方法">调用非public方法</a></li><li><a href="#反射多态">反射多态</a></li><li><a href="#使用反射可以越过泛型">使用反射可以越过泛型</a></li></ul></li><li><a href="#反射获取继承关系">反射获取继承关系</a><ul><li><a href="#获取父类的class">获取父类的Class</a></li><li><a href="#获取interface">获取interface</a></li><li><a href="#继承关系">继承关系</a></li></ul></li><li><a href="#动态代理">动态代理</a></li></ul></li><li><a href="#注解">注解</a><ul><li><a href="#注解的作用">注解的作用</a></li></ul></li><li><a href="#模块化">模块化</a><ul><li><a href="#模块服务">模块服务</a></li></ul></li><li><a href="#maven">maven</a><ul><li><a href="#maven项目结构">Maven项目结构</a><ul><li><a href="#pom-xml">pom.xml</a></li></ul></li><li><a href="#安装maven">安装Maven</a><ul><li><a href="#依赖管理">依赖管理</a></li></ul></li><li><a href="#依赖关系">依赖关系</a></li><li><a href="#唯一id">唯一ID</a></li><li><a href="#maven镜像">Maven镜像</a></li></ul></li><li><a href="#web开发">WEB开发</a><ul><li><a href="#新建web项目">新建web项目</a></li><li><a href="#servlet">Servlet</a><ul><li><a href="#本地访问">本地访问</a></li></ul></li><li><a href="#servlet进阶">Servlet进阶</a></li><li><a href="#httpservletrequest">HttpServletRequest</a></li></ul></li></ul></div><p></p> <h2 id="java-体系"><a href="#java-体系" class="header-anchor">#</a> Java 体系</h2> <p>按应用范围, Java 可分为 3 个体系, 即 <code>Java SE</code>,<code>Java EE</code> 和 <code>Java ME</code></p> <h3 id="java-se"><a href="#java-se" class="header-anchor">#</a> Java SE</h3> <p>**Java SE(Java Platform Standard Edition, Java 平台标准版)**以前称为 <strong>J2SE</strong>, 它允许开发和部署在桌面、服务器、嵌入式环境和实时环境中使用的 Java 应用程序; Java SE 包含了支持 Java Web 服务开发的类, 并为 Java EE 提供基础, 如 Java 语言基础、JDBC 操作、I/O 操作、网络通信以及多线程等技术</p> <p>Java SE的体系结构图如下:</p> <p><img src="/note-sites/assets/img/image-20220412150902402.283cee1e.png" alt="image-20220412150902402"></p> <h3 id="java-ee"><a href="#java-ee" class="header-anchor">#</a> Java EE</h3> <p>**Java EE(Java Platform Enterprise Edition, Java 平台企业版)**以前称为 <strong>J2EE</strong>; 企业版本帮助开发和部署可移植、健壮、可伸缩且安全的服务器端 Java 应用程序; Java EE 是在 Java SE 基础上构建的, 它提供 Web 服务、组件模型、管理和通信 API, 可以用来实现企业级的面向服务体系结构(SOA)和 Web 2.0 应用程序</p> <h3 id="java-me"><a href="#java-me" class="header-anchor">#</a> Java ME</h3> <p>**Java ME(Java Platform Micro Edition, Java 平台微型版)**以前称为 <strong>J2ME</strong>, 也叫 <strong>K-JAVA</strong>;  Java ME 为在移动设备和嵌入式设备(比如手机、PDA、电视机顶盒和打印机)上运行的应用程序提供一个健壮且灵活的环境</p> <p>Java ME 包括灵活的用户界面、健壮的安全模型、丰富的内置网络协议以及对可以动态下载的联网和离线应用程序; 基于 Java ME 规范的应用程序 只需编写一次就可以用于许多设备, 而且可以利用每个设备的本机功能</p> <blockquote><p>2005 年 6 月, JavaOne 大会召开, SUN 公司公开 Java SE 6; 此时, Java 的各种版本已经更名, 以取消其中的数字 &quot;2&quot;：J2EE 更名为 Java EE, J2SE 更名为Java SE, J2ME 更名为 Java ME</p></blockquote> <h2 id="环境搭建"><a href="#环境搭建" class="header-anchor">#</a> 环境搭建</h2> <h3 id="jdk下载"><a href="#jdk下载" class="header-anchor">#</a> JDK下载</h3> <p>下载 Java SDK(<strong>推荐Java8</strong>): https://www.oracle.com/java/technologies/downloads/archive/</p> <h4 id="jdk目录介绍"><a href="#jdk目录介绍" class="header-anchor">#</a> JDK目录介绍</h4> <p>JDK 安装目录下具有多个子目录和一些网页文件, 其中重要目录和文件的说明如下:</p> <p><img src="/note-sites/assets/img/image-20220412153300428.74eeff7c.png" alt="image-20220412153300428"></p> <ul><li><code>bin</code>：提供 JDK 工具程序, 包括 javac、java、javadoc、appletviewer 等可执行程序</li> <li><code>include</code>：存放用于本地访问的文件</li> <li><code>jre</code>：存放 Java 运行环境文件</li> <li><code>lib</code>：存放 Java 的类库文件, 工具程序实际上使用的是 Java 类库; JDK 中的工具程序, 大多也由 Java 编写而成</li> <li><code>src.zip</code>：Java 提供的 API 类的源代码压缩文件; 如果需要查看 API 的某些功能是如何实现的, 可以査看这个文件中的源代码内容</li></ul> <p><strong>查看JDK是否安装成功:</strong></p> <p>cmd 窗口下运行 <code>java</code> 或者 <code>java -version</code>命令有对应输出即表示JDK安装成功</p> <h4 id="环境变量配置"><a href="#环境变量配置" class="header-anchor">#</a> 环境变量配置</h4> <p>添加环境变量<code>JAVA_HOME</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 本机安装的JDK文件夹的绝对路径</span>
C:<span class="token punctuation">\</span>Program Files<span class="token punctuation">\</span>Java<span class="token punctuation">\</span>jdk1.8.0_91
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>修改系统变量<code>Path</code></p> <p>添加<strong>两条</strong>路径</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>%JAVA_HOME%<span class="token punctuation">\</span>bin
%JAVA_HOME%<span class="token punctuation">\</span>jre<span class="token punctuation">\</span>bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>cmd</strong> 窗口测试<code>javac</code>命令有对应输出即可</p> <blockquote><p>如果不行就把用户变量<code>path</code>也加上那两条路径</p></blockquote> <h2 id="helloword"><a href="#helloword" class="header-anchor">#</a> HelloWord</h2> <p>在 Java 中都是使用面向对象思想进行编码的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// HelloWrold.java</span>

<span class="token comment">// 定义公共类 HelloWrold</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWrold</span> <span class="token punctuation">{</span>
  <span class="token comment">// 公共的静态方法 main 没有返回值</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 输出 HelloWrold</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HelloWrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>关键字跟 JS 和 TS 中的意思基本一致</p> <ul><li><code>public</code> 表示访问说明符, 表明该类是一个公共类, 可以控制其他对象对类成员的访问</li> <li><code>class</code> 用于声明类, 其后所跟的字符串是类的名称</li> <li><code>static</code> 表示该方法是类的静态方法</li> <li><code>void</code> 表示 <code>main()</code> 方法没有返回值</li></ul> <blockquote><p><strong><code>main()</code> 方法是所有程序的入口, 最先开始执行</strong></p></blockquote> <h3 id="编译运行"><a href="#编译运行" class="header-anchor">#</a> 编译运行</h3> <p><strong>cmd</strong> 进入 java 代码文件目录<code>javac 文件名.java</code>编译(生成<code>.class</code>文件), <code>java 类名</code>运行(不需要加<code>.class</code>)即可</p> <p>碰到文件编码问题可以使用<code>javac -encoding UTF-8 文件名.java</code>指定字符集编译</p> <p><img src="/note-sites/assets/img/image-20220414210537703.d8f5ace1.png" alt="image-20220414210604425"></p> <h3 id="执行流程"><a href="#执行流程" class="header-anchor">#</a> 执行流程</h3> <p>Java程序运行流程如下:</p> <p><img src="/note-sites/assets/img/image-20220414210737244.ef672756.png" alt="image-20220414210737244"></p> <p><strong>字节码文件</strong>是一种和任何具体机器环境及操作系统环境无关的**中间代码 **;它是一种二进制文件, 是 Java 源文件由 Java 编译器编译后生成的目标代码文件</p> <p>编程人员和计算机都无法直接读懂字节码文件, 它必须由专用的 Java 解释器来解释执行, 因此 Java 是一种在编译基础上进行解释运行的语言</p> <p>Java 解释器负责将字节码文件翻译成具体硬件环境和操作系统平台下的机器代码, 以便执行</p> <p>因此 Java 程序<strong>不能直接</strong>运行在现有的操作系统平台上, 它必须运行在被称为 <strong>Java 虚拟机</strong>的软件平台之上</p> <p>**Java 虚拟机(JVM)**是运行 Java 程序的软件环境, Java 解释器是 Java 虚拟机的一部分; 在运行 Java 程序时, 首先会启动 JVM, 然后由它来负责解释执行 Java 的字节码程序, 并且 Java 字节码程序只能运行于 JVM 之上; 这样利用 JVM 就可以把 Java 字节码程序和具体的硬件平台以及操作系统环境分隔开来, 只要在不同的计算机上安装了针对特定平台的 JVM, Java 程序就可以运行</p> <p>JVM 把这种不同软、硬件平台的具体差别隐藏起来, 从而实现了真正的二进制代码级的跨平台移植; JVM 是 Java 平台架构的基础, Java 的跨平台特性正是通过在 JVM 中运行 Java 程序实现的, 如下:</p> <p><img src="/note-sites/assets/img/image-20220414211131398.615c4728.png" alt="image-20220414211131398"></p> <p>Java 语言这种**&quot;一次编写, 到处运行&quot;**的方式, 有效地解决了目前大多数高级程序设计语言需要针对不同系统来编译产生不同机器代码的问题, 即硬件环境和操作平台的异构问题, 大大降低了程序开发、维护和管理的开销;</p> <blockquote><p>Java 程序通过 JVM 可以实现跨平台特性, 但 JVM 是<strong>不跨平台</strong>的, 就是说, 不同操作系统之上的 JVM 是不同的, Windows 平台之上的 JVM 不能用在 Linux 平台, 反之亦然</p></blockquote> <h3 id="jvm、jre和jdk"><a href="#jvm、jre和jdk" class="header-anchor">#</a> JVM、JRE和JDK</h3> <p><strong>JVM</strong></p> <p>JVM(Java Virtual Machine, Java 虚拟机)是整个 Java 实现跨平台的最核心的部分, 能够运行以 Java 语言书写的软件程序</p> <p><strong>JRE</strong></p> <p>JRE(Java Runtime Environment, Java 运行环境)是运行 JAVA 程序所必须的环境的集合, 包含 JVM 标准实现及 Java 核心类库</p> <p><strong>JDK</strong></p> <p>(Java Development Kid, Java 开发开源工具包)是Java程序开发工具包, <code>包含JRE</code>和开发人员使用的工具</p> <p>其中的<strong>开发</strong>工具: 编译工具(<code>javac.exe</code>)和运行工具(<code>java.exe</code>) , 想要<strong>开发</strong>一个全新的Java程序, 那么必须安装<code>JDK</code></p> <p><strong>JDK, JRE 和 JVM</strong>的关系图如下</p> <p><img src="/note-sites/assets/img/image-20220414201752263.4799220e.png" alt="image-20220414201752263"></p> <p>由上图可以看到</p> <ul><li><strong>JDK</strong>: <strong>JRE</strong> + 多种Java开发工具</li> <li><strong>JRE</strong>: <strong>JVM</strong> + 各种类库</li> <li>这三者的关系是一层层的嵌套关系: <strong>JDK</strong> &gt; <strong>JRE</strong> &gt; <strong>JVM</strong></li></ul> <h2 id="集成开发工具"><a href="#集成开发工具" class="header-anchor">#</a> 集成开发工具</h2> <ul><li><a href="https://notepad-plus.en.softonic.com/" target="_blank" rel="noopener noreferrer">Notepad++<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.eclipse.org/downloads/" target="_blank" rel="noopener noreferrer">Eclipse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jetbrains.com/idea/download/#section=windows" target="_blank" rel="noopener noreferrer">IntelliJ IDEA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="idea中的项目结构"><a href="#idea中的项目结构" class="header-anchor">#</a> IDEA中的项目结构</h3> <p>项目下包含多个模块, 模块下包含多个包, 包下包含多个类</p> <p><img src="/note-sites/assets/img/image-20220415235437189.995f4bfd.png" alt="image-20220415235437189"></p> <h4 id="项目结构操作"><a href="#项目结构操作" class="header-anchor">#</a> 项目结构操作</h4> <p>文件里的<strong>项目结构</strong>(<code>File -&gt; Project Structure</code>)可以新建/删除相关的文件, 还可以修改指定模块的JDK版本</p> <blockquote><p>模块文件下的右键<strong>移除模块</strong>(<code>Remove Module</code>)并不会真正的删除文件目录而是在当前项目中移除了而已</p></blockquote> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <h3 id="计算机的数据单位"><a href="#计算机的数据单位" class="header-anchor">#</a> 计算机的数据单位</h3> <p>计算机存储设备的最小信息单元叫**“位(bit)<strong>&quot;, 我们又称之为“<strong>比特位</strong>”, 通常用小写的字母”<strong>b</strong>”表示; 而计算机中最小的存储单元叫“<strong>字节(byte)</strong>&quot;, 通常用大写字母”<strong>B</strong>”表示, 字节是由</strong>连续的8个位**组成</p> <p>除了字节外还有一些常用的存储单位:</p> <ul><li>1B(字节) = 8bit</li> <li>1KB = 1024B</li> <li>1MB = 1024KB</li> <li>1GB = 1024MB</li> <li>1TB = 1024GB</li></ul> <h3 id="基本数据类型"><a href="#基本数据类型" class="header-anchor">#</a> 基本数据类型</h3> <p>基本数据类型包括 boolean(布尔型)、float(单精度浮点型)、char(字符型)、byte(字节型)、short(短整型)、int(整型)、long(长整型)和 double (双精度浮点型)共 8 种</p> <table><thead><tr><th>类型名称</th> <th>关键字</th> <th>占用内存</th> <th>取值范围</th></tr></thead> <tbody><tr><td>字节型</td> <td>byte</td> <td>1 字节</td> <td>-128 ~ 127</td></tr> <tr><td>短整型</td> <td>short</td> <td>2 字节</td> <td>-32768 ~ 32767</td></tr> <tr><td>整型(<strong>默认</strong>)</td> <td>int</td> <td>4 字节</td> <td>-2147483648 ~ 2147483647</td></tr> <tr><td>长整型</td> <td>long</td> <td>8 字节</td> <td>-9223372036854775808L ~ 9223372036854775807L</td></tr> <tr><td>单精度浮点型</td> <td>float</td> <td>4 字节</td> <td>+/-3.4E+38F(6~7 个有效位)</td></tr> <tr><td>双精度浮点型(<strong>默认</strong>)</td> <td>double</td> <td>8 字节</td> <td>+/-1.8E+308 (15 个有效位)</td></tr> <tr><td>字符型</td> <td>char</td> <td>2 字节</td> <td>ISO 单一字符集(0 ~ 65535)</td></tr> <tr><td>布尔型</td> <td>boolean</td> <td>1 字节</td> <td>true 或 false</td></tr></tbody></table> <p>Java 中的基本数据类型注意点:</p> <ul><li><p>整数默认是<code>int</code>类型, 浮动数默认是<code>double</code>类型</p></li> <li><p><code>char</code> (字符)类型的值使用单引号定义(<code>'</code>), 实际上字符型也是一种整数类型, 相当于无符号整数类型, 并且两个字符类型的值运算会使用其 ASCII(Unicode码)的值计算</p></li> <li><p><code>boolean</code>(布尔)类型的值<strong>不能转换成任何数据类型</strong>, <strong>true</strong> 常量不等于 <strong>1</strong>, 而 <strong>false</strong> 常量也不等于 <strong>0</strong>, 这两个值<strong>只能赋给声明为 boolean 类型的变量</strong>或者用于布尔运算表达式中</p></li></ul> <p>Java 数据类型的结构如下:</p> <p><img src="/note-sites/assets/img/image-20220414215751639.bb587711.png" alt="image-20220414215751639"></p> <h3 id="引用数据类型"><a href="#引用数据类型" class="header-anchor">#</a> 引用数据类型</h3> <p>引用数据类型建立在基本数据类型的基础上, 包括数组、类和接口, 引用数据类型是由用户自定义, 用来限制其他数据的类型; 另外, Java 语言中不支持 <a href="http://c.biancheng.net/cplus/" target="_blank" rel="noopener noreferrer">C++<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中的指针类型、结构类型、联合类型和枚举类型</p> <p>引用类型有一种特殊的 <code>null</code> 类型; 所谓引用数据类型就是对一个对象的引用, 对象包括实例和数组两种; 实际上, 引用类型变量就是一个指针, 只是 Java 语言里不再使用指针这个说法;</p> <p>空类型(null type)就是 <code>null</code> 值的类型, 这种类型没有名称; 因为 <code>null</code> 类型没有名称, 所以不可能声明一个 <code>null</code> 类型的变量或者转换到 <code>null</code> 类型</p> <p>空引用(null)是 <code>null</code> 类型变量<strong>唯一的值</strong>, 表示不指向任何有效对象, 空引用可以转换为<strong>任何引用类型</strong>(<strong>不能</strong>转换成基本类型)</p> <h3 id="变量使用"><a href="#变量使用" class="header-anchor">#</a> 变量使用</h3> <p><strong>变量定义</strong>语法: <code>类型 变量名 = 初始值</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> name<span class="token punctuation">,</span> message<span class="token punctuation">;</span>
name <span class="token operator">=</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
message <span class="token operator">=</span> <span class="token string">&quot;定义变量&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">char</span> gender <span class="token operator">=</span> <span class="token char">'男'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Java 中使用变量时需要注意以下事项：</p> <ul><li><p>不能<strong>重复</strong>定义变量</p></li> <li><p>变量没有赋值是<strong>不能</strong>直接使用的</p></li> <li><p>定义<code>long</code>和<code>float</code>类型是需要显式的指定(可以在对应值的后面添加后缀<code>L</code>或<code>F</code>)</p></li> <li><p>变量是类或者结构中的字段, 如果<strong>没有显式地初始化</strong>, 默认状态下创建变量并默认初始值为 0</p></li> <li><p>方法中的变量必须<strong>显式地初始化</strong>, 否则在使用该变量时就会出错</p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWrold</span> <span class="token punctuation">{</span>
  <span class="token comment">// 只定义未初始化</span>
  <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">int</span> count<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> l<span class="token punctuation">;</span>
    <span class="token comment">// int l = 1; // Error 重复定义变量</span>

    <span class="token comment">// System.out.println(l); // Error 变量没有赋值是不能直接使用的</span>

    <span class="token comment">// l = 10000000000; // int类型超出了范围  </span>
    l <span class="token operator">=</span> <span class="token number">10000000000L</span><span class="token punctuation">;</span> <span class="token comment">// 显示定义为 long 类型</span>

    <span class="token comment">// float f = 3.14; // 不能将double类型转换为float类型  </span>
    <span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">3.14F</span><span class="token punctuation">;</span> <span class="token comment">// 显式定义为 long 类型</span>
      
    <span class="token class-name">HelloWrold</span> hi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWrold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hi<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; null</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hi<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <h3 id="自动类型转换"><a href="#自动类型转换" class="header-anchor">#</a> 自动类型转换</h3> <p>如果以下 2 个条件都满足, 那么将一种类型的数据赋给另外一种类型变量的时, 将执行<strong>自动类型转换</strong>(automatic type conversion);</p> <ul><li>两种数据类型彼此兼容</li> <li>目标类型的取值范围大于源数据类型(低级类型数据转换成高级类型数据)</li></ul> <p><img src="/note-sites/assets/img/image-20220414222428690.14e341d7.png" alt="image-20220414222428690"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> l <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// 自动转换为 double</span>
<span class="token keyword">double</span> d <span class="token operator">=</span> i<span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1.0</span>

<span class="token keyword">byte</span> b <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token comment">// char c = b; // Error 类型不兼容</span>

<span class="token comment">// i = i * 0.5; // Error 不能将double类型转换为int类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="强制类型转换"><a href="#强制类型转换" class="header-anchor">#</a> 强制类型转换</h3> <p>尽管自动类型转换是很有帮助的, 但并不能满足所有的编程需要; 有时有需要<strong>将数据范围大的值或变量</strong>转换为数据<strong>范围小</strong>的变量</p> <p>强制类型转换语法: <code>目标数据类型 变量名 = (目标数据类型)值或者变量</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// int n = 1.23; // Error 不能将 double 类型转换为 int 类型  </span>
<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token number">1.23</span><span class="token punctuation">;</span> <span class="token comment">// 强制转换为 int类型</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1(小数被去掉了)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>注意: 强制类型转换有时会丢失数据的精确度</p></blockquote> <h2 id="内置包装类"><a href="#内置包装类" class="header-anchor">#</a> 内置包装类</h2> <p>在 Java 的设计中提倡一种思想, 即一切皆对象; 但是从数据类型的划分中, 我们知道 Java 中的数据类型分为基本数据类型和引用数据类型, 但是基本数据类型怎么能够称为对象呢？于是 Java 为每种基本数据类型分别设计了对应的类, 称之为<strong>包装类(Wrapper Classes)</strong>, 也有地方称为外覆类或数据类型类</p> <p>包装类和基本数据类型的关系如下表所示:</p> <table><thead><tr><th style="text-align:center;">基本数据类型</th> <th style="text-align:center;">包装类</th></tr></thead> <tbody><tr><td style="text-align:center;">byte</td> <td style="text-align:center;">Byte</td></tr> <tr><td style="text-align:center;">short</td> <td style="text-align:center;">Short</td></tr> <tr><td style="text-align:center;">int</td> <td style="text-align:center;">Integer</td></tr> <tr><td style="text-align:center;">long</td> <td style="text-align:center;">Long</td></tr> <tr><td style="text-align:center;">char</td> <td style="text-align:center;">Character</td></tr> <tr><td style="text-align:center;">float</td> <td style="text-align:center;">Float</td></tr> <tr><td style="text-align:center;">double</td> <td style="text-align:center;">Double</td></tr> <tr><td style="text-align:center;">boolean</td> <td style="text-align:center;">Boolean</td></tr></tbody></table> <blockquote><p>包装类都存在于<a href="https://www.apiref.com/java11-zh/java.base/java/lang/package-summary.html" target="_blank" rel="noopener noreferrer">java.lang<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>包下是默认导入的</p></blockquote> <h3 id="装箱和拆箱"><a href="#装箱和拆箱" class="header-anchor">#</a> 装箱和拆箱</h3> <p>装箱: 把基本数据类型转换为对应的包装类类型</p> <p>拆箱: 把包装类类型转换为对应的基本数据类型</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 自动装箱</span>
<span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token comment">// 自动拆箱</span>
<span class="token keyword">int</span> i2 <span class="token operator">=</span> i1 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>自动装箱的小问题:</p> <p>包装类的默认值都是<code>null</code>, 当值为<code>null</code>时自动装箱会有空指针异常问题</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 相当于是 Integer.valueOf(null);</span>
i1 <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 相当于是 null.intValue() + 1;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 空指针异常 NullPointerException</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用前判断不是<code>null</code>就可以了</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>i1 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i1 <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>在使用包装类型的时候, 操作前最好先判断是否为<code>null</code>, 包括使用其他引用数据类型是时也最好检查一下不为<code>null</code></p></blockquote> <h3 id="包装类的应用"><a href="#包装类的应用" class="header-anchor">#</a> 包装类的应用</h3> <h4 id="int-和-integer-相互转换"><a href="#int-和-integer-相互转换" class="header-anchor">#</a> int 和 integer 相互转换</h4> <p><code>int</code> 转换为 <code>integer</code>(装箱): 通过<code>Integer.valueOf()</code>或者 <code>Integer</code>构造方法</p> <p><code>integer</code> 转换为 <code>int</code>(拆箱): 通过<code>Integer.intValue()</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 手动装箱</span>
<span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以是字符串的数字类型</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token comment">// 手动拆箱</span>
<span class="token keyword">int</span> i2 <span class="token operator">=</span> i1<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="将字符串转换为数值类型"><a href="#将字符串转换为数值类型" class="header-anchor">#</a> 将字符串转换为数值类型</h4> <p>在 <a href="https://www.apiref.com/java11-zh/java.base/java/lang/Integer.html" target="_blank" rel="noopener noreferrer">Integer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://www.apiref.com/java11-zh/java.base/java/lang/Float.html" target="_blank" rel="noopener noreferrer">Float<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 类中分别提供了以下两种方法：</p> <p>Integer 类(String 转 int ): <code>parseInt()</code></p> <p>Float 类(String 转 float ): <code>parseFloat()</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;99&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token class-name">Float</span><span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;99.45&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 99 </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 99.45</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>使用以上两种方法时, 字符串中的数据必须由数字组成, 否则转换时会出现程序错误</p></blockquote> <h4 id="整数转换为字符串"><a href="#整数转换为字符串" class="header-anchor">#</a> 整数转换为字符串</h4> <p><code>Integer.toString()</code>方法可以完成转换</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 99</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>通过String类的<a href="https://www.apiref.com/java11-zh/java.base/java/lang/String.html#valueOf(int)" target="_blank" rel="noopener noreferrer"><code>valueOf()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或者拼一个空的字符串也可以实现数字转字符串</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s1 <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2 <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>实际使用中推荐使用包装类来代替基本类型, 因为包装类的默认都是<code>null</code>, 基本数据类型的默认值各有各的, 一旦漏赋值使用, 很容易造成各种问题</p></blockquote> <h2 id="运算"><a href="#运算" class="header-anchor">#</a> 运算</h2> <h3 id="数值类型的运算"><a href="#数值类型的运算" class="header-anchor">#</a> 数值类型的运算</h3> <p>算术表达式中包含多个基本数据类型的值的时候, 整个算术表达式的类型会<strong>自动提升</strong>至最高等级:</p> <ul><li><code>byte</code>, <code>short</code> 和<code>char</code>都将被提升到<code>int</code></li> <li>类型等级顺序: <code>byte, short, char</code>-&gt; <code>int</code> -&gt;<code>long</code> -&gt;<code>float</code> -&gt; <code>double</code></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span>
<span class="token comment">// char n = c + 1; // Error 不能从 int 转换为 char 类型</span>
<span class="token keyword">int</span> n <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// char 类型自动提升为 int 类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>扩展的赋值运算符<strong>隐含</strong>了类型转换:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
n <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 隐含了类型转换</span>
<span class="token comment">// n = n + 10; </span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 20</span>

<span class="token comment">// short s = n + 10; // Error 不能从 int 转换为 short (类型提升)</span>
<span class="token keyword">short</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以使用强制类型转换(不推荐这样写)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>整数的除法对于<strong>除数为0</strong>时运行时将报错, 但编译不会报错</p></blockquote> <h3 id="整数溢出"><a href="#整数溢出" class="header-anchor">#</a> 整数溢出</h3> <p>要特别注意, 整数由于存在范围限制, 如果计算结果超出了范围, 就会产生溢出, 而溢出<strong>不会出错</strong>, 却会得到一个奇怪的结果:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">2147483640</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> sum <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; -2147483641</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>要解释上述结果, 需要把整数<code>2147483640</code>和<code>15</code>换成二进制做加法：</p> <div class="language-ascii line-numbers-mode"><pre class="language-text"><code>  0111 1111 1111 1111 1111 1111 1111 1000
+ 0000 0000 0000 0000 0000 0000 0000 1111
-----------------------------------------
  1000 0000 0000 0000 0000 0000 0000 0111
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>由于最高位计算结果为<code>1</code>, 因此, 加法结果变成了一个负数</p> <p>要解决上面的问题, 可以把<code>int</code>换成<code>long</code>类型</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">long</span> sum <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="浮动数溢出"><a href="#浮动数溢出" class="header-anchor">#</a> 浮动数溢出</h3> <p>整数运算在除数为<code>0</code>时会报错, 而浮点数运算在除数为<code>0</code>时, 不会报错, 但会返回几个特殊值：</p> <ul><li><code>NaN</code>表示<em>Not a Number</em></li> <li><code>Infinity</code>表示无穷大</li> <li><code>-Infinity</code>表示负无穷大</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">double</span> d1 <span class="token operator">=</span> <span class="token number">0.0</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token keyword">double</span> d2 <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// Infinity</span>
<span class="token keyword">double</span> d3 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="hellowrold"><a href="#hellowrold" class="header-anchor">#</a> HelloWrold</h3> <p>以为<strong>IDEA</strong>为例, 先新建<strong>空项目</strong>(<code>File -&gt; New -&gt; project</code>), 在该项目下新建<strong>模块</strong>(<code>New -&gt; Module</code>), 在该模块的<code>src</code>目录下新建<strong>包</strong>(<code>New -&gt; Package</code>), 再在该包下新建一个<strong>类</strong>(<code>New -&gt; Java Class</code>), 编写代码, 右键新建点击<code>Run</code>即可运行代码</p> <p><strong>IDEA</strong>运行<strong>Java</strong>代码生产的字节码文件(<code>.class</code>)文件会统一生成到<strong>当前项目目录</strong>下的<code>out</code>目录下</p> <blockquote><p><strong>.java</strong>文件的文件名必须和其文件内书写的类名同名不然运行代码会报找不到类名</p></blockquote> <h2 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h2> <p>Java 中的数组只能存储<strong>相同</strong>数据类型</p> <p>数组的定义格式有两种:</p> <p><strong>数据类型 []  变量名</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span> <span class="token comment">// 定义一个`int`类型的数组, 数组名是`arr`</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>数据类型  变量名 []</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 定义一个`int`类型的变量, 变量名时`arr`数组</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>两种效果都一样推荐使用第一种</p></blockquote> <h3 id="数组的初始化"><a href="#数组的初始化" class="header-anchor">#</a> 数组的初始化</h3> <p>Java中的数组必须先初始化, 然后才能使用
所谓初始化: 就是为数组中的数组元素分配内存空间, 并为每个数组元素赋值</p> <h4 id="动态初始化"><a href="#动态初始化" class="header-anchor">#</a> 动态初始化</h4> <p>初始化只指定<strong>数组的长度,</strong> 由系统为数组分配<strong>初始值</strong>, 格式: <code>数组类型[] 变量名 = new 数组类型[数组长度]</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;listNum 数组的内存地址: &quot;</span> <span class="token operator">+</span> listNum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [I@16d3586</span>

<span class="token comment">// 索引访问</span>
listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>

<span class="token comment">// 循环</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> listNum<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span> listNum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 999 0 0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>数组在初始化时, 会为存储空间添加默认值:</p> <table><thead><tr><th style="text-align:center;">类型</th> <th style="text-align:center;">默认值</th></tr></thead> <tbody><tr><td style="text-align:center;">整数</td> <td style="text-align:center;">0</td></tr> <tr><td style="text-align:center;">浮点数</td> <td style="text-align:center;">0.0</td></tr> <tr><td style="text-align:center;">布尔值</td> <td style="text-align:center;">false</td></tr> <tr><td style="text-align:center;">字符</td> <td style="text-align:center;">''</td></tr> <tr><td style="text-align:center;">引用数据类型(包括字符串)</td> <td style="text-align:center;">null</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listDou <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listDou<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.0</span>

<span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listBool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listBool<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listChar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listChar<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// </span>

<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;helloWrold&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %s&quot;</span><span class="token punctuation">,</span> listStr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> listStr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// helloWrold, null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="内存分配"><a href="#内存分配" class="header-anchor">#</a> 内存分配</h4> <p>Java程序在运行时, 需要在内存中分配空间, 为了提高运算效率, 就对空间进行了不同区域的划分, 每一片区域都有特定的处理数据方式和内存管理方式</p> <h4 id="栈"><a href="#栈" class="header-anchor">#</a> 栈</h4> <p>用于存储局部变量, 定义在方法中的变量, 使用完就会被垃圾回收器回收</p> <h4 id="堆"><a href="#堆" class="header-anchor">#</a> 堆</h4> <p>存储<code>new</code>出来的内容(实体, 对象), 每一个<code>new</code>出来的数据都有一个地址值指向该堆中的地址, 使用完毕后, 也会被垃圾回收器(<strong>空闲时</strong>)回收</p> <p><strong>引用数据类型赋值保存其引用</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
listNum1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>
<span class="token comment">// 引用赋值</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum2 <span class="token operator">=</span> listNum1<span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> listNum2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span> listNum1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> listNum2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 999 999</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="静态初始化"><a href="#静态初始化" class="header-anchor">#</a> 静态初始化</h4> <p>静态初始化: 初始化时指定每个数组元素的<strong>初始值</strong>, 由系统决定<strong>数组长度</strong></p> <p>完整格式: <code>数据类型[] 变量名 = new 数据类型[]{ 数据1, 数据2, ...};</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">999</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> listNum<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span> listNum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 5 999</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>简写格式: <code>数据类型[] 变量名 = { 数据1, 数据2, ...};</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listChar <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 支持 ASCII 码</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> listChar<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c &quot;</span><span class="token punctuation">,</span> listChar<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a b c</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>数组的常见小问题</strong>:</p> <ul><li>索引越界: 访问数组中不存在的索引对应的元素</li> <li>空指针异常: 访问的数据没有对应的内存地址(一般是访问<code>null</code>)</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

listNum<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// Error ArrayIndexOutOfBoundsException 索引越界</span>

listNum <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error NullPointerException 空指针异常</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="命令行参数"><a href="#命令行参数" class="header-anchor">#</a> 命令行参数</h4> <p>Java程序的入口是<code>main</code>方法, 而<code>main</code>方法可以接受一个命令行参数, 它是一个<code>String[]</code>数组</p> <p>这个命令行参数由JVM接收用户输入并传给<code>main</code>方法:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnArray</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> arg <span class="token operator">:</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="多维数组"><a href="#多维数组" class="header-anchor">#</a> 多维数组</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnArray</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 二维数组</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

        <span class="token comment">// 三维数组</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ns <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token punctuation">{</span>
                <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token punctuation">{</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>ns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [12, 13]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="数组工具类arrays"><a href="#数组工具类arrays" class="header-anchor">#</a> 数组工具类Arrays</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Arrays.html" target="_blank" rel="noopener noreferrer">Arrays<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类包含用于操作数组的各种方法(例如排序和搜索), 此类还包含一个静态工厂, 允许将数组视为列表</p> <h4 id="快速创建指定元素的集合"><a href="#快速创建指定元素的集合" class="header-anchor">#</a> 快速创建指定元素的集合</h4> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Arrays.html#asList(T...)" target="_blank" rel="noopener noreferrer">Arrays.asList()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法返回由指定数组支持的<strong>固定大小</strong>的列表, 不支持后续的添加和删除操作(可以修改元素值)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestParams02</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [hello, world, java, hello]</span>

        <span class="token comment">// 不可修改Arrays.asList返回的集合的大小</span>
        <span class="token comment">// list1.add(&quot;你好&quot;); // UnsupportedOperationException</span>
        <span class="token comment">// list1.remove(&quot;hello&quot;); // UnsupportedOperationException</span>

        list1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以修改元素的内容</span>
        list1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>list1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以修改元素的内容</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [你好, world, java, 你好]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="打印数组内容"><a href="#打印数组内容" class="header-anchor">#</a> 打印数组内容</h4> <p>直接打印数组变量, 得到的是数组在JVM中的引用地址, 可以使用循环来获取,</p> <p>但是使用循环也很麻烦, 可以使用<code>Arrays.toString()</code>来快速打印数组内容：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnArray</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      	<span class="token comment">// 直接打印</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [I@16d3586</span>

        <span class="token comment">// 循环读取</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> listNum<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Arrays.toString() 快速读取</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="数组排序"><a href="#数组排序" class="header-anchor">#</a> 数组排序</h4> <p>使用<code>Arrays.sort()</code>进行数组排序但是会修改数组本身</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnArray</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;排序前: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 排序前: [3, 4, 1, 2, 5]</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;排序后: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 排序后: [1, 2, 3, 4, 5]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>Arrays.sort()</code>方法对字符数组进行排序, 实际对应元素的内存地址并没有改变, 但其指向的值会变</p> <p><code>Arrays.sort()</code>方法也是可以使用<a href="https://www.apiref.com/java11-zh/java.base/java/util/Comparator.html" target="_blank" rel="noopener noreferrer"><strong>java.util.Comparator</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类来控制排序顺序, 格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>利用 Arrays.sort() 来获取最大, 最小值</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnArray</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getMax</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 300</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getMin</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 最后一位就是最大值</span>
        <span class="token keyword">return</span> list<span class="token punctuation">[</span>list<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getMin</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 第一位就是最小值</span>
        <span class="token keyword">return</span> list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="比较数组"><a href="#比较数组" class="header-anchor">#</a> 比较数组</h4> <p>数组相等的条件不仅要求数组元素的个数必须相等, 而且要求对应位置的元素也相等; Arrays 类提供了<code>equals()</code>方法比较两个数组是否相等</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> n1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> n2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="数组填充"><a href="#数组填充" class="header-anchor">#</a> 数组填充</h4> <p>Arrays 类提供了一个<code>fill()</code>方法, 可以在指定位置进行数值填充, <code>fill()</code>方法虽然可以填充数组, 但是它的功能有限制, 只能使用同一个数值进行填充</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 全部填充 999</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>listNum<span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [999, 999, 999, 999, 999]</span>

<span class="token comment">// 索引 1 ~ 3(不包括) 填充 123</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>listNum<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [999, 123, 123, 999, 999]</span>

<span class="token comment">// 注意: 数组索引越界</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>listNum<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ArrayIndexOutOfBoundsException</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="查找指定元素"><a href="#查找指定元素" class="header-anchor">#</a> 查找指定元素</h4> <p>使用 Arrays 类的<code>binarySearch()</code>方法可以实现数组的二分查找, 在进行数组查询之前, 必须对数组进行排序(可以使用 <code>sort()</code> 方法),</p> <p>如果<strong>没有排序, 则结果是不确定的</strong>, 如果数组包含多个带有指定值的元素, 则无法确认找到的是哪一个</p> <p>常用重载方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 查找 a 中符合 key 的元素索引</span>
<span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 从给定的范围中查找 fromIndex ~ toIndex(不包括) 符合 key 的元素索引</span>
<span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> fromIndex<span class="token punctuation">,</span><span class="token keyword">int</span> toIndex<span class="token punctuation">,</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>a 表示要搜索的数组, key 表示要搜索的值; 如果 key 包含在数组中, 则返回搜索值的索引；否则返回 -1 或“插入点”, 只有找到对应的元素才会返回<code>&gt;=0</code>的索引</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> idx1 <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>listNum<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token keyword">int</span> idx2 <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>listNum<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -6</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>listNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;idx1 = &quot;</span> <span class="token operator">+</span> idx1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// idx1 = 2</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;idx2 = &quot;</span> <span class="token operator">+</span> idx2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// idx2 = -6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="拷贝数组"><a href="#拷贝数组" class="header-anchor">#</a> 拷贝数组</h4> <p>在 Java 中实现数组复制分别有以下 4 种方法：</p> <ol><li>Arrays 类的 <code>copyOf()</code> 方法</li> <li>Arrays 类的 <code>copyOfRange()</code> 方法</li> <li>System 类的 <code>arraycopy()</code> 方法</li> <li>Object 类的 <code>clone()</code> 方法</li></ol> <blockquote><p>注意: 以上几种方法都是<strong>浅拷贝</strong></p></blockquote> <h2 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h2> <p>java中的方法就是静态成员方法(用<code>static</code>修饰), 静态方法类似其它编程语言的函数</p> <p>定义格式: <code>public static 返回值类型 方法名(参数类型 参数名) { }</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyUtil</span> <span class="token punctuation">{</span>
    <span class="token comment">// 常量 Random 实例</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 直接使用 方法名 调用</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">generRandom</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 类名.方法() 也可以调用</span>
        <span class="token comment">// System.out.println(MyUtil.generRandom(10));</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 定义方法</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">generRandom</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>静态方法也经常用于辅助方法, Java程序的入口<code>main()</code>也是静态方法</p> <p><strong>方法的注意事项:</strong></p> <ul><li>方法不能<strong>嵌套定义</strong></li> <li>定义了返回值为<code>void</code>的方法依然可以使用<code>return</code>关键字来中止代码执行, 但是<strong>不能返回</strong>实际值</li> <li>因为静态方法属于<code>class</code>而不属于实例, 因此, 静态方法内部, 无法访问<code>this</code>变量, 也无法访问实例字段, 它只能访问静态字段</li> <li>通过实例变量也可以调用静态方法, 但这只是编译器自动帮我们把实例改写成类名而已</li></ul> <h3 id="方法重载"><a href="#方法重载" class="header-anchor">#</a> 方法重载</h3> <p>方法重载指同一个类中定义的多个方法之间的关系, 满足下列条件的方法相互构成重载:</p> <ul><li><p><strong>多个</strong>具有<strong>相同方法名</strong>的方法在同一个类中</p></li> <li><p>多个方法的参数的 <strong>类型不同</strong> 或者 <strong>数量不同</strong></p></li></ul> <p><strong>重载的特点</strong></p> <ul><li>方法的重载仅对应方法的<strong>定义</strong>, 调用时正常调用即可(会根据参数来匹配重载方法)</li> <li>重载仅针对同一个类中方法的名称与参数进行识别, 与返回值无关, 就是说不能通过返回值来判定多个方法是否构成重载</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jdk<span class="token punctuation">.</span>nashorn<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span></span><span class="token class-name">Debug</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n1 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 方法传递参数时可以强转类型</span>
        <span class="token keyword">double</span> n2 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;n1: %d, n2: %f&quot;</span><span class="token punctuation">,</span> n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; n1: 3, n2: 3.000000</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 符合 add 方法重载条件</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 符合 add 方法重载条件</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">double</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 不符合 add 方法重载条件(返回值类型与方法重载无关)</span>
    <span class="token comment">// Error 已在类 test.MyUtil中定义了方法 add(int,int)</span>
    <span class="token comment">// public static double add(int a, int b) {</span>
    <span class="token comment">//     return (double)(a + b);</span>
    <span class="token comment">// }</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="方法参数传递"><a href="#方法参数传递" class="header-anchor">#</a> 方法参数传递</h3> <p>基本数据类型是<strong>按值传递</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1</span>
        
        <span class="token function">changeInt</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">changeInt</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        n <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>引用数据类型是按<strong>引用传递</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyUtil</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1</span>
        
        <span class="token function">changeArray</span><span class="token punctuation">(</span>listNum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 999</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">changeArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum<span class="token punctuation">,</span> <span class="token keyword">int</span> idx<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        listNum<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="debug"><a href="#debug" class="header-anchor">#</a> Debug</h2> <p>在IDEA中点击添加断点以后, 需要以<strong>调试运行</strong>断点才能起作用</p> <p><img src="/note-sites/assets/img/image-20220416115040978.3f6778b9.png" alt="image-20220416115040978"></p> <p>删除多个断点</p> <p><img src="/note-sites/assets/img/image-20220416115330356.1a92601f.png" alt="image-20220416115330356"></p> <h3 id="查看方法源码位置"><a href="#查看方法源码位置" class="header-anchor">#</a> 查看方法源码位置</h3> <p>选中指定的方法<code>右键-&gt;转到(goto)</code></p> <p><img src="/note-sites/assets/img/image-20220421230907495.d13fea43.png" alt="image-20220421230907495"></p> <h2 id="scanner"><a href="#scanner" class="header-anchor">#</a> Scanner</h2> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Scanner.html" target="_blank" rel="noopener noreferrer">Scanner<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一个简单的文本扫描程序(<strong>数据输入</strong>), 可以使用正则表达式解析基本类型和字符串</p> <p>Scanner 会自动转换数据类型, 因此不必手动转换</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token comment">// 导入包(Scanner类)</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Java_API</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 新建 Scanner 实例</span>
        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 接受输入并赋值给 line</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;请输入字符串:\t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> line <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的文本是: &quot;</span> <span class="token operator">+</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;请输入整数:\t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的整数是: &quot;</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>请输入字符串:	hellowrold123
你输入的文本是: hellowrold123
请输入整数:	199
你输入的整数是: 199
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="random"><a href="#random" class="header-anchor">#</a> Random</h2> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Random.html" target="_blank" rel="noopener noreferrer">Random<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类的实例用于生成伪随机数流</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token comment">// 导入 java.util.Random 包</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Java_API</span> <span class="token punctuation">{</span>  
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
    <span class="token comment">// 实例化 Random 实例</span>
    <span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;生成 1 ~ 10 之间的随机数: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 生成一个 1 ~ 10 之间是随机数</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d  &quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="math"><a href="#math" class="header-anchor">#</a> Math</h2> <p><a href="https://www.apiref.com/java11-zh/java.base/java/lang/Math.html" target="_blank" rel="noopener noreferrer">Math<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 类封装了常用的数学运算, 提供了基本的数学操作, 如指数、对数、平方根和三角函数等, Math 类位于 <strong>java.lang</strong> 包中(自动导入)</p> <p>Math 类中包含 E 和 PI 两个静态常量, 它们的值分别等于 e(自然对数)和 π(圆周率)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Math.E: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Math<span class="token punctuation">.</span>E</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Math.E: 2.718281828459045</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Math.PI: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Math.PI: 3.141592653589793</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Math.random()</strong> 同 js 的一样用法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 ~ 100 之间的随机数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p><strong>Math</strong>类提供的都是静态方法并且支持多种数值类型</p></blockquote> <h3 id="求最大值、最小值和绝对值"><a href="#求最大值、最小值和绝对值" class="header-anchor">#</a> 求最大值、最小值和绝对值</h3> <p>有<code>abc</code>, <code>max</code>,<code>min</code>,<code>ceil</code>,<code>floor</code>效果同 js 的一样</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 2</span>

<span class="token keyword">double</span> c <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">2.34</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1.23</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 100</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3.123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 3.123</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">3.123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 3.123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="求整运算"><a href="#求整运算" class="header-anchor">#</a> 求整运算</h3> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>static double ceil(double a)</td> <td>返回大于或等于 a 的最小整数</td></tr> <tr><td>static double floor(double a)</td> <td>返回小于或等于 a 的最大整数</td></tr> <tr><td>static double rint(double a)</td> <td>返回最接近 a 的整数值, 如果有两个同样接近的整数, 则结果取偶数</td></tr> <tr><td>static int round(float a)</td> <td>按照四舍五入返回与参数最近的整数</td></tr> <tr><td>static long round(double a)</td> <td>按照四舍五入返回与参数最近的整数, 然后强制转换为长整型</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Scanner</span> input <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">outprintln</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个数字：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> num <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;大于或等于 &quot;</span><span class="token operator">+</span> num <span class="token operator">+</span><span class="token string">&quot; 的最小整数：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;小于或等于 &quot;</span><span class="token operator">+</span> num <span class="token operator">+</span><span class="token string">&quot; 的最大整数：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;将 &quot;</span><span class="token operator">+</span> num <span class="token operator">+</span><span class="token string">&quot; 加上 0.5 之后最接近的整数：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;最接近 &quot;</span><span class="token operator">+</span>num<span class="token operator">+</span><span class="token string">&quot; 的整数：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">rint</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>请输入一个数字：
99.4
大于或等于 99.4 的最小整数：100.0
小于或等于 99.4 的最大整数：99.0
将 99.4 加上 0.5 之后最接近的整数：99
最接近 99.4 的整数：99.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="三角函数运算"><a href="#三角函数运算" class="header-anchor">#</a> 三角函数运算</h3> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>static double sin(double a)</td> <td>返回角的三角正弦值, 参数以孤度为单位</td></tr> <tr><td>static double cos(double a)</td> <td>返回角的三角余弦值, 参数以孤度为单位</td></tr> <tr><td>static double asin(double a)</td> <td>返回一个值的反正弦值, 参数域在 [-1,1], 值域在 [-PI/2,PI/2]</td></tr> <tr><td>static double acos(double a)</td> <td>返回一个值的反余弦值, 参数域在 [-1,1], 值域在 [0.0,PI]</td></tr> <tr><td>static double tan(double a)</td> <td>返回角的三角正切值, 参数以弧度为单位</td></tr> <tr><td>static double atan(double a)</td> <td>返回一个值的反正切值, 值域在 [-PI/2,PI/2]</td></tr> <tr><td>static double toDegrees(double angrad)</td> <td>将用孤度表示的角转换为近似相等的用角度表示的角</td></tr> <tr><td>staticdouble toRadians(double angdeg)</td> <td>将用角度表示的角转换为近似相等的用弧度表示的角</td></tr></tbody></table> <h3 id="指数运算"><a href="#指数运算" class="header-anchor">#</a> 指数运算</h3> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>static double exp(double a)</td> <td>返回 e 的 a 次幂</td></tr> <tr><td>static double pow(double a, double b)</td> <td>返回以 a 为底数, 以 b 为指数的幂值</td></tr> <tr><td>static double sqrt(double a)</td> <td>返回 a 的平方根</td></tr> <tr><td>static double cbrt(double a)</td> <td>返回 a 的立方根</td></tr> <tr><td>static double log(double a)</td> <td>返回 a 的自然对数, 即 lna 的值</td></tr> <tr><td>static double log10(double a)</td> <td>返回以 10 为底 a 的对数</td></tr></tbody></table> <h3 id="数字格式化"><a href="#数字格式化" class="header-anchor">#</a> 数字格式化</h3> <p>数字的格式在解决实际问题时使用非常普遍, 这时可以使用 <a href="https://www.apiref.com/java11-zh/java.base/java/text/DecimalFormat.html" target="_blank" rel="noopener noreferrer">DedmalFormat<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 类对结果进行格式化处理</p> <p>DecimalFormat 是 NumberFormat 的一个子类, 用于格式化十进制数字; DecimalFormat 类包含一个模式和一组符号, 如下:</p> <table><thead><tr><th style="text-align:center;">符号</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">0</td> <td style="text-align:left;">显示数字, 如果位数不够则补 0</td></tr> <tr><td style="text-align:center;">#</td> <td style="text-align:left;">显示数字, 如果位数不够不发生变化</td></tr> <tr><td style="text-align:center;">.</td> <td style="text-align:left;">小数分隔符</td></tr> <tr><td style="text-align:center;">-</td> <td style="text-align:left;">减号</td></tr> <tr><td style="text-align:center;">,</td> <td style="text-align:left;">组分隔符</td></tr> <tr><td style="text-align:center;">E</td> <td style="text-align:left;">分隔科学记数法中的尾数和小数</td></tr> <tr><td style="text-align:center;">%</td> <td style="text-align:left;">前缀或后缀, 乘以 100 后作为百分比显示</td></tr> <tr><td style="text-align:center;">?</td> <td style="text-align:left;">乘以 1000 后作为千进制货币符显示; 用货币符号代替; 如果双写, 用国际货币符号代替； 如果出现在一个模式中, 用货币十进制分隔符代替十进制分隔符</td></tr></tbody></table> <p>基本方法使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">DecimalFormat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MathLearn</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DecimalFormat</span> d1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DecimalFormat</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;#.#&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DecimalFormat</span> d3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;000.000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DecimalFormat</span> d4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;###.###&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个 float 类型的数字: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> f <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 对输入的数字应用格式, 并输出结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;0.0 格式：&quot;</span> <span class="token operator">+</span> d1<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;#.# 格式：&quot;</span> <span class="token operator">+</span> d2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;000.000 格式：&quot;</span> <span class="token operator">+</span> d3<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;###.### 格式：&quot;</span> <span class="token operator">+</span> d4<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;#% 格式：&quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">&quot;#%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>请输入一个 float 类型的数字: 
23.456
0.0 格式：23.5
#.# 格式：23.5
000.000 格式：023.456
###.### 格式：23.456
#% 格式：2346%
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="大数字计算"><a href="#大数字计算" class="header-anchor">#</a> 大数字计算</h3> <p>在 Java 中提供了用于大数字运算的类, 即 <strong>java.math.BigInteger</strong> 类和 <strong>java.math.BigDecimal</strong> 类; 这两个类用于高精度计算, 其中 BigInteger 类是针对整型大数字的处理类, 而 BigDecimal 类是针对大小数的处理类</p> <h4 id="biginteger"><a href="#biginteger" class="header-anchor">#</a> BigInteger</h4> <p><a href="https://www.apiref.com/java11-zh/java.base/java/math/BigInteger.html" target="_blank" rel="noopener noreferrer">BigInteger<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 类型的数字范围较 Integer 类型的数字范围要大得多, 并且支持任意精度的整数, 也就是说在<strong>运算中 BigInteger 类型可以准确地表示任何大小的整数值</strong></p> <p>除了基本的加、减、乘、除操作之外, BigInteger 类还封装了很多操作, 像求绝对值、相反数、最大公约数以及判断是否为质数等</p> <p>使用 BigInteger 类, 首先要创建一个 BigInteger 对象, BigInteger 类提供了很多种构造方法, 最简单的是用字符串的形式来创建需要操作的数字, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigInteger</span> <span class="token punctuation">(</span><span class="token class-name">String</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>这里的 <strong>val</strong> 是数字十进制的字符串(双引号是必需的)</p></blockquote> <p>BigInteger类的常用运算方法如下:</p> <table><thead><tr><th>方法名称</th> <th>说明</th></tr></thead> <tbody><tr><td>add(BigInteger val)</td> <td>做加法运算</td></tr> <tr><td>subtract(BigInteger val)</td> <td>做减法运算</td></tr> <tr><td>multiply(BigInteger val)</td> <td>做乘法运算</td></tr> <tr><td>divide(BigInteger val)</td> <td>做除法运算</td></tr> <tr><td>remainder(BigInteger val)</td> <td>做取余数运算</td></tr> <tr><td>divideAndRemainder(BigInteger val)</td> <td>做除法运算, 返回数组的第一个值为商, 第二个值为余数</td></tr> <tr><td>pow(int exponent)</td> <td>做参数的 exponent 次方运算</td></tr> <tr><td>negate()</td> <td>取相反数</td></tr> <tr><td>shiftLeft(int n)</td> <td>将数字左移 n 位, 如果 n 为负数, 则做右移操作</td></tr> <tr><td>shiftRight(int n)</td> <td>将数字右移 n 位, 如果 n 为负数, 则做左移操作</td></tr> <tr><td>and(BigInteger val)</td> <td>做与运算</td></tr> <tr><td>or(BigInteger val)</td> <td>做或运算</td></tr> <tr><td>compareTo(BigInteger val)</td> <td>做数字的比较运算</td></tr> <tr><td>equals(Object obj)</td> <td>当参数 obj 是 Biglnteger 类型的数字并且数值相等时返回 true, 其他返回 false</td></tr> <tr><td>min(BigInteger val)</td> <td>返回较小的数值</td></tr> <tr><td>max(BigInteger val)</td> <td>返回较大的数值</td></tr></tbody></table> <p>基本方法使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MathLearn</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Scanner</span> input <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个整型数字：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 保存用户输入的数字</span>
        <span class="token keyword">int</span> num <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用输入的数字创建BigInteger对象</span>
        <span class="token class-name">BigInteger</span> bi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字加上99的结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;加法操作结果：&quot;</span> <span class="token operator">+</span> bi<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;99&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字减去25的结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;减法操作结果：&quot;</span> <span class="token operator">+</span> bi<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字乘以3的结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;乘法橾作结果：&quot;</span> <span class="token operator">+</span> bi<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字除以2的结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;除法操作结果：&quot;</span> <span class="token operator">+</span> bi<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">BigInteger</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bigIntegers <span class="token operator">=</span> bi<span class="token punctuation">.</span><span class="token function">divideAndRemainder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字除以3的商</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;取商操作结果：&quot;</span> <span class="token operator">+</span> bigIntegers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字除以3的余数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;取余操作结果：&quot;</span> <span class="token operator">+</span> bigIntegers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 计算大数字的2次方</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;取 2 次方操作结果：&quot;</span> <span class="token operator">+</span> bi<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字的相反数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;取相反数操作结果：&quot;</span> <span class="token operator">+</span> bi<span class="token punctuation">.</span><span class="token function">negate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>请输入一个整型数字：
22345123
加法操作结果：22345222
减法操作结果：22345098
乘法橾作结果：67035369
除法操作结果：11172561
取商操作结果：7448374
取余操作结果：1
取 2 次方操作结果：499304521885129
取相反数操作结果：-22345123
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="bigdecimal"><a href="#bigdecimal" class="header-anchor">#</a> BigDecimal</h4> <p>BigInteger 和 BigDecimal 都能实现大数字的运算, 不同的是 <a href="https://www.apiref.com/java11-zh/java.base/java/math/BigDecimal.html" target="_blank" rel="noopener noreferrer">BigDecimal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 加入了小数的概念; 一般的 float 和 double 类型数据只能用来做科学计算或工程计算, 但由于在商业计算中要求数字精度比较高, 所以要用到 BigDecimal 类; <strong>BigDecimal 类支持任何精度的浮点数, 可以用来精确计算货币值</strong></p> <p>BigDecimal 常用的构造方法如下</p> <ul><li><code>BigDecimal(double val)</code>：实例化时将双精度型转换为 BigDecimal 类型</li> <li><code>BigDecimal(String val)</code>：实例化时将字符串形式转换为 BigDecimal 类型</li></ul> <p>BigDecimal 类的方法可以用来做超大浮点数的运算, 像加、减、乘和除等; 在所有运算中, 除法运算是最复杂的, 因为在除不尽的情况下, 末位小数的处理方式是需要考虑的</p> <p>BigDecimal 类用于实现加、减、乘和除运算的基本方法</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>BigDecimal add(BigDecimal augend)</td> <td>加法操作</td></tr> <tr><td>BigDecimal subtract(BigDecimal subtrahend)</td> <td>减法操作</td></tr> <tr><td>BigDecimal multiply(BigDecimal multiplieand)</td> <td>乘法操作</td></tr> <tr><td>BigDecimal divide(BigDecimal divisor,int scale,int roundingMode)</td> <td>除法操作</td></tr></tbody></table> <p>上面的 <a href="https://www.apiref.com/java11-zh/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal,int,java.math.RoundingMode)" target="_blank" rel="noopener noreferrer">divide()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法的 3 个参数分别表示<strong>除数</strong>, <strong>商的小数点后的位数</strong>和<strong>近似值处理模式</strong></p> <p>roundingMode 参数支持的处理模式如下:</p> <table><thead><tr><th>模式名称</th> <th>说明</th></tr></thead> <tbody><tr><td>BigDecimal.ROUND_UP</td> <td>商的最后一位如果大于 0, 则向前进位, 正负数都如此</td></tr> <tr><td>BigDecimal.ROUND_DOWN</td> <td>商的最后一位无论是什么数字都省略</td></tr> <tr><td>BigDecimal.ROUND_CEILING</td> <td>商如果是正数, 按照 ROUND_UP 模式处理；如果是负数, 按照 ROUND_DOWN 模式处理</td></tr> <tr><td>BigDecimal.ROUND_FLOOR</td> <td>与 ROUND_CELING 模式相反, 商如果是正数, 按照 ROUND_DOWN 模式处理; 如果是负数, 按照 ROUND_UP 模式处理</td></tr> <tr><td>BigDecimal.ROUND_HALF_ DOWN</td> <td>对商进行五舍六入操作; 如果商最后一位小于等于 5, 则做舍弃操作, 否则对最后 一位进行进位操作</td></tr> <tr><td>BigDecimal.ROUND_HALF_UP</td> <td>对商进行四舍五入操作; 如果商最后一位小于 5, 则做舍弃操作, 否则对最后一位 进行进位操作</td></tr> <tr><td>BigDecimal.ROUND_HALF_EVEN</td> <td>如果商的倒数第二位是奇数, 则按照 ROUND_HALF_UP 处理；如果是偶数, 则按 照 ROUND_HALF_DOWN 处理</td></tr></tbody></table> <p>方法的基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigDecimal</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MathLearn</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Scanner</span> input <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个数字：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 保存用户输入的数字</span>
        <span class="token keyword">double</span> num <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 使用输入的数字创建BigDecimal对象</span>
        <span class="token class-name">BigDecimal</span> bd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字加上99.154的结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;加法操作结果：&quot;</span> <span class="token operator">+</span> bd<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">99.154</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字减去-25.157904的结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;减法操作结果：&quot;</span> <span class="token operator">+</span> bd<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">25.157904</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字乘以3.5的结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;乘法操作结果：&quot;</span> <span class="token operator">+</span> bd<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">3.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字除以3.14的结果, 并保留小数后2位</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;除法操作结果(保留 2 位小数)：&quot;</span> <span class="token operator">+</span> bd<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token constant">ROUND_CEILING</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 计算大数字除以3.14的结果, 并保留小数后5位</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;除法操作结果(保留 5 位小数)：&quot;</span> <span class="token operator">+</span> bd<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token constant">ROUND_CEILING</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>请输入一个数字：
45798.2456872
加法操作结果：45897.39968719999660606845282018184661865234375
减法操作结果：45823.403591199996608196443048655055463314056396484375
乘法操作结果：160293.85990519998813397251069545745849609375
除法操作结果(保留 2 位小数)：14585.43
除法操作结果(保留 5 位小数)：14585.42857
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="system"><a href="#system" class="header-anchor">#</a> System</h2> <p><a href="https://www.apiref.com/java11-zh/java.base/java/lang/System.html" target="_blank" rel="noopener noreferrer">System<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类提供的设施包括标准输入, 标准输出和错误输出流; 访问外部定义的属性和环境变量; 加载文件和库的方法; 以及用于快速复制阵列的一部分的实用方法</p> <p>System类提供了三个字段, 分别是: <code>System.err</code>(“标准”错误输出流), <code>System.in</code>( “标准”输入流), <code>System.out</code>(“标准”输出流)</p> <h4 id="system-out"><a href="#system-out" class="header-anchor">#</a> System.out</h4> <p><strong>System.out.print</strong>: 输出指定内容, 但<strong>不会</strong>在最后输出换行符(<code>\n</code>)</p> <p><strong>System.out.println</strong>: 输出指定内容, <strong>会</strong>在最后输出换行符(<code>\n</code>), 直接写<code>System.out.println()</code>会起到换行的作用</p> <p><strong>System.out.printf</strong>: 输出指定内容不换行, 通过使用占位符<code>%?</code>, <code>printf()</code>可以把后面的参数格式化成指定格式</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;i = %d \n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; i = 1</span>

<span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;d = %f \n&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; d = 1.230000</span>

<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;c = %c \n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; c = c</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>常用的占位符如下:</p> <table><thead><tr><th style="text-align:left;">占位符</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">%d</td> <td style="text-align:left;">格式化输出整数</td></tr> <tr><td style="text-align:left;">%x</td> <td style="text-align:left;">格式化输出十六进制整数</td></tr> <tr><td style="text-align:left;">%f</td> <td style="text-align:left;">格式化输出浮点数</td></tr> <tr><td style="text-align:left;">%e</td> <td style="text-align:left;">格式化输出科学计数法表示的浮点数</td></tr> <tr><td style="text-align:left;">%s</td> <td style="text-align:left;">格式化字符串</td></tr> <tr><td style="text-align:left;">%c</td> <td style="text-align:left;">格式化字符</td></tr></tbody></table> <p>注意, 由于**%<strong>表示占位符, 因此, 连续两个</strong>%%<strong>表示一个</strong>%**字符本身</p> <p>占位符本身还可以有更详细的格式化参数; 下面的例子把一个整数格式化成十六进制, 并用0补足8位：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">12345000</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;n=%d, hex=%08x&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>详细的格式化参数请参考JDK文档 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Formatter.html#syntax" target="_blank" rel="noopener noreferrer">类格式化程序<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="常用方法"><a href="#常用方法" class="header-anchor">#</a> 常用方法</h4> <h5 id="exit"><a href="#exit" class="header-anchor">#</a> exit()</h5> <p><code>static void exit(int status)</code></p> <p>终止当前运行的Java虚拟机, 该参数用作状态代码; 按照惯例, 非零状态代码表示异常终止;</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="currenttimemillis"><a href="#currenttimemillis" class="header-anchor">#</a> currentTimeMillis()</h5> <p><code>static long currentTimeMillis()</code></p> <p>以毫秒为单位返回当前时间, 和 Date类的<code>getTime()</code>很像, 不过<code>currentTimeMillis()</code>虽然返回值的时间单位是毫秒, 但值的粒度取决于底层操作系统, 并且可能更大</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1650548705416</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1650548705417</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="gc"><a href="#gc" class="header-anchor">#</a> gc()</h5> <p>请求系统进行垃圾回收, 完成内存中的垃圾清除, 至于系统是否立刻回收, 取决于系统中垃圾回收算法的实现以及系统执行时的情况</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="getproperty"><a href="#getproperty" class="header-anchor">#</a> getProperty()</h5> <p>获得系统中属性名为 key 的属性对应的值, 系统中常见的属性如下:</p> <table><thead><tr><th>属性名</th> <th>属性说明</th></tr></thead> <tbody><tr><td>java.version</td> <td>Java 运行时环境版本</td></tr> <tr><td>java.home</td> <td>Java 安装目录</td></tr> <tr><td>os.name</td> <td>操作系统的名称</td></tr> <tr><td>os.version</td> <td>操作系统的版本</td></tr> <tr><td>user.name</td> <td>用户的账户名称</td></tr> <tr><td>user.home</td> <td>用户的主目录</td></tr> <tr><td>user.dir</td> <td>用户的当前工作目录</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Java 运行时环境版本: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.version&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前操作系统是: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;os.name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前用户是: &quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="string"><a href="#string" class="header-anchor">#</a> String</h2> <p><code>String</code>类表示字符串, Java程序中的所有字符串文本(<strong>双引号括起来的</strong>)都实现为此类的实例</p> <p><code>String</code>类属于<a href="https://www.apiref.com/java11-zh/java.base/java/lang/package-summary.html" target="_blank" rel="noopener noreferrer"><code>java.lang</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>软件包, <code>java.lang</code>相关的包无需导入可以直接使用</p> <h3 id="string的构造方法"><a href="#string的构造方法" class="header-anchor">#</a> String的构造方法</h3> <ul><li>字符串不可变, 它们的值在创建后不能被更改</li> <li>虽然<code>String</code>的值是不可变的(<strong>变量指向不可变, 对应的值可变</strong>), 但是它们可以被共享</li> <li>字符串效果上相当于字符数组(<code>char[]</code>, JDK8及以前), 但是底层原理是字节数组(<code>byte[]</code>, JDK9及以后)</li></ul> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>String(byte[] bytes)</td> <td>使用平台的默认字符集解码指定的字节数组, 返回字符串</td></tr> <tr><td>String(char[] value)</td> <td>分配新的<code>String</code>, 使其表示当前包含在字符数组参数中的字符序列</td></tr> <tr><td>String(StringBuilder builder)</td> <td>解析<code>StringBuffer</code>为一个字符串</td></tr></tbody></table> <p><strong>基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 推荐使用这种方式</span>
<span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'d'</span><span class="token punctuation">,</span> <span class="token char">'e'</span><span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; abc</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; def</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; ghi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="string的特点"><a href="#string的特点" class="header-anchor">#</a> String的特点</h3> <p>通过<code>new</code>关键字创建的字符串对象, 每一次<code>new</code>都会申请一个内存空间, 即使内容相同, 但是地址值不同</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>以为<code>&quot;&quot;</code>方式定义的字符串时, 只要字符序列相同(顺序和大小写), 无论在程序代码中出现几次, JVM都只会建立<strong>一个</strong><code>String</code>对象, 并在字符串池中维护</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> str3 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str4 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str3 <span class="token operator">==</span> str4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="string比较"><a href="#string比较" class="header-anchor">#</a> String比较</h3> <p><code>String</code>类型是对象使用<code>==</code>比较是比较其地址值是否相同, 如果要比较其值是否相同可以使用<code>equals</code>方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 地址比较</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; false</span>
<span class="token comment">// 其地址值对应的值比较</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>equalsIgnoreCase()</code>方法可以忽略<strong>大小写</strong>进行字符串的比较</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;ABC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">&quot;ABC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>compareTo()</code>方法用于按字典顺序比较两个字符串的大小, 该比较是基于字符串各个字符的 <strong>Unicode 值</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 0</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 32</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str2<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; -32</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="string遍历"><a href="#string遍历" class="header-anchor">#</a> String遍历</h3> <p><code>length()</code>获取字符串的长度</p> <p><code>charAt(int i)</code>获取指定字符串指定索引的内容</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;HelloWrold&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; H e l l o W r o l d</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="常用方法-2"><a href="#常用方法-2" class="header-anchor">#</a> 常用方法</h3> <p>以下的方法与 JS 中的基本一致</p> <ul><li><code>toString()</code>,<code>indexOf()</code>,<code>lastIndexOf()</code>,<code>startsWith()</code>, <code>endsWith()</code></li> <li><code>concat()</code>,<code>split()</code>,<code>substring()</code>,<code>replace()</code>,  <code>replaceAll()</code>,</li> <li><code>trim()</code>, <code>toUpperCase()</code>,<code>toLowerCase()</code>, <code>repeat()</code>(<strong>jdk11</strong>以后才有)</li></ul> <p><strong>String.format()</strong></p> <p>C中的<code>sprintf</code>, Go中<code>fmt.printf</code>, Rust中的<code>format!()</code></p> <p>**static String valueOf(value) **</p> <p>将value转换为字符串</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">199</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 200</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>**String substring(int beginIndex, int endIndex) **</p> <p>类似 js 的 slice 但不支持负数</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Wrold</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; llo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>String replaceFirst(String regex, String replacement)</strong></p> <p>Java 中的<code>replace()</code>方法不能使用正则进行匹配替换需要使用<code>replaceFirst()</code>方法</p> <p><strong>int hashCode()</strong></p> <p>用于返回字符串的哈希码</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; -862458786</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>String intern()</strong></p> <p>返回字符串对象的规范化表示形式</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello Wrold</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>char charAt(int index)</strong></p> <p>返回指定索引处的<code>char</code>值</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 97</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 98</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>boolean isEmpty()</strong></p> <p>判断字符串是否为空</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 有空格也不算为空</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>byte[] getBytes()</strong></p> <p>使用平台的默认字符集将此<code>String</code>编码为字节序列, 将结果存储到新的字节数组中</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes1 <span class="token operator">=</span> <span class="token string">&quot;abcde&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes2 <span class="token operator">=</span> <span class="token string">&quot;中国&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认 UTF-8</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes3 <span class="token operator">=</span> <span class="token string">&quot;中国&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>bytes1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [97, 98, 99, 100, 101]</span>
<span class="token comment">// UTF-8 编码一个汉字占用3个字节</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>bytes2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [-28, -72, -83, -27, -101, -67]</span>
<span class="token comment">// GBK 编码一个汉字占用2个字节</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>bytes3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [-42, -48, -71, -6]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="stringbuilder"><a href="#stringbuilder" class="header-anchor">#</a> StringBuilder</h3> <p><code>String</code>在字符串拼接时每次都会返回一个新的<code>String</code>对象, 而使用<a href="https://www.apiref.com/java11-zh/java.base/java/lang/StringBuilder.html" target="_blank" rel="noopener noreferrer"><code>StringBuilder</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以解决这个问题, <code>StringBuilder</code>是一个可变的字符序列</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Hello Wrold</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 11</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// H</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="stringbuilder添加与反转"><a href="#stringbuilder添加与反转" class="header-anchor">#</a> StringBuilder添加与反转</h4> <p><code>append(任意数据类型)</code></p> <p>添加数据(<strong>会修改数据</strong>), 并返回对象本身</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> sb1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 其实返回的是相同的一个 StringBuilder对象</span>
<span class="token class-name">StringBuilder</span> sb2 <span class="token operator">=</span> sb1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>sb2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1 <span class="token operator">==</span> sb2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; true</span>

<span class="token comment">// 因为返回本身所以可以链式调用</span>
sb1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot; Wrold &quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">10086</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Hello Wrold 10086</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Hello Wrold 10086</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>reverse()</code></p> <p>反转本身的字符序列, 并返回对象本身</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; dlorW olleH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>insert(索引, 任意数据类型)</code></p> <p>在字符序列指定索引前插入给的数据, 并返回对象本身</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 123Hello Wrold</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="stringbuilder-和-string-相互转换"><a href="#stringbuilder-和-string-相互转换" class="header-anchor">#</a> StringBuilder 和 String 相互转换</h4> <p><code>StringBuilder</code> 对象中在字符串拼接不会重新生成新对象, 还有有比较好用的方法(<code>append()</code>,<code>reverse()</code>,<code>insert()</code>)</p> <p><strong>StringBuilder 转换为 String</strong></p> <p>使用<code>toString()</code>即可转换为<code>String</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// String str = sb; // Error 类型不兼容</span>
<span class="token class-name">String</span> str <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>String 转换为 StringBuilder</strong></p> <p>使用构造方法<code>StringBuilder(String s)</code>来转换为<code>StringBuilder</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello Wrold&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// StringBuilder sb = str; // Error 类型不兼容</span>
<span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="日期处理"><a href="#日期处理" class="header-anchor">#</a> 日期处理</h2> <p><strong>java.util.Date</strong>: Date 类主要封装了<strong>系统的日期和时间的信息</strong></p> <p><strong>java.text.SimpleDateFormat</strong>: SimpleDateFormat 类用来<strong>格式化日期</strong></p> <p><strong>java.util.Calendar</strong>: Calendar 类用来进行<strong>日历</strong>相关操作</p> <h3 id="date"><a href="#date" class="header-anchor">#</a> Date</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Date.html" target="_blank" rel="noopener noreferrer">Date<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 类表示系统特定的时间戳, 可以精确到毫秒; Date 对象表示时间的默认顺序是星期、月、日、小时、分、秒、年</p> <p><strong>构造方法</strong></p> <ul><li>Date()：以本地时间创建的日期对象</li> <li>Date(long date)：以1970年 月1日 0 时 0 分 0 秒(GMT)经过毫秒数为参数创建的对象</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token class-name">WrapperClass</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Date</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Sat Apr 23 20:45:09 CST 2022</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1650717655455</span>

        d<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 时差 八小时 + 设置的1小时</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Thu Jan 01 09:00:00 CST 1970</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="simpledateformat"><a href="#simpledateformat" class="header-anchor">#</a> SimpleDateFormat</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/text/SimpleDateFormat.html" target="_blank" rel="noopener noreferrer">SimpleDateFormat<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类是一个用于以区域设置敏感的方式格式化和解析日期的具体类, 它允许格式化日期和解析</p> <p><strong>构造方法</strong></p> <ul><li>SimpleDateFormat()：用默认的格式和默认的语言环境构造 SimpleDateFormat</li> <li>SimpleDateFormat(String pattern)：用指定的格式和默认的语言环境构造 SimpleDateF ormat</li></ul> <p>**常用的字母含义表: **</p> <table><thead><tr><th style="text-align:center;">字母</th> <th>含义</th></tr></thead> <tbody><tr><td style="text-align:center;">y</td> <td>年份; 一般用 yy 表示两位年份, yyyy 表示 4 位年份</td></tr> <tr><td style="text-align:center;">M</td> <td>月份; 一般用 MM 表示月份, 如果使用 MMM, 则会 根据语言环境显示不同语言的月份</td></tr> <tr><td style="text-align:center;">d</td> <td>月份中的天数; 一般用 dd 表示天数</td></tr> <tr><td style="text-align:center;">D</td> <td>年份中的天数; 表示当天是当年的第几天,  用 D 表示</td></tr> <tr><td style="text-align:center;">E</td> <td>星期几; 用 E 表示, 会根据语言环境的不同,  显示不同语言的星期几</td></tr> <tr><td style="text-align:center;">H</td> <td>一天中的小时数(0~23); 一般用 HH 表示小时数</td></tr> <tr><td style="text-align:center;">h</td> <td>一天中的小时数(1~12); 一般使用 hh 表示小时数</td></tr> <tr><td style="text-align:center;">m</td> <td>分钟数; 一般使用 mm 表示分钟数</td></tr> <tr><td style="text-align:center;">s</td> <td>秒数; 一般使用 ss 表示秒数</td></tr> <tr><td style="text-align:center;">S</td> <td>毫秒数; 一般使用 SSS 表示毫秒数</td></tr></tbody></table> <h4 id="格式化-date-string"><a href="#格式化-date-string" class="header-anchor">#</a> 格式化(Date -&gt; String)</h4> <p><code>format()</code>: 将日期格式成日期/时间字符串</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">ParseException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnDate</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 给定模式字符串生成 SimpleDateFormat 实例</span>
        <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2022-04-23 21:06:06</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="解析-string-date"><a href="#解析-string-date" class="header-anchor">#</a> 解析(String -&gt; Date)</h4> <p><code>parse()</code>: 从给定的字符串解析生成日期</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">ParseException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnDate</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ParseException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Date</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 给定的字符串一定要和 SimpleDateFormat 实例的模式对应的上不然会报错(解析异常)</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2099-12-30 12:15:11&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wed Dec 30 12:15:11 CST 2099</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="calendar"><a href="#calendar" class="header-anchor">#</a> Calendar</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Calendar.html" target="_blank" rel="noopener noreferrer">Calendar<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 为某一个特定时刻和一组日历字段之间的转换提供了一些方法, 并为操作日历字段提供方法</p> <p>创建 Calendar 对象<strong>不能使用 new 关键字</strong>, 因为 Calendar 类是一个抽象类, 但是它提供了一个 <code>getInstance()</code> 方法来获得 Calendar类的对象</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Calendar</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnDate</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Calendar</span> rightNow <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rightNow<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 很多的日历字段</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>常用方法:</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>int get(int field)</td> <td>返回指定日历字段的值</td></tr> <tr><td>void add(int field, int amount)</td> <td>根据日历的规则, 为给定的日历字段添加或减去指定的时间量</td></tr> <tr><td>void set(int year, int month, int date)</td> <td>设置日历字段 YEAR、MONTH 和 DAY_OF_MONTH 的值</td></tr></tbody></table> <p><strong>get()</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 年</span>
<span class="token keyword">int</span> year <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 月 0 ~ 11</span>
<span class="token keyword">int</span> month <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MONTH</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 日</span>
<span class="token keyword">int</span> day <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d年%d月%d日&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2022年4月23日</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>add()</strong></p> <div class="language-JAVA line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Calendar</span> rightNow <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 减去23年(正数加, 负数减)</span>
rightNow<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 减去22天</span>
rightNow<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DATE</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> year <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> month <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MONTH</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> day <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d年%d月%d日&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1999年4月1日</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>set()</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 设置 1999年4月1日</span>
<span class="token comment">// 月份从0开始计算的</span>
rightNow<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1999</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> year <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> month <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MONTH</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> day <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d年%d月%d日&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1999年4月1日</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>利用Calendar类来计算任意年的2月份天数:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入任意年份: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> year <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Calendar</span> rightNow <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置日历的年月日</span>
<span class="token comment">// 月份从0开始计算的</span>
rightNow<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3月1日往前推一天就是2月最后一天</span>
rightNow<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DATE</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> day <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d年的2月份有%d天&quot;</span><span class="token punctuation">,</span> year<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="正则表达式"><a href="#正则表达式" class="header-anchor">#</a> 正则表达式</h2> <p>Java 中的正则就是由普通的字符(如字符 a~z)以及特殊字符(元字符)组成的文字模式, 任意字符串都可以当成正则表达式使用; 例如“abc”, 它也是一个正则表达式, 只是它只能匹配“abc”字符串</p> <p>正则表达式的记忆方式: <code>d</code> 是 <strong>digit</strong> 代表数字, <code>s</code> 是 <strong>space</strong> 代表空白, <code>w</code> 是 <strong>word</strong> 代表单词, <code>d, s, w</code> 的大写形式恰好匹配与之相反的字符</p> <p>String 类里也提供了如下几个特殊的方法;</p> <p><code>matches(regex)</code>: 判断该字符串是否匹配指定的正则表达式</p> <p><code>replaceAll(regex, replacement)</code>: 将该字符串中所有匹配 <code>regex</code> 的子串替换成 <code>replacement</code></p> <p><code>replaceFirst(regex, replacement)</code>: 将该字符串中第一个匹配 <code>regex</code> 的子串替换成 <code>replacement</code></p> <p><code>split(regex)</code>: 以 <code>regex</code> 作为分隔符, 把该字符串分割成多个子串</p> <p>Java中使用正则表达式中的特殊字符(<strong>元字符, 边界符, 预定义字符</strong>)都需要使用<code>\</code>进行转义</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;123HelloWrold&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;\\d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 23HelloWrold</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;\\d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//=&gt; HelloWrold</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;^123HelloWrold$&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;(abc)&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;\\(abc\\)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="pattern-和-matcher"><a href="#pattern-和-matcher" class="header-anchor">#</a> Pattern 和 Matcher</h3> <p><code>java.util.regex</code> 是一个用正则表达式所订制的模式来对字符串进行匹配工作的类库包, 它包括两个类：<strong>Pattern</strong> 和 <strong>Matcher</strong></p> <h2 id="集合"><a href="#集合" class="header-anchor">#</a> 集合</h2> <p>在 Java 中数组的长度是不可修改的; 然而在实际应用的很多情况下, 无法确定数据数量; 这些数据不适合使用数组来保存, 这时候就需要使用集合</p> <p>集合默认是可以存储任何引用数据类型的数据(不能存储基本数据类型, 包装类可以), 但是一般不会这么做, 而是会集合中使用泛型来约束集合的类型</p> <p>Java 集合类型分为<a href="https://www.apiref.com/java11-zh/java.base/java/util/Collection.html" target="_blank" rel="noopener noreferrer"><code>Collection</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://www.apiref.com/java11-zh/java.base/java/util/Map.html" target="_blank" rel="noopener noreferrer"><code>Map</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 它们是 Java 集合的根接口, 这两个接口又包含了一些子接口或实现类</p> <p>Collection接口基本结构:</p> <p><img src="/note-sites/assets/img/image-20220427113925848.1c79cf0d.png" alt="image-20220427113925848"></p> <p>Map接口基本结构:</p> <p><img src="/note-sites/assets/img/image-20220427114048048.7e5ce759.png" alt="image-20220427114048048"></p> <blockquote><p>黄色为接口, 蓝色为实现类</p></blockquote> <p>java集合接口的作用:</p> <table><thead><tr><th style="text-align:center;">接口名称</th> <th>作  用</th></tr></thead> <tbody><tr><td style="text-align:center;">Iterator</td> <td>集合的输出接口, 主要用于遍历输出(即迭代访问)Collection 集合中的元素, Iterator 对象被称之为迭代器</td></tr> <tr><td style="text-align:center;">Collection</td> <td>是 List、Set 和 Queue 的父接口, 一般很少直接使用此接口直接操作</td></tr> <tr><td style="text-align:center;">Queue</td> <td>Queue 是 Java 提供的队列实现</td></tr> <tr><td style="text-align:center;">Dueue</td> <td>是 Queue 的一个子接口, 为双向队列</td></tr> <tr><td style="text-align:center;">List</td> <td>是最常用的接口; 是有序集合, 允许有相同的元素; 使用 List 能够精确地控制每个元素插入的位置, 用户能够使用索引(元素在 List 中的位置, 类似于数组下标)来访问 List 中的元素, 与数组类似;</td></tr> <tr><td style="text-align:center;">Set</td> <td>不包含重复元素的集合</td></tr> <tr><td style="text-align:center;">Map</td> <td>接口中的每个元素都以 <code>key: value</code> 的形式保存</td></tr></tbody></table> <p>Java集合实现类的作用:</p> <table><thead><tr><th style="text-align:center;">类名称</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;">HashSet</td> <td style="text-align:left;">为优化査询速度而设计的 Set, 基于 HashMap 实现的, HashSet 底层使用 HashMap 来保存所有元素</td></tr> <tr><td style="text-align:center;">TreeSet</td> <td style="text-align:left;">实现了 Set 接口, 有<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Comparable.html" target="_blank" rel="noopener noreferrer">自然排序<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://www.apiref.com/java11-zh/java.base/java/util/Comparator.html" target="_blank" rel="noopener noreferrer">比较器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>排序</td></tr> <tr><td style="text-align:center;">ArrayList</td> <td style="text-align:left;">一个用数组实现的 List, 能进行快速的随机访问, 效率高而且实现了可变大小的数组</td></tr> <tr><td style="text-align:center;">ArrayDueue</td> <td style="text-align:left;">是一个基于数组实现的双端队列, 按“先进先出”的方式操作集合元素</td></tr> <tr><td style="text-align:center;">LinkedList</td> <td style="text-align:left;">链表实现, 对顺序访问进行了优化, 但随机访问的速度相对较慢</td></tr> <tr><td style="text-align:center;">HsahMap</td> <td style="text-align:left;">按哈希算法来存取键对象</td></tr> <tr><td style="text-align:center;">TreeMap</td> <td style="text-align:left;">可以对键对象进行排序</td></tr></tbody></table> <h3 id="collection"><a href="#collection" class="header-anchor">#</a> Collection</h3> <p>Collection 是单例集合的顶层接口, 它表示一组对象, 这些对象也称为Collection的元素</p> <p>JDK不提供此接口的任何直接实现, 它提供更具体的子接口(如 Set和List)实现</p> <p>不能使用直接使用Collection, 只能通过多态(实现类)的形式使用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collection</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnCollection</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 多态的形式使用</span>
        <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [hello, world]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="常用方法-3"><a href="#常用方法-3" class="header-anchor">#</a> 常用方法</h4> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean add(E e)</td> <td>添加元素</td></tr> <tr><td>boolean remove(Object o)</td> <td>异常元素</td></tr> <tr><td>void clear()</td> <td>清空集合中的元素</td></tr> <tr><td>boolean contains(Object o)</td> <td>判断集合中是否存在指定的元素</td></tr> <tr><td>boolean isEmpty()</td> <td>判断集合是否为空</td></tr> <tr><td>int size()</td> <td>集合的长度, 也就是集合中的元素数</td></tr></tbody></table> <p>方法基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collection</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnCollection</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以存储重复的值</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c 集合添加 java 字符串是否成功: &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c = &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c 集合移除 \&quot;123\&quot; 是否成功: &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c 集合大小: &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c 集合是否存在 \&quot;hello\&quot;: &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c 集合是否为空: &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c = &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>c 集合添加 java 字符串是否成功: true
c = [hello, world, world, java]
c 集合移除 &quot;123&quot; 是否成功: false
c 集合大小: 3
c 集合是否存在 &quot;hello&quot;: true
c 集合是否为空: true
c = []
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="collection-的遍历"><a href="#collection-的遍历" class="header-anchor">#</a> Collection 的遍历</h4> <p>Collection 集合使用迭代器(iterator)进行遍历</p> <p><code>Iterator&lt;E&gt; iterator()</code>: 返回此集合中元素的迭代器</p> <p>迭代器(<a href="https://www.apiref.com/java11-zh/java.base/java/util/Iterator.html" target="_blank" rel="noopener noreferrer">Iterator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)是通过集合的<code>iterator()</code>方法得到的, 它是依赖于集合而存在的</p> <p>**iterator常用方法: **</p> <p><code>E next()</code>: 返回迭代中的下一个元素</p> <p><code>boolean hasNext()</code>: 如果迭代具有更多元素, 则返回<code>true</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnCollection</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取迭代器, 迭代器的泛型必须和集合的一致</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it1 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// world</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// java</span>
        <span class="token comment">// System.out.println(it1.next()); // 迭代没有更多元素 NoSuchElementException</span>
        <span class="token comment">// 每调用一次 next() 迭代器的下标就往后移动一位, 已经到头了没有元素获取了</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it1<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;学习 java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 重新获取一个迭代器</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it2 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>it2<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> s <span class="token operator">=</span> it2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// it2 这个迭代器也已经到头了</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it2<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="list"><a href="#list" class="header-anchor">#</a> List</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/List.html" target="_blank" rel="noopener noreferrer">List<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>有序集合(也称为序列), 该接口的用户可以精确控制列表中每个元素的插入位置,  用户可以通过<strong>整数索引访问元素</strong>, 并搜索列表中的元素, 并且是允许重复的元素</p> <p>List集合的特点: <strong>有序(存储和取出的元素顺序一致), 可重复(存储的元素可以重复)</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnList</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 可重复</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list = &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// list = [hello, world, java, world]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>

        <span class="token class-name">Iterator</span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 有序</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="list集合特有方法"><a href="#list集合特有方法" class="header-anchor">#</a> List集合特有方法</h4> <p>List继承自Collection拥有所有的Collection方法, 另外List还有一些特有的方法, 常用方法如下:</p> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>void add(int index, E element)</td> <td>在集合中的指定索引位置插入指定的元素</td></tr> <tr><td>E remove(int index)</td> <td>删除指定索引处的元素, 返回被删除的元素</td></tr> <tr><td>E set(int index, E element)</td> <td>修改指定索引处的元素, 返回被修改的元素</td></tr> <tr><td>E get(int index)</td> <td>返回指定索引处的元素</td></tr></tbody></table> <h4 id="list集合子类的特点"><a href="#list集合子类的特点" class="header-anchor">#</a> List集合子类的特点</h4> <p>List集合常用子类: ArrayList, LinkedList</p> <ul><li>ArrayList: 底层数据结构时数组, <strong>查询块, 增删慢</strong></li> <li>LinkedList: 底层数据结构时链表, <strong>查询慢, 增删块</strong></li></ul> <h3 id="arraylist"><a href="#arraylist" class="header-anchor">#</a> ArrayList</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/ArrayList.html" target="_blank" rel="noopener noreferrer"><code>ArrayList</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一种可调整大小的<strong>数组实现</strong>, 属于<a href="https://www.apiref.com/java11-zh/java.base/java/util/List.html" target="_blank" rel="noopener noreferrer">List<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的子类, 实现所有可选列表操作, 并允许所有元素, 包括<code>null</code>;除了实现<code>List</code>接口之外, 此类还提供了一些方法来操作内部用于存储列表的数组的大小</p> <p><strong>常用方法</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void add(int index, E element)</td> <td>在指定索引前插入给定的元素</td></tr> <tr><td>boolean add(E e)</td> <td>向集合添加给定的元素, 返回布尔值表示是否添加成功</td></tr> <tr><td>boolean remove(Object o)</td> <td>删除指定的元素, 返回布尔值表示是否删除成功</td></tr> <tr><td>E remove(int index)</td> <td>删除指定索引处的元素, 返回被删除的元素</td></tr> <tr><td>E get(int index)</td> <td>返回指定索引处的元素</td></tr> <tr><td>E set(int index, E element)</td> <td>修改指定索引处的元素, 返回被修改的元素</td></tr> <tr><td>int size()</td> <td>返回集合中元素的个数, 效果同数组的length</td></tr> <tr><td>void clear()</td> <td>删除动态数组中的所有元素</td></tr> <tr><td>boolean retainAll(Collection&lt;?&gt; c)</td> <td>仅保留此列表中包含在指定集合中的元素</td></tr></tbody></table> <h4 id="基本方法使用"><a href="#基本方法使用" class="header-anchor">#</a> 基本方法使用</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token comment">// 引入 java.util.ArrayList 类</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListLearn</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建存储 String 的 ArrayList</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 这样写编译器会自动推断出类型</span>
        <span class="token comment">// ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();</span>

        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;wrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 在索引为0, 的前面插入给定的数据</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;learn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;你好啊&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// list.add(999, &quot;test&quot;); // Error 集合的索引越界 IndexOutOfBoundsException</span>
        
        list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ArrayList 可以跟字符串使用 + 相连</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; list: [set, wrold, 你好啊]</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; set	wrold	你好啊</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><blockquote><p><code>ArrayList</code>需要通过索引值操作的方法, 给定的索引值必须小于或等于其<code>size()</code>否则就会出现索引越界错误</p></blockquote> <p>使用<code>ArrayList</code>可以存储任意的数据类型数据</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token comment">// 引入 Person 类</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">classLearn<span class="token punctuation">.</span></span><span class="token class-name">Person</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListLearn</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建存储 Person 的 ArrayList</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        personList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token char">'男'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        personList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token char">'女'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        personList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token char">'男'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> personList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            personList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="其他方法"><a href="#其他方法" class="header-anchor">#</a> 其他方法</h4> <ul><li><code>forEach()</code>, <code>toString()</code>, <code>indexOf()</code>,<code>lastIndexOf()</code></li></ul> <p><code>forEach()</code></p> <p>用法大体上和 JS 的<code>forEach</code>基本一致, 但是只会接受一个参数, 就是循环的当前项</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> listStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;learn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;JavaEE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

listStr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 这里是用 -&gt; </span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>e <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Hello	World	learn	JavaEE</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>subList()</code></p> <p>截取并返回动态数组中的一部分, 不支持负数, 必须传递两个参数, 类似 JS 中的<code>slice</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> listStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;learn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;JavaEE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listStr<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> listStr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [World, learn, JavaEE]</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listStr<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [World, learn]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>sort()</code></p> <p>根据指定的顺序对动态数组中的元素进行排序, 需要(<strong>java.util.Comparator</strong>包)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> listStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;learn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;JavaEE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Comparator.naturalOrder 升序</span>
listStr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">naturalOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [Hello, JavaEE, World, learn]</span>

<span class="token comment">// Comparator.reverseOrder 降序</span>
listStr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [learn, World, JavaEE, Hello]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><code>clone()</code></p> <p>用于拷贝一份动态数组, 属于浅拷贝</p> <p><code>toArray()</code></p> <p>将 Arraylist 对象转换为数组</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> listStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;learn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
listStr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;JavaEE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [World, learn, JavaEE]</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listStr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listStr<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Hello</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>isEmpty()</code></p> <p>判断动态数组是否为空</p> <p><code>contains()</code></p> <p>判断元素是否在动态数组中</p> <p><code>trimToSize()</code></p> <p>用于将动态数组中的容量调整为数组中的元素个数</p> <h3 id="并发修改异常"><a href="#并发修改异常" class="header-anchor">#</a> 并发修改异常</h3> <p>迭代器遍历的过程中, 通过集合对象修改了集合中元素的长度, 造成了迭代器获取元素中判断预期修改值和实际修改值不一致</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 并发修改异常 ConcurrentModificationException</span>
    <span class="token comment">// 迭代器 next() 方法里面有实际次数和预期次数的一个判断</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// add() 方法会修改实际次数</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list = &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>使用常规for循环可以避免这个问题</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// get() 里面没有实际次数和预期次数的相关判断</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="listiterator"><a href="#listiterator" class="header-anchor">#</a> ListIterator</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/ListIterator.html" target="_blank" rel="noopener noreferrer">ListIterator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>列表迭代器(List特有)</p> <p>允许程序员在任意方向上遍历列表, 在<strong>迭代期间修改列表</strong>, 并获取迭代器在列表中的当前位置</p> <h4 id="常用方法-4"><a href="#常用方法-4" class="header-anchor">#</a> 常用方法</h4> <p>继承自<a href="https://www.apiref.com/java11-zh/java.base/java/util/ListIterator.html" target="_blank" rel="noopener noreferrer">Iterator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>同样具有hasNext()和next(),还有与之对应的两个方法:</p> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean hasNext()</td> <td>如果此列表迭代器在<strong>向前遍历</strong>列表时具有更多元素, 则返回<code>true</code></td></tr> <tr><td>E next()</td> <td>返回列表中的<strong>下一个元素</strong>并前进光标位置</td></tr> <tr><td>boolean hasPrevious()</td> <td>如果此列表迭代器在<strong>反向遍历</strong>列表时具有更多元素, 则返回<code>true</code></td></tr> <tr><td>int previous()</td> <td>返回列表中的<strong>上一个元素</strong>并向后移动光标位置</td></tr> <tr><td>void add(E e)</td> <td>将指定的元素插入列表(<strong>迭代器修改集合</strong>)</td></tr></tbody></table> <h5 id="正向遍历和反向遍历"><a href="#正向遍历和反向遍历" class="header-anchor">#</a> 正向遍历和反向遍历</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 正向遍历</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 反向遍历</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h5 id="迭代器修改集合"><a href="#迭代器修改集合" class="header-anchor">#</a> 迭代器修改集合</h5> <p>使用iterator迭代器在迭代时修改集合会产生并发修改异常, 但是使用listIterator迭代器是<strong>不会</strong>的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取 ListIterator 迭代器</span>
<span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 通过ListIterator迭代器的add()添加元素到集合中</span>
        <span class="token comment">// 会自动修改实际次数和预期次数的值, 所以不会引起并发修改异常</span>
        it<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list = &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// list = [hello, 123, world, java]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="forearch循环"><a href="#forearch循环" class="header-anchor">#</a> forEarch循环</h3> <p>实现lterable接口的类允许其对象成为增强型for语句的目标</p> <p>增强型for语句就是<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)" target="_blank" rel="noopener noreferrer">for-earch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>循环, 它是JDK5之后出现的, 其内部原理是一个lterator迭代器</p> <p><code>for-each</code>循环是<code>for</code>循环的增强, 常用于遍历数组, 集合, 类似 JS 中的<code>for...of</code></p> <p>格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>元素类型 变量名<span class="token operator">:</span> 数组或集合<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">:</span> listNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3 </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>增强for循环内部原理其实就是一个Iterator, 可以使用并发修改异常测试</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;wrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// ConcurrentModificationException</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 触发并发修改异常</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="数据结构"><a href="#数据结构" class="header-anchor">#</a> 数据结构</h3> <p>数据结构是计算机存储、组织数据的方式; 是指相互之间存在一种或多种特定关系的数据元素的集合</p> <p>特定的数据结构可以带来更高的性能和运行效率</p> <h4 id="栈-2"><a href="#栈-2" class="header-anchor">#</a> 栈</h4> <p>栈(stack)类型数据是一种<strong>先进后出</strong>的模型</p> <p>数据进入被称为: 压栈或进栈</p> <p>数组出来被称为: 弹栈或出栈</p> <h4 id="队列"><a href="#队列" class="header-anchor">#</a> 队列</h4> <p>队列(queue)是数据类型是一种<strong>先进先出</strong>的模型</p> <p>数据进入被称为: 入队列</p> <p>数组出来被称为: 出队列</p> <h4 id="数组-2"><a href="#数组-2" class="header-anchor">#</a> 数组</h4> <p>数组(array)是通过索引存储的一组数据</p> <p>查询数据通过索引定位, 查询任意数据耗时相同, <strong>查询速度快</strong></p> <p>删除数据时, 需要将原始数据删除, 同时将后面的每个元素前移, <strong>删除效率低</strong></p> <p>添加数据时, 添加位置后的每个数据后移, 再添加数据, <strong>添加效率低</strong></p> <p>总结数据是一个<strong>查询块, 增删慢</strong>的模型</p> <h4 id="链表"><a href="#链表" class="header-anchor">#</a> 链表</h4> <p>链表(linked list)是通过<strong>节点</strong>来存储数据的, 每个节点都存储有本身的数据和指向下一个节点的地址, 同时还有两个特殊的节点; 头节点和尾节点分别指向链表的第一个节点和最后一个节点, 增加和删除数据时只需要修改节点的指向即可</p> <p>链表是一种<strong>增删快</strong>的模型(对比数组), 但是<strong>查询很慢</strong>因为每次都要从头节点开始查询(对比数组)</p> <h4 id="哈希表"><a href="#哈希表" class="header-anchor">#</a> 哈希表</h4> <p>哈希表(Hash table, 也叫散列表)在JDK8之前, 底层是采用<strong>数组+链表</strong>实现的, 可以说是一个元素为链表的数组</p> <p>JDK8以后, 在长度比较长的时候, 底层实现了优化</p> <p><img src="/note-sites/assets/img/image-20220426225900338.add90ac3.png" alt="image-20220426225900338"></p> <h3 id="linkedlist"><a href="#linkedlist" class="header-anchor">#</a> LinkedList</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/LinkedList.html" target="_blank" rel="noopener noreferrer">LinkedList<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类(双链表)实现了<a href="https://www.apiref.com/java11-zh/java.base/java/util/List.html" target="_blank" rel="noopener noreferrer"><code>List</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://www.apiref.com/java11-zh/java.base/java/util/Deque.html" target="_blank" rel="noopener noreferrer"><code>Deque</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>接口, 实现所有可选列表操作, 并允许所有元素(包括<code>null</code> ), 对于双向链表, 所有操作都可以预期; 索引到列表中的操作将<strong>从开头</strong>或<strong>结尾</strong>遍历列表, 以较接近指定索引为准</p> <p>除了一些常规方法, LinkedList还包括一些链表常用方法, 如下:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void addFirst(E e)</td> <td>在此列表的开头插入指定的元素</td></tr> <tr><td>void addLast(E e)</td> <td>将指定的元素追加到此列表的末尾</td></tr> <tr><td>E getFirst()</td> <td>返回此列表中的第一个元素</td></tr> <tr><td>E getLast()</td> <td>返回此列表中的最后一个元素</td></tr> <tr><td>E pollFirst()</td> <td>检索并删除此列表的第一个元素, 如果此列表为空, 则返回 <code>null</code></td></tr> <tr><td>E removeLast()</td> <td>从此列表中删除并返回最后一个元素</td></tr></tbody></table> <h4 id="基本方法使用-2"><a href="#基本方法使用-2" class="header-anchor">#</a> 基本方法使用</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnLinkedLink</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// world</span>

        <span class="token comment">// 添加头尾节点</span>
        list<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token string">&quot;header&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token string">&quot;tail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;头节点是: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 头节点是: header</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;尾节点是: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 尾节点是: tail</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list = &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// list = [header, hello, world, tail]</span>

        <span class="token comment">// 删除头尾节点</span>
        list<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list = &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// list = [hello, world]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="set"><a href="#set" class="header-anchor">#</a> Set</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Set.html" target="_blank" rel="noopener noreferrer">set<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>集合的特点是不包含重复元素的集合, 没有带索引访问的方法, 所以不能使用普通的for循环遍历, 除了这些特点其他的和Collection一样(Set同样是一个接口, 需要使用请使用其实现类, 比如: HashSet)</p> <h4 id="hashset"><a href="#hashset" class="header-anchor">#</a> HashSet</h4> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/HashSet.html#method.summary" target="_blank" rel="noopener noreferrer">HashSet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>实现<code>Set</code>接口, 由哈希表(实际上是<code>HashMap</code>实例)支持, 它<strong>不保证集合的迭代顺序</strong>, 并且此类允许<code>null</code>元素, 跟其他List使用方法一致, 只不过没有使用索引访问元素的方法</p> <h4 id="set方法的基本使用"><a href="#set方法的基本使用" class="header-anchor">#</a> Set方法的基本使用</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnSet</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用其实现类 HashSet 实例化</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 添加元素</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 添加重复元素</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Set 不会保存重复的元素, HashSet 不保证迭代顺序</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list = &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// list = [world, java, hello]</span>

        <span class="token comment">// 删除元素</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 增强for循环 循环</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// HashSet 不保证迭代顺序</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// java hello</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 清空元素</span>
        list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h4 id="哈希值"><a href="#哈希值" class="header-anchor">#</a> 哈希值</h4> <p>哈希值:是JDK根据对象的<strong>地址</strong>, <strong>字符串</strong>或者<strong>数字</strong>算出来的<code>int</code>类型的<strong>数值</strong></p> <p>Object类中有一个<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Object.html#hashCode()" target="_blank" rel="noopener noreferrer">hashCode()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法可以获取对象的哈希值</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Person</span> xm1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> xm2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 同一个对象多次调用 hashCode() 返回同一个哈希值</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xm1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 23934342</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xm1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 23934342</span>

<span class="token comment">// 默认情况下, 不同对象的哈希值是不一样的, 即使是属性一样哈希值也不一样</span>
<span class="token comment">// 因为可以通过方法重写手动的修改 hashCode() 方法的返回值</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;xm1.hashCode = &quot;</span> <span class="token operator">+</span> xm1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 23934342</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;xm2.hashCode = &quot;</span> <span class="token operator">+</span> xm2<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 22307196</span>

<span class="token comment">// 字符串相同返回的哈希值是一样的</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 99162322</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 99162322</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 113318802</span>

<span class="token comment">// 注意, 中文 &quot;重地&quot; 和 &quot;通话&quot; 返回的哈希值是一样的</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;重地&quot;</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1179395</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;通话&quot;</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1179395</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;吃饭&quot;</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 705994</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>HashSet集合保证元素的唯一性就是使用元素的哈希值进行比较的, 相同则不添加, 所以要保证元素的唯一性需要重写<strong>hashCode()<strong>和</strong>equals()</strong>, IDEA自动生成即可</p> <h3 id="linkedhashset"><a href="#linkedhashset" class="header-anchor">#</a> LinkedHashSet</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/LinkedHashSet.html" target="_blank" rel="noopener noreferrer">LinkedHashSet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是Hash表和Set接口的链表实现, 由链表保证元素是有序的, 由哈希表保证元素是唯一的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;222&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;333&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加重复元素</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;333&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 有序且不重复</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 111 222 333 </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="treeset"><a href="#treeset" class="header-anchor">#</a> TreeSet</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/TreeSet.html" target="_blank" rel="noopener noreferrer">TreeSet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的元素是有序的(有<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Comparable.html" target="_blank" rel="noopener noreferrer">自然排序<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://www.apiref.com/java11-zh/java.base/java/util/Comparator.html" target="_blank" rel="noopener noreferrer">比较器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>排序), 具体排序取决于构造方法:</p> <p>无参构造方法, 根据其元素的自然顺序进行排序</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 无参构造方法元素会自然排序</span>
<span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 重复不添加</span>
ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> i <span class="token operator">:</span> ts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 自然排序(升序)从小到大</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3 4 5</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>带参构造方法, 根据指定的比较器进行比较排序</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> comparator<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="自然排序的基本使用"><a href="#自然排序的基本使用" class="header-anchor">#</a> 自然排序的基本使用</h4> <p>自然排序就是让元素所属的类实现<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Comparable.html" target="_blank" rel="noopener noreferrer">Comparable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>接口, 重写<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Comparable.html#compareTo(T)" target="_blank" rel="noopener noreferrer">compareTo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法</p> <p>重写方法时, 一定要注意排序规则按照<strong>主要条件</strong>和<strong>次要条件</strong>编写, 不然就会造成元素比较异常</p> <p><strong>Person类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token comment">// 实现自然排序(Comparable)接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

	<span class="token comment">// 省略构造方法 和 getter/setter ...</span>

    <span class="token comment">// 重写 compareTo 方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Person</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 返回0 表示两个元素相同不添加元素进集合</span>
        <span class="token comment">// return 0;</span>

        <span class="token comment">// 返回1 表示元素升序排序</span>
        <span class="token comment">// return 1;</span>

        <span class="token comment">// 返回-1 表示元素降序排序</span>
        <span class="token comment">// return -1;</span>

        <span class="token comment">// 通过 this 和 方法参数 可以拿到对比的两个元素</span>
        <span class="token comment">// System.out.println(&quot;this.name = &quot; + this.name);</span>
        <span class="token comment">// System.out.println(&quot;s.name = &quot; + s.name);</span>

        <span class="token comment">// 年龄升序排列</span>
        <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">-</span> s<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
        <span class="token comment">// 年龄降序排列</span>
        <span class="token comment">// num = s.age - this.age;</span>
        
        <span class="token comment">// 单纯使用某个值排序进行排序遇到相同的值时会误以为是相同的就不添加元素</span>
        <span class="token comment">// 年龄相同时</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 比较姓名需要使用compareTo方法(升序)</span>
            num <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">TreeSet</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnComparable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;貂蝉&quot;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;西施&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;王昭君&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;杨玉环&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 张飞年龄 和 杨玉环年龄 相同</span>
        <span class="token class-name">Person</span> p5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张飞&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 貂蝉重复了</span>
        <span class="token class-name">Person</span> p6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;貂蝉&quot;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p6<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> p <span class="token operator">:</span> ts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="比较器排序的基本使用"><a href="#比较器排序的基本使用" class="header-anchor">#</a> 比较器排序的基本使用</h4> <p>TreeSet集合参数构造方法使用的是<a href="https://www.apiref.com/java11-zh/java.base/java/util/Comparator.html" target="_blank" rel="noopener noreferrer">Comparator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(比较器接口)进行排序,</p> <p>实现比较器接口就是让集合构造方法接受Comparator的实现类, 然后重写该实现类的<a href="https://www.apiref.com/java11-zh/java.base/java/util/Comparator.html#compare(T,T)" target="_blank" rel="noopener noreferrer">compare<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Comparator</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">TreeSet</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnComparator</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;貂蝉&quot;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;西施&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;王昭君&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;杨玉环&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张飞&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 构造方法参数使用匿名类的方式实现 Comparator 接口的</span>
        <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Person</span> s1<span class="token punctuation">,</span> <span class="token class-name">Person</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 这里面的 this 其实是测试类LearnComparator</span>
                <span class="token comment">// System.out.println(this.getClass().getName());</span>

                <span class="token comment">// 方法参数 s1 和 s2 才是比较的两个元素</span>
                <span class="token comment">// System.out.println(s1.getName());</span>
                <span class="token comment">// System.out.println(s2.getName());</span>

                <span class="token comment">// 年龄升序(降序反过来)</span>
                <span class="token keyword">int</span> num <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> s2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">// 年龄相同</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 名称升序</span>
                    num <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> num<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> p <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>Comparator接口是一个功能接口, 因此可以用作lambda表达式或方法引用的赋值目标</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;貂蝉&quot;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;西施&quot;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;王昭君&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> p4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;杨玉环&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> p5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张飞&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用 lambad 表达式更加简洁</span>
<span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Person</span> s1<span class="token punctuation">,</span> <span class="token class-name">Person</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 年龄升序</span>
    <span class="token keyword">int</span> num <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> s2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 名称升序</span>
        num <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> num<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> p <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>lambda方法引用, 引用其他类的方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 使用lambda方法引用, 引用Person类的compareTo方法</span>
<span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token operator">::</span><span class="token function">compareTo</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>TreeSet 类除了实现 Collection 接口的所有方法之外, 还新增了如下的特有方法:</p> <table><thead><tr><th>方法名称</th> <th>说明</th></tr></thead> <tbody><tr><td>E first()</td> <td>返回此集合中的第一个元素; 其中, E 表示集合中元素的数据类型</td></tr> <tr><td>E last()</td> <td>返回此集合中的最后一个元素</td></tr> <tr><td>E poolFirst()</td> <td>获取并移除此集合中的第一个元素</td></tr> <tr><td>E poolLast()</td> <td>获取并移除此集合中的最后一个元素</td></tr> <tr><td>SortedSet&lt;E&gt; subSet(E fromElement,E toElement)</td> <td>返回一个新的集合, 新集合包含原集合中 fromElement 对象与 toElement 对象之间的所有对象; 包含 fromElement 对象, 不包含 toElement 对象</td></tr> <tr><td>SortedSet&lt;E&gt; headSet&lt;E toElement〉</td> <td>返回一个新的集合, 新集合包含原集合中 toElement 对象之前的所有对象;  不包含 toElement 对象</td></tr> <tr><td>SortedSet&lt;E&gt; tailSet(E fromElement)</td> <td>返回一个新的集合, 新集合包含原集合中 fromElement 对象之后的所有对 象; 包含 fromElement 对象</td></tr></tbody></table> <blockquote><p>表面上看起来TreeSet类添加很多方法, 其实很简单; 因为 TreeSet 中的元素是有序的, 所以增加了访问第一个、前一个、后一个、最后一个元素的方法, 并提供了 3 个从 TreeSet 中截取子 TreeSet 的方法</p></blockquote> <h3 id="map"><a href="#map" class="header-anchor">#</a> Map</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Map.html" target="_blank" rel="noopener noreferrer">Map<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一个接口可以将键映射到值的对象, Map不能包含重复的键; 每个键最多可以映射一个值(就是 js 的对象), Map的定义如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Interface</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// K - 映射键的类型</span>
<span class="token comment">// V - 映射值的类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Map使用的同样是具体的实现类, 比如(hashMap), 如下是基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建一个Map, 键是String类型, 值也是String类型</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="集合常用方法"><a href="#集合常用方法" class="header-anchor">#</a> 集合常用方法</h4> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>V get(Object key)</td> <td>返回 Map 集合中指定键对象所对应的值, 不存在返回 null</td></tr> <tr><td>V put(K key, V value)</td> <td>向 Map 集合中添加键-值对, 重复想键则覆盖</td></tr> <tr><td>void putAll(Map m)</td> <td>将指定 Map 中的 key-value 对复制到本 Map 中</td></tr> <tr><td>void clear()</td> <td>删除该 Map 对象中的所有 key-value 对</td></tr> <tr><td>V remove(Object key)</td> <td>从 Map 集合中删除 key 对应的键-值对, 返回 key 对应的 value, 如果该 key 不存在, 则返回 null</td></tr> <tr><td>boolean remove(Object key, Object value)</td> <td>这是 <a href="http://c.biancheng.net/java/" target="_blank" rel="noopener noreferrer">Java<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 8 新增的方法, 删除指定 key、value 所对应的 key-value 对, 成功删除返回 true, 否则返回 false</td></tr> <tr><td>boolean isEmpty()</td> <td>查询该 Map 是否为空(即不包含任何 key-value 对), 如果为空则返回 true</td></tr> <tr><td>int size()</td> <td>返回该 Map 里 key-value 对的个数</td></tr> <tr><td>boolean containsKey(Object key)</td> <td>查询 Map 中是否包含指定的 key, 如果包含则返回 true</td></tr> <tr><td>boolean containsValue(Object value)</td> <td>查询 Map 中是否包含一个或多个 value, 如果包含则返回 true</td></tr></tbody></table> <p><strong>方法的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnMap</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建一个Map, 键是String类型, 值也是String类型</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用put方法添加一个键为name值为张三的元素到map中</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵六&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 key 为 name1 的 value</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三</span>

        <span class="token comment">// 重复的键会覆盖之前的值</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;法外狂徒-张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name4=赵六, name3=王五, name2=李四, name1=法外狂徒-张三}</span>

        <span class="token comment">// 删除 key 为 name2 的键值对</span>
        map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;name2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name4=赵六, name3=王五, name1=法外狂徒-张三}</span>

        <span class="token comment">// 是否包括 key为 name3 的键值对</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">&quot;name3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
        <span class="token comment">// 是否包括 value 为 赵六 的键值对</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token string">&quot;赵六&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
        <span class="token comment">// 键值对数量</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
        <span class="token comment">// 清空键值对</span>
        map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h4 id="map的遍历"><a href="#map的遍历" class="header-anchor">#</a> Map的遍历</h4> <p>Map的遍历类似于js中的对象遍历的三个方法<code>Objct.keys()</code>,<code>Object.values()</code>,<code>Object.entries()</code></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>Set&lt;K&gt; keySet()</td> <td>返回 Map 集合中所有键对象的 Set 集合</td></tr> <tr><td>Collection&lt;V&gt; values()</td> <td>返回该 Map 里所有 value 组成的 Collection 集合</td></tr> <tr><td>Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</td> <td>返回 Map 集合中所有键-值对的 Set 集合, 此 Set 集合中元素的数据类型为 <code>Map.Entry</code></td></tr></tbody></table> <h5 id="keyset-和values"><a href="#keyset-和values" class="header-anchor">#</a> keySet()和values()</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnMap</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵六&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;增强for循环循环--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取 key 组成的 Set 集合</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 增强for循环</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> k <span class="token operator">:</span> keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 获取 value 组成的 Collection 集合</span>
        <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> values <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 增强for循环</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> v <span class="token operator">:</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;迭代器循环--------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取迭代器</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keyIt <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 迭代器遍历</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>keyIt<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> k <span class="token operator">=</span> keyIt<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> valueIt <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>valueIt<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> k <span class="token operator">=</span> valueIt<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h5 id="entryset-遍历map"><a href="#entryset-遍历map" class="header-anchor">#</a> entrySet()遍历Map</h5> <p>在 for 循环中使用 entries()方法实现 Map 的遍历是最常见和最常用的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnMap</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵六&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 键值对 集合</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entrys <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 遍历</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> item <span class="token operator">:</span> entrys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// System.out.println(item); // key=value 格式一般不用默认的</span>

            <span class="token comment">// 使用 getKey() 获取 key</span>
            <span class="token class-name">String</span> key <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 使用 getValue() 获取 value</span>
            <span class="token class-name">String</span> value <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>把获取键值对集合一起写到增强for中更加简洁</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 直接到增强for中获取到 键值对 集合循环</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> item <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> key <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> value <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="map的基本使用思路"><a href="#map的基本使用思路" class="header-anchor">#</a> Map的基本使用思路</h4> <p>map的使用一般是用来存储复合内容的利用键关联一个自定义对象, 使用的时候有两种使用方式:</p> <ul><li>利用键集合找值</li> <li>键值对对象找键和值</li></ul> <p><strong>Map的定义:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">chapter_01<span class="token punctuation">.</span></span><span class="token class-name">Person</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnMap</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Key 类型为 String, value 类型为 Person </span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 创建Person实例</span>
        <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加到map中</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;001&quot;</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;003&quot;</span><span class="token punctuation">,</span> p3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>键集合找值:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 键集合找值</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取值</span>
    <span class="token class-name">Person</span> value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s:{%s, %d} \n&quot;</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 001:{张三, 18}</span>
                                                                                <span class="token comment">// 002:{李四, 28}</span>
                                                                                <span class="token comment">// 003:{王五, 16}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>键值对对象找键和值:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 省略前面的重复代码...</span>

<span class="token comment">// 键值对找键和值</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> entrys <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取键</span>
    <span class="token class-name">String</span> key <span class="token operator">=</span> entrys<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取值</span>
    <span class="token class-name">Person</span> value <span class="token operator">=</span> entrys<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s:{%s, %d} \n&quot;</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 001:{张三, 18}</span>
                                                                                <span class="token comment">// 002:{李四, 28}</span>
                                                                                <span class="token comment">// 003:{王五, 16}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如果想在Map中的key存储自定义对象并且保证其键的唯一性的话, 需要重写这个自定义对象的<code>hashCode()</code>和<code>equals()</code>方法(IEDA自动生成即可) , 因为默认key如果是对象, 是比较两个对象的内存地址(hashCode)</p> <h4 id="arraylist存储hashmap并遍历"><a href="#arraylist存储hashmap并遍历" class="header-anchor">#</a> ArrayList存储HashMap并遍历</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnMap</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建 ArrayList 里面的每个元素的类型为 HashMap&lt;String, String&gt;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HashMap</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建 HashMap 键类型为 String, 值类型为 String</span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hm1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hm1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;孙策&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;大乔&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hm1<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;周瑜&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;小乔&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 添加到 ArrayList</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>hm1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hm2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hm2<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;刘备&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;孙尚香&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hm2<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;诸葛亮&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;黄月英&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>hm2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hm3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hm3<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;吕布&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;貂蝉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hm3<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;曹丕&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;甄姬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>hm3<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 遍历 ArrayList</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hm <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 遍历 HashMap 的 key</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> hm<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 获取 value</span>
                <span class="token class-name">String</span> value <span class="token operator">=</span> hm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h4 id="hashmap存储arraylist并遍历"><a href="#hashmap存储arraylist并遍历" class="header-anchor">#</a> HashMap存储ArrayList并遍历</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnMap</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;刘备&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;诸葛亮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;唐僧&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;孙悟空&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list3<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;宋江&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list3<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;鲁智深&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;三国演义&quot;</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;西游记&quot;</span><span class="token punctuation">,</span> list2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;水浒传&quot;</span><span class="token punctuation">,</span> list3<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 遍历 HashMap 的 key 和 value</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 获取 key</span>
            <span class="token class-name">String</span> key <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 获取 value</span>
            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> value <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 遍历 Arraylist</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="treemap"><a href="#treemap" class="header-anchor">#</a> TreeMap</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/TreeMap.html" target="_blank" rel="noopener noreferrer">TreeMap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和HashMap使用方式是一样的只不过TreeMap可以对键进行<strong>排序</strong>, 具体效果和TreeSet是一样的</p> <h3 id="collections"><a href="#collections" class="header-anchor">#</a> Collections</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Collections.html" target="_blank" rel="noopener noreferrer">Collections<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://www.apiref.com/java11-zh/java.base/java/util/Collection.html" target="_blank" rel="noopener noreferrer">Collection<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是不一样的不要搞混, Collections是针对集合进行操作的工具类, 它包含对集合进行操作的多态算法</p> <h4 id="常用方法-5"><a href="#常用方法-5" class="header-anchor">#</a> 常用方法</h4> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)</td> <td>将指定的列表升序排序</td></tr> <tr><td>static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</td> <td>根据指定比较器引发的顺序对指定列表进行排序</td></tr> <tr><td>static void reverse(List&lt;?&gt; list)</td> <td>反转列表</td></tr> <tr><td>static void shuffle(List&lt;?&gt; list)</td> <td>使用默认的随机源随机置换指定的列表</td></tr></tbody></table> <p><strong>方法的基本使用</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CollectionsDemo01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [20, 10, 30, 50, 40]</span>
        <span class="token comment">// 排序</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;排序后: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 排序后: [10, 20, 30, 40, 50]</span>

        <span class="token comment">// 反转</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;反转后: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 排序后: [50, 40, 30, 20, 10]</span>

        <span class="token comment">// 随机置换</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;随机置换(每次都不一样): &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 随机置换(每次都不一样): [30, 20, 50, 10, 40]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="泛型"><a href="#泛型" class="header-anchor">#</a> 泛型</h2> <p>泛型是JDK5中引入的特性, 它本质是参数化类型, 也就是说所操作的数据类型被指定为一个参数, 将类型由原来的具体的<strong>类型参数化</strong>, 然后<strong>在使用或调用时传入具体的类型</strong>, 这种参数类型可以用在<strong>类, 方法和接口</strong>中使用, 分别被称为<strong>泛型类, 泛型方法, 泛型接口</strong></p> <p>**泛型的定义格式: **</p> <ul><li>&lt;类型&gt;: 指定一种类型的格式(可以看成是形参)</li> <li>&lt;类型1, 类型2, ...&gt;: 指定多种类型的格式, 使用逗号隔开(可以看成是形参)</li></ul> <p><strong>泛型的使用:</strong></p> <p>在调用时具有泛型的类, 接口, 方法时给定泛型具体的值(可以看成是实参), 注意, <strong>泛型必须是引用数据类型</strong></p> <h3 id="泛型约束集合类型"><a href="#泛型约束集合类型" class="header-anchor">#</a> 泛型约束集合类型</h3> <p>在直接实例化集合时不指定泛型是可以存储任何引用数据类型的, 这样在后续的使用中会有类型转换异常的隐患, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 直接实例化 ArrayList 该集合是可以存储任何引用数据类型的</span>
<span class="token class-name">ArrayList</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 会自动装箱为 Integer 这样在后续的使用中会有类型转换异常的隐患</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Iterator</span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Object s = it.next();</span>

    <span class="token comment">// 强转为 String, 这里会有 类型转换异常(ClassCastException)隐患</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>使用泛型约束集合的类型:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 集合元素使用泛型约束为 String 类型</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 这里会报错, 只能添加 String 类型的数据</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 迭代器的泛型对应集合的泛型</span>
<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不需要强转类型了, 泛型已经指定为 String </span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>泛型的好处可以把<strong>运行时的问题提前到编译期间, 避免一些不必要的强制类型转换</strong></p> <h3 id="泛型类"><a href="#泛型类" class="header-anchor">#</a> 泛型类</h3> <p>泛型类的定义格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 定义格式</span>
修饰符 <span class="token keyword">class</span> 类名<span class="token operator">&lt;</span>类型<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 范例</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>常见的泛型标识有: <code>T</code>,<code>E</code>,<code>K</code>,<code>V</code></p></blockquote> <p><strong>MyGeneric 泛型类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token comment">// 接受一个泛型</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// 接受的泛型用于成员变量的类型</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> t<span class="token punctuation">;</span>

    <span class="token comment">// 接受的泛型用于成员方法的返回值类型</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getT</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 接受的泛型用于成员方法参数的类型</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setT</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>t <span class="token operator">=</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 实例化时指定类泛型为 String</span>
<span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> g1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 只能添加泛型指定的类型参数</span>
g1<span class="token punctuation">.</span><span class="token function">setT</span><span class="token punctuation">(</span><span class="token string">&quot;我是g1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// new MyGeneric&lt;&gt; 里的泛型可以省略, 编译器会自动进行推断</span>
<span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> g2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g2<span class="token punctuation">.</span><span class="token function">setT</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> g3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g3<span class="token punctuation">.</span><span class="token function">setT</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>g1<span class="token punctuation">.</span><span class="token function">getT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我是g1</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>g2<span class="token punctuation">.</span><span class="token function">getT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>g3<span class="token punctuation">.</span><span class="token function">getT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="泛型方法"><a href="#泛型方法" class="header-anchor">#</a> 泛型方法</h3> <p>泛型方法的定义格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 泛型方法的定义格式</span>
修饰符 <span class="token operator">&lt;</span>类型<span class="token operator">&gt;</span> 返回值类型 方法名<span class="token punctuation">(</span>类型 变量名<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 范例</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>MyGeneric 类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGeneric</span><span class="token punctuation">{</span>
    <span class="token comment">// 接受一个泛型, 用于方法参数类型</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 接受两个泛型, 用于方法参数类型和返回值类型</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;t = &quot;</span> <span class="token operator">+</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;v = &quot;</span> <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">MyGeneric</span> g1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyGeneric</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        g1<span class="token punctuation">.</span><span class="token function">show1</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello world</span>
        g1<span class="token punctuation">.</span><span class="token function">show1</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>

        <span class="token class-name">String</span> s <span class="token operator">=</span> g1<span class="token punctuation">.</span><span class="token function">show2</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// t = hello</span>
                                             <span class="token comment">// v = 你好</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="泛型接口"><a href="#泛型接口" class="header-anchor">#</a> 泛型接口</h3> <p>泛型接口的定义格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 泛型接口的定义格式</span>
修饰符 <span class="token keyword">interface</span> 接口名 <span class="token operator">&lt;</span>类型<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 范例</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MyGeneric</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>**MyGeneric 接口: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token comment">// 接受一个泛型</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// 定义抽象方法, 使用泛型约束参数类型</span>
    <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>GenericImpl 实现类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token comment">// 注意这里使用 泛型类 实现 泛型接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// 实现 show 方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> g1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        g1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello world</span>

        <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> g2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        g2<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>

        <span class="token class-name">MyGeneric</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> g3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        g3<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="类型通配符"><a href="#类型通配符" class="header-anchor">#</a> 类型通配符</h3> <p>为了表示各种泛型List的父类, 可以使用类型通配符<code>&lt;?&gt;</code>, 如下例子:</p> <p><strong>List&lt;?&gt;</strong>: 表示元素类型未知的List, 它的元素可以匹配<strong>任何类型</strong></p> <blockquote><p>注意: 这种带通配符的List仅表示它是各种泛型List的父类, 并不能把元素添加到其中</p></blockquote> <h4 id="指定类型通配符的上限"><a href="#指定类型通配符的上限" class="header-anchor">#</a> 指定类型通配符的上限</h4> <p>如果说不希望**List&lt;?&gt;**是任何泛型List的父类, 只希望它代表某一类泛型List的父类, 可以使用类型通配符的上限<code>&lt;? extends类型&gt;</code>:</p> <p><strong>List&lt;? extends Number&gt;</strong>: 它表示类型是<strong>Number或其子类型</strong></p> <h4 id="指定类型通配符的下限"><a href="#指定类型通配符的下限" class="header-anchor">#</a> 指定类型通配符的下限</h4> <p>除了可以指定类型通配符的上限, 也可以指定类型通配符的下限<code>List&lt;? super 类型&gt;</code></p> <p><strong>List&lt;? super Number&gt;</strong>: 它表示类型是<strong>Number或其父类型</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericsDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 类型通配符 &lt;?&gt;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 类型通配符上限 &lt;? extends 类型&gt;</span>
        <span class="token comment">// ArrayList&lt;? extends Number&gt; list4 = new ArrayList&lt;Object&gt;(); // Error</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> list5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> list6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 类型通配符上限 &lt;? super 类型&gt;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> list7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> list8 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ArrayList&lt;? super Number&gt; list9 = new ArrayList&lt;Integer&gt;(); // Error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="可变参数"><a href="#可变参数" class="header-anchor">#</a> 可变参数</h3> <p>可变参数类似于 js 中的剩余参数(<code>rest</code>), 但是在 Java 中只可用作方法参数, 格式如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 可变参数格式</span>
修饰符 返回值类型 方法名<span class="token punctuation">(</span>数据类型<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 变量名<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token comment">// 范例</span>
piblic <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> pars<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>累计方法示例</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestParams</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> pars<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;pars = &quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>pars<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">:</span> pars<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ret <span class="token operator">+=</span> n<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>可变参数注意点:</p> <ul><li>可变参数将收集到的参数都保存为一个数组(即使只有一个参数)</li> <li>可变参数必须写到其他的最后面</li></ul> <h4 id="可变参数方法"><a href="#可变参数方法" class="header-anchor">#</a> 可变参数方法</h4> <h5 id="list-of"><a href="#list-of" class="header-anchor">#</a> List.of()</h5> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/List.html#method.summary" target="_blank" rel="noopener noreferrer">List.of()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法(<strong>java9</strong>以后才支持)的作用和**Arrays.asList()**一样都是快速创建任意数量的集合, 不过返回的集合是不能做任何修改的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestParams02</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// UnsupportedOperationException</span>
        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// UnsupportedOperationException</span>
        list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// UnsupportedOperationException</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="set-of"><a href="#set-of" class="header-anchor">#</a> Set.of()</h5> <p><a href="https://www.apiref.com/java11-zh/java.base/java/util/Set.html#of(E...)" target="_blank" rel="noopener noreferrer">Set.of()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法(<strong>java9</strong>以后才支持)和**List.of()**方法一样, 只不过返回的Set类型的集合, 注意: Set数据类型没有带索引的方法, 并且给定的参数里不能有重复的元素</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestParams02</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 传递非法或不适当的参数 IllegalArgumentException</span>
        <span class="token comment">// Set&lt;String&gt; list = Set.of(&quot;hello&quot;, &quot;world&quot;, &quot;java&quot;, &quot;java&quot;);</span>
        
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// list.add(&quot;你好&quot;); // UnsupportedOperationException</span>
        <span class="token comment">// list.remove(&quot;你好&quot;); // UnsupportedOperationException</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list = &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// list = [world, java, hello]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="object"><a href="#object" class="header-anchor">#</a> Object</h2> <p><a href="https://www.apiref.com/java11-zh/java.base/java/lang/Object.html" target="_blank" rel="noopener noreferrer">Object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是 Java 类库中的一个特殊类, 也是所有类的父类; 也就是说, Java 允许把任何类型的对象赋给 Object 类型的变量; 当一个类被定义后, 如果没有指定继承的父类, 那么默认父类就是 Object 类; 因此, 以下两个类表示的含义是一样的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>等价于:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于 Java 所有的类都是 Object 类的子类, 所以任何 Java 对象都可以调用 Object 类的方法:</p> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>Object clone()</td> <td>创建与该对象的类相同的新对象</td></tr> <tr><td>boolean equals(Object)</td> <td>比较两对象是否相等</td></tr> <tr><td>void finalize()</td> <td>当垃圾回收器确定不存在对该对象的更多引用时, 对象垃圾回收器调用该方法</td></tr> <tr><td>Class getClass()</td> <td>返回一个对象运行时的实例类</td></tr> <tr><td>int hashCode()</td> <td>返回该对象的散列码值</td></tr> <tr><td>void notify()</td> <td>激活等待在该对象的监视器上的一个线程</td></tr> <tr><td>void notifyAll()</td> <td>激活等待在该对象的监视器上的全部线程</td></tr> <tr><td>String toString()</td> <td>返回该对象的字符串表示</td></tr> <tr><td>void wait()</td> <td>在其他线程调用此对象的 notify() 方法或 notifyAll() 方法前, 导致当前线程等待</td></tr></tbody></table> <p>其中, <code>toString()</code>, <code>equals()</code>,<code>getClass()</code>方法在 Java 程序中是比较常用</p> <h3 id="tostring"><a href="#tostring" class="header-anchor">#</a> toString()</h3> <p><code>toString()</code>方法返回该对象的字符串, 当程序输出一个对象或者把某个对象和字符串进行连接运算(<code>+</code>拼接)时, 系统会自动调用该对象的 toString() 方法返回该对象的字符串表示</p> <p>Object 类的 toString() 方法返回<code>&quot;运行时类名@十六进制哈希码&quot;</code>格式的字符串, 但很多类都重写了 Object 类的 toString(), 用于返回可以表述该对象信息的字符串</p> <blockquote><p>哈希码(hashCode), 每个 Java 对象都有哈希码属性, 哈希码可以用来标识对象, 提高对象在集合操作中的执行效率;</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaAPI</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span> <span class="token operator">+</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; hellojava.lang.Object@16d3586</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; java.lang.Object@16d3586</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; java.lang.Object@16d3586</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面的代码中使用<code>toString()</code>和不使用打印的内容都是一样的(<strong>底层就是调用toString()</strong>), 如下:</p> <p><img src="/note-sites/assets/img/image-20220421231803596.390736ce.png" alt="image-20220421231803596"></p> <p><code>toString</code>方法返回的结果应该是简洁但信息丰富的表示, 便于人们阅读, 默认的toString()明显不是很便于阅读, 建议所有子类都重写此方法, 可以通过自动生成<code>toString()</code>方法类似于自动生成<strong>构造方法</strong>和<strong>getter/setter</strong>那样</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALcAAADvCAYAAACws0UFAAAaoklEQVR4nO2dW3AU55mGnx4OgjiyFzEHAzcJNjOjU1GFA/FKIhoodm2ciJM4FHE2uSACsWy2cGpvQIAQFvJl8KYSwJibOF4CBLCwa+3UUjAqJG0WTKpUkkAjYJOtFMaaGYbEwuEgPL0XPTPqOWoQ6pHU+p4qCnVPd88/Pe98/fXf//t/yoIFC1QEwYRYRrsBgmAUIm7BtEzWL8yfP3+02iEII0pHRweTHz58GLey785fR6k5gjAyOGY+x8OHDyUtEcyLiFswLSJuwbSIuAXTIuIWTIuI20DUea+wffmLw9pHnfcK2//lFZyqPEAeLiLuEWY4go7j7l1CgHL9d/zsN3d5+bV5I9a2icbkoTcRskVVZ1K+8JvcvPwJoAy5vfXlDfzTwoKUr73xk3+I/b19ORz4+MZINXPCIOIeSZzf4tszFXj1n3nj1ejKuXFCVdUQl37zG9qDmvhvfPJLPrw++ENQrYv40cIQvxIxPzUi7hFCtS7iR698M06s6rxXeOPFmymiboaoHghxd0YBVlUlwDxW/OQFfD//hF5l6CuBEI+Ie4RwLVzA3d8djIvC2fCiLsqrd67w6/dDsddsf/8SMz49J8IeJiLuEaL340P45r3KT38yN+GVhLTkzhV+/f7/EFQUCmbMiEV61bqIH/0jwF3u8AIFtm/z8rf+wu9/HgQR97AQcY8gyvXf8bPrg8tp0xJFQVVnYp1xlzt3E48SJHj3m3x341xufPJLidpPgXQFjhozmFnwF4KB6OIMCu6GCEbErN74Ly2iqy9S9f1FWKW/+4mRyD1aOF/ghZs3Oet8lZ++qqUyNz75BOfyrbw244/cZBlV865z9m4BM3SiF7JHxD1COJfX8t0XUwkwPucGLe++ePfvuHT5OkrwRiyVcS7fymuc48B/3ND6zF/fyk9nKty5fML4D2BClOLi4tj1btGiRWJWEMY9jpnPcenSJcm5BfMi4hZMi4hbMC0ibsG0iLgF0yLiFkxLUj/3F39Neh4sCOMKx8znAIncgokRcQumRcQtmJaknPu5+f86Gu0QhJGj/ywgkVswMSJuwbSIuAXTYuh4bvXrU/jhS/Cx9xFBRUlaTtrWM4mb3vu034ts61b51eUw5Z6pcEVbn7zPVGamGcivfvGQ93XvXTXnKz7sgXLPFILeB4Tc03m5/z4fMo3ts7/i7U8fG3YuhNyTU7OCyz0VPr+f0lWi3BvgVx+qVFVNp8x7n6B7KjNnKbyxIrLBknwWAar6mMuRH4Byb4D3PhqIO46qWij3TGdh/uO4H5Fyb4DfM42qOY8IAVb3dL7NI977TMHmUrj52QDZTKQjjB+SzAr+/BWZts+asspnWPRsxA+oPubyH77ihQWpo+yNK/189JluYppIlP3IF46INTlyR68CN7+cykIe8vanj1Fn57F9gcJl733anp3G9tlhLj9jiUXpHziTf8s3rjyABXm8qGuX+sVD3m4ZSNpWGB/Y+89y6dIl4yJ3e8uXtM3OY/u8MO97VV6umsxN7z3eS0gtrK5pvJywr23OJF505rHdqVsZidygie/XV7S/ey/fo23ONLZ/bxIf/wH4/DG9c6azPf8xBy6HKfdotxVB3wMO+MDpysP5/GRe4BHvex+Bezqv9z/i195HBJhCVdUker2PZDoFE2BoWuKaPRl4BAzw0UePAQWraxqv5z+O5bcF+ZNQv7BQVvk1Fj2rcKf3b7wXEWIm1K9Pif2tfPaQA19YsD2rrQv6HvA2oL9fjqYrBdfvE3oeeq9bWO6ews18lZtYKAAC+Qoz+sOEEMyAYeJW1ck4nwdFyeP1haqWNqiTeXmeyscfDugi41fc7Q/HIv0P87W1Vte0lGmEJv5w3Drnt57htVkKN24PAJP43vfyeIHH2vtEcC2cClfu8WH/JMrnAbcGuLlwEr2XH4B7Gs588D1rgc8HxGluEgwTt809mRmfP+bOM2E+/mwS35s9wO/zJ8Mf7hNyT6Ps1oOk3o9EEoWs6sQPQP5UfrAijxtX+jnwqaLl3LO/4qOPHkZ6UqZwFwgCvZ8+wKdOiuXvvYpC76dhbYKcfnjdPYUgk7n72QPkxtIcGCbuAr7i4x5Y/hJw6wEf5k/lh7Mf855PQVUHcHqm4fQ+eLo3iebKc6bxRpWWkty4oolTuTfAr7wWyj3a+mh0BwZ7XiJdhYFbA1yeN53lPOL9W4i2TYJh4u71DcTlxbY5k5g5azLbqwa3UT1hLn+Z/hgznV+Lv6kE7vQm92Ionz3kwGfRepqplenrecS3n7fwPx8+wMekSP4d6SpULRTkA/1ZfjhhXJCzfu5giptE7SbPQrAf1Dl5vPHSFFRVoezWfdqzuKmMpiWZUNUBPibajz6Zqqqv81p0yrLZU1CZxBsvTeHGlX7ez5/O656psQc/wvgm5zNOqepkqqoG+5XV2w94W1FwzVa4dKGftv4pVFV9ne0ZxKXefsDbnyY/wEl+r/i0ZPnzX3HZe48D96LizmP7AvjPs/2RCScfcKA/j+2eqdLPbQIMe4gjCKNF9CGODJwSTIuIWzAtIm7BtIi4BdOS1Fvy145/H412CMKIYZ/7DUAit2BiRNyCaRFxC6ZFxC2YFsMfv4dVO8tqN7HYFrWc+TjT+Fs6ZeyGYDCGijtsr2RbTRmh5iYaujQxh9ViNtZ68B/y0pdB4NEfha2tieNdStKyIAyFYeIOq3aWrdaErRejRenm+GHEoygYjnGR21GIi3ZOd5Jx8H9YLWbjrhW4I2L3t77LLy7YBtetqmN3WQ9/srmYG1neU97G4UNeblOStO9Br18X5c/CyhW4gu3sO9xi2EcVxibGidtuxUYwthhNUeyKEsu7Oyhh464yAkeaOO4fTD02Bps41hjImJaE0+y7IdjEsU7tPV0r3ZxpbOK4XCUmJDkbz23xt3Bwf0skUru1laVu3IoN9+Y6Fuu29VsdQx8wi319zXLjOpExTtydPfhWllHs8NLnT7+ZGtBSjOSbS/uQb/E0+wrmx7B+bovSjbcNKmo2s9Supt6osweftQxP6eCq0nXVlKppth+pfYUJQZIT5/r//mlE30Cfa0eJ3viler3ng/2x3hWHp4baClssQrNkc9zybYcn5b7SbTixmTf3G1y6dMl4cQtCromKWx6/C6ZFxC2YFhG3YFpE3IJpEXELpkXELZgWEbdgWkTcgmkRcQumRcQtmBZjbWYJRgT9uBFBMBrDIndU2DQ30dDYRP2b7xIoXzvkqL2wamfplh1sKFFTLgtCthhoM7NSEBy0mVkUP+cPnxLvpJAzjBN3X5CQdQWeUi/Hu5JfFu+kYDSGiduidHOs2U3Dqjr2rIyfq0QTtngnBWMx9IbS0nWKhq6I6WB3Hat9zew72S3eSSEn5MQg3Oc9Qv0FLQ3ZUNLFMcQ7KRiPcb0l9kq2ritOWBsk4Ee8k0JOmGS32/dGF+bMmUPo7l9G5MDKl//Hn+2r+LcfvIrnO4tZUukm2HyAj/6ooCgBOn2TqPz+9/lu5XfwfGcxSuthzgcUFOVL/pZfyKv/+CqVhRZ8n3YTiFu+xH+n2VflGeZ+awHP/Pki3X5JSyYqM2f8Hbdu3RIPpWA+xEMpmB4Rt2BaRNyCaRFxC6ZFxC2YFhG3YFpE3IJpEXELpkXELZiWnFVWGKtEx5W7CNJ65B3Oy2N70zBh61BG5/4Gzdu5r0shrDri2holnfdTPKJjmwlbh7LPe4QGryZyT9wrvZx+c/DHV7puB0Up26fziMbat5bSzsw/XKmvmTukDuVwEY/omGfC1KHUmxsSUyWoo34V+Fub8WX7+cQjOuaZOHUoFf3Vw8/5w29xTpdaxN7D5c7q44lHdOwzoetQzl9fBr1B3Kvq2Gp9l19ceMLPJB7RMc2ErUMZLqmmItDMaVbCtf1cLdzJxtKjBIbcMxnxiI5NJmwdyvmF0Hqhb/BwJ9+KXfazQTyiY58JX4fS4anBE3wnbr9s+7n1feWJ243255rISB3KCMniXkzgUEI/9zUR03hCxC2YFjEIC6ZHxC2YFhG3YFpE3IJpEXELpkXELZgWEbdgWkTcgmkxlbjDajEb6owZh6Edewd76mrSj5VJu9+T7ZPL4w35fiXV7NlSiWMcjm2ZsAZhh6eGLbZ2zrCCisDR2FiXVNs9rdcy1yQaJdToUNwckO15zQUTUtxheyVrXL0cPtTFbQLYaley9Gpq5/vTei1zTbikmoZVLno+2D/oWy2pZpsnYLjQnuS85gJTpSXZMr+yjFCbNl7aovg51xaiorJktJv11ITVYjaudCZdQSxdp3ISQcfaec1peey4oa4JrwEJQz6ttEasW9rw0cTl1MNJ9ehTikFrmwNbQWTcdRR/kEC5FYeqxhkERsRrGaVoLfWbXVpbdGlCNkNj49uf4Xilbs0vmsG3mpSyqKksconfSzDt/np/Z7bnNVcY6H5P7SPUvIAlcdMigHZZX12QzXHtLKuE041N9CkK4ZJq9q7UplTo0G9nr2RNeYjTb74zaMlSFFBt2KwhrvYxKIC+ICGrGzvQpzvGSHgtNaxU2NppaDwVE/NSexfn+hzpP4vDk6b9GY435LnTPkdB21EaokGmpJq9u9ZCzNOa/nvJ/J1mf15zhXGRO5MXMEWE6bjWy+ryoQ9rUfycP+nHsWQz9bqolkRfkBBlrN61GZt+JimHlYJgkPiLdIBAsAybA0hx9X5aryUEaW3pAhTou4Yv6Bz6s6Rrf4bjDUn0vF/oGzRMd16ktXwTRaXQwRDfS6bvdBjn1WgMTUvSegGfIg2LRirajtLQ6I+lLIlYlG6O7++ORJed7LFq06WdSxlNUkSd6PuNoNfyST5L+vZnOGCWvtVkIulEFhbNtN+panui85oLjLuhzOQFTHgtrNpZVp4YfQq0Xzwwq8hJzMxlt2ILtnM64n+Me01H2F7J0hJVu7E5dJTWoBVb7MsbPDagRZ00H+NpvZYZyfBZMrc/Nel8q+GSarZ67LHzvmaJ7sOXLqaCXrr7GPp7GdLfmf15zQXG1n4/YmVbzU7qV+lulhQFC4NzftSvAlUN0NrWC67Ivv4WTrc5qY1c/vw+32CkjFxGa3dr18q41/Tv728hUDn43qqvmX1dChalm6u9KyiyM3iptFux9faknC6h86Q2i1TypAxO1uyuY41uTc+1JzxJGT5LuvYPRZ/3CHuD1TToUgfthtOPRfFzrBE27tpEfYX+hjLSwzHU9zLEd/ok5zUXjBmbWbikmr3lwTRTGozwe9kr2bYaTh/ychsHy2pXwpnM/bHitRya4ZxXI4jazCbkQxyLv4XTvhq2rA9yhhW4fEc5OMQX0Oc9wvFI4phqXsDOk2/RORqJ5RhiOOfVSCakuEET6z4AuhmpFFoYW+d1zIjb0nWKfV3ILKnCiPHE4r7w8L4R7RAiLMmbPtpNMA0TcmyJMDEQcQum5alybrmEjgyS6hmDRG7BtIi4BdNiGnGH7ZVszaG3UBj7jJl+bhhbdR3HkhdQGB6GRe6wamfplh1sKMkuksbVdWxsov7NdwmUr6VUVbM6llZz58iIjGOIeQFPdNFx4ig+10q5IoxDxk5aEqnr6I08s42O3xiNEWVjzQsoDA/D0pKNuzbF6i2mq68Y599LU9cxLlWJHOvQwauUbP1xXD3GQ6eherPms4yVAGwLsbhCG6+Zzr+pDesMUeEKRtqYvcdSGNsYJu5jjUdT1FdM79/rTFPX0aJ0J9duVOyUEF+PMWyvTGhBos9Qm2bgXF+8TzDqAyRWM3PseQGF4ZG7tCTi3zutc7XQeZHWoJOiiLPD0nWKhsYmDrcVsGZ3HXuSqoXFk7keY9RnSMRnGN8Offpzrq13cLe0XsAEl4kw5hkDOXdCCkCkruObzficK7K+IR0x+oKErNYEO6EWzQMStscVuRP3EP69jHUdDWhHtv5NYNS9gMLwMNBD6afbF6RWd0OZ0b/nb+F0oIb6XStjx+j5YD/n/UrSsQ4dvPoU7Yr3AabyCY41L6AwPJ7YQ6kf5GOWgVOJ/s1cewHNeE5Hkwlbqk97IDQ4HUF0fr2A71qsm0/zAjrZsr6E+es34fI1j9pkjsLwGVOP33OBRfFz7kyQbbt2sibFHIZRxpIXUBgeE07cEH1U3zLazRAMZsKlJcLEQcQtmJanSkvEHiWMZSRyC6ZFxC2YlidOS+QhgzBeMLBsSGI9mdTE6uCUrqVhlSurY6ezn5Wu25HWEqaV5CCu/stgO0dnNlLBWAwdW3L+8Fuc160Ll1SzzXoxWXwZHqYkkqkkXseJsxTtSl0eztJ1ir2dxWxMWYZDMCOGzc9dum4Ha1zZCUhfikI/D/aIHT+hyGiqil16xkqxVGF4RMeWGDr5fGKkHmoZhhZtquju8NSwhuaMUT9dyiJpifnI2eTz9oofU1+hX+OKW/a3Xoz9Ha1lePGdJxdaKJi5qlDnybfwe2rYs649Z6WihdHFcHHHGXNTRu7EPawsTigFpydVHXO7zYq7QqvjEretGqBVl19HB0OlvDroa8ikq9gljCvGVOROdROqJ2yvZFuCDzhdtNfyardmDYusDpdUs7ewh30n34qN9ItOvpMUzUXY4x5DxW3pOkWDfpqGNL0l2XQbqqqPM81AIKFkWOliKqwhzmRR63CWtQDfta7YhmG1GE95iDONXYRL10aELymLWRiFfu74yB2duyRTxI4ds6Qa/UUg6n8MtB1NtoAluNjDqp1iV4irFwAl2r4yAke08tOWrlPspZqNJV2RimXxJbFL1+1gNWfZd7I7bZ+5MLYYU/3cQzHLWhC7cYz+eCpIKPccxW7FFpuLBHAU4gr1cD6y3fz12jwox/occT9CVU2uIy+MTwzrCly6ZceQTyejpLuBS+yP1s9QpY+k2rb2BJHG30zG1ZEsqY49DU3cLmyvZGPRNY7LxJfjlpz0cwvCaDBhDcLCxEHELZgWEbdgWkTcgmkRcQumRcQtmBYRt2BaRNyCaRkVcYdLqqnftZP6XTvjqieE1WI21A1OUhm/fkfS9omUrtvBVo895Wvhkmr2pDy2naVbpH6lGTF0VGAmV02qcdl6HJ4aaits2raqL1b7JhPioRT05PTxe9qBU8T/EPRjSNLtIx5KIR2G28zSi8+VYF6Iiu8tOiIGg6tZDCXtTDAcPImH0qJ0c3y/fsBVoodShG0GDBO3Xnyx8c/NUGHtwedaQUXo7BMYAwrZULcpFmlTmYTFQykkkpMhr9G0QJ9ixA871dKQjkitShe9+HqduFOkKalId5VIHM461Pax/cRDOa4xPC3RGxW0S38NnHmHg5FcNtGCVrp+Jw0uJUnI0R9EOmGLh1JIh2HiTmlWSONq1yJlE/WUsHGXO+NxNZNwkINRMYqHUkiD4ZE7VWRMeROnKJBNV7PdGjMJi4dSyISh/dxh1Y492Mze4GIadPUl0+XC2TDLWhA7tngohUzkbK5AfV9zot+x54P9eK2bqa2wDdknHc3JWb9TPJRCSsRDKZgW8VAKpkfELZgWEbdgWkTcgmkRcQumRcQtmBYRt2BaRNyCaTFufu7ICLy9JwJJ83Trn0JGnxweY21al07YXsm21VZCOKGtSVwyQlYYFrktXafYe83N3vWFQJCL7+ynobGJ+nfaCKCJX2/mtXSdotW2Ka3Bl1APxw4dJVC+Wcy8QlYYXjZkb6edZbVOoIQNdW6uHgmm3b7jxFFs6wtZum4Ti1OYCRp2a/+rlSWcl6GpwhAY6qGsCBzlFxey38ei+Dl/0g+0xFdkUIvZWGvFK+4Y4QkwLC3pOHEUn2sTG0uH3lZV7Szdos1LsqFEUg5hZDC8Jo5mKMi8rRLZtttTg4f4OUsA/K1thIxqqGBaDM25tSkX2vFFV+icMZno8x6h/oKdZbWLCRz6LR04WOZajB3oM665gskwtJ/bbgPf1YC2UOTGFQpyO4v9Sj2VzNItWxQ/gVABNocRrRTMimHiDqvFFDlDBPr6OHeoGVxOFNdKthVd4+DJbixdp1JPolO4ltW25B+BPwCuIgdheyVbt1RiDxexoW5HLEcvXbcjNo9gunkBhYmFcZHbYaWgt0dLKWo34fIdpaGxKXNfNuAqCHL4RHTOBydrdtexp64a+9VeKF/MfIBQkM+l10QYAuNybrsVAkGW1WpG3Oh8JR0njmKrXclSQiyucEU8jJFdbNB6xgtLNtMQ8VM2HB7sz/a31VC72UXPB/uxKEpkSjTtuPoZrixdp9jXhcw9MsERD6VgOsRDKZgeEbdgWkTcgmkRcQumRcQtmBYRt2BaRNyCaRFxC6bFOA9lzGAQxJOmiFN0aGu0xk04VvDpIrYE32WUoUqICEIUQ4e8JpI4Tlv1NdPQmMou1se5Q2exJbhvtGmKU9VmEIRkcipuSF3jMXFubffuOipam/FhjR/D7SjERRBxTwrZkHNxpyLq2jlnr2RbjZXWSNpRaivTxnBHR8bareC7KD5KISuMFbe1jNrdmhBdu9bS2gbuVXXUrxrcRF/ZYFaRE7tiY83uOoo+2M+xayG2FTk479fUPb/QSejab5EiqEI2TM7LyzPu6MF2DulyZoenBpvPR0EgUosykkMH+iBMMR4X+FUfrY0XsdVuZtmZdkLlhTgu9HHb4aGioJ3TnYi2hSHJy8vD8rX854j+G3GsZdRGzAalqordpo3xxlWIQ1VjRZg6FYVZS8qgrT1iBO7j/OEjnPd3czVUhqcU5leWEWqTqR2E7Pha/nMG93MH2zn05ru06ufhCXppDZXhKXWwbLUTX4vmurHTi7cz+RAdJ87Cyp2sLmhP+bogpMNYm1mcIbiEImcvVzujgt2Ey9ccqyLW6W1JaR6evz5Sycyq9ZwIQrYYJu5ZRU4IBAZXlLpxxTyVK3AFg1C+Ke0kPGG1mA11WmHThsYm9h4JUiGT9ghPgGG9JXYb+Fr6AG0+hqLCAloDbvbuKqP1SBP7/ErkhnInewrPxpelLl3L3pUFtB5p4ngkslv8LRzc30Lpup3sKW9n3+EWo5oumASlonJJLBTOm/sN8VAK456ojmXglGBaRNyCaRFxC6ZFxC2YFhG3YFpE3IJpEXELpkXELZiWpCeU8+Z+YzTaIQgjTpy45emkYCYkLRFMy/8D2Phuk1Z93zsAAAAASUVORK5CYII=" alt="image-20220423154844473"></p> <p>选择字段然后会自动生成重写后的<code>toString()</code>方法, 类似如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Person{&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;name='&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
            <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
            <span class="token char">'}'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="equals"><a href="#equals" class="header-anchor">#</a> equals()</h3> <p>字符串的<code>equals()</code>方法会用来比较字符串对象对应的文本值是否一样, 默认 Object 对象也有<code>equals()</code>方法(默认比较两个对象的地址), 也是可以生成对比两个对象的是否相等(实例值相同, 来自的类相同)</p> <p><strong>Person类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_13</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_13</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// equals 默认比较的是对象的地址值</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>生成比较值和对象的<code>equals()</code>方法</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAADuCAYAAACQ2C2jAAAaXklEQVR4nO2da3BUZZrHf6fDVY0uoS8CVbsjSneTS1GDgk4SNi3LruIYbuFSrDP6gQHCsjOL8w3DLRrw4+BuOYBI1ayXQkXAoLU4NRQkkqQcAWupJJAOMDPulmC6m44juFyCffbD6e6cvndITtI5eX5fkj59zttvn/730895z/t/H2XmzJkqgmASLEPdAUEYSETQgqkQQQumYlTknxkzZgxlPwRhQBh169at6IOuq38dwq4IQv+RlEMwFSJowVSIoAVTIYIWTIUIWjAVImiDUKc9xYb5j9zVMeq0p9jwr0/hVGVWQl8RQQ8gdyPiGLq7CQLKhd/zm/e6eeKZaQPWt5HCqMy7CNmgqhMpm/UQl059CigZ97c+sYKfzypI+tyLv/zH6P8b5sPOoxcHqpumRykqKlIBZs+eLTdW+oE67Sl+/fTU9PuoQb547z1aAgrWJ1bwk6vv8fGFXvGr1tm8MCvIWyLgu0Yi9ACgWmfzwlMPcfHT30YFqk57ihcfuZQkuqaJ3v4g3RMKsKoqfqax4JcP4/2PT+lUMkd8QUMEPQC4Zs2k+/e7YqJtNjzy9L/w4tPa/+rVM7zzbjD6nO0njzLh9DERcx8RQQ8AnUd34532NL/+ZXzKMTUmH9ZE+0cCikLBhAnRiK5aZ/PCPwF0c5WHKbA9zhOPfcvn/xEAEXSfEEEPEMqF3/ObC72PU6YcioKqTsQ6oZur3fGtBAh0P8RPV07l4qe/leh8F8iw3ZAwgYkF3xLwRx5OoKA7SCAsYPXiH7TIrT5C5T/Pxirj0VkjEXoocD7Mw5cuccT5dHRk5OKnn+Kcv45nJvyZS8yjctoFjnQXMEEndCEzMmw3ADjnV/PTR7ITnXr1DCe7H2LsKW34Tt/GMxxj59GL2pj2c8t4fKLC1VMf8NbnV43quukQQQumQnJowVSIoAVTIYIWTIUIWjAVImjBVIigBVMRc2Plu78m3IsVhGGFRGjBVIigBVMhghZMRUwO/cCMXw1VPwRhQJAILZgKEbRgKkTQgqkwbIK/et9onn8UjjbcJqAoCY8T9vXkcanhBi3Xw/u6Vd46FaLMMwbOaNsTjxnDxBST39XvbvGu7rUrp/zAxx1Q5hlNoOEmQfd4nrh2g48Zx4bJP/Da6TtGnQphEBk0x4rLPQa+uZHUfaFc7+Gtj1UqK8dT2nCDgHsMEycpvLggvMOT+cwGVPUOp8KiV6738PYnPTHtqKqFMs94ZuXfifniKNd7+JxxVE65TRCwusfzOLd5+7KCzaVw6XIP2SwOI+Q+MRP8ffkLMu2fFaUV9zL7/rA/Tr3DqS9/4OGZyaPpxTPX+OSybrGVcDT9xBsKCzQxQkei/aXvxzCLW7x2+g7q5LFsmKlwquEGzfePY8PkEKfutUSj8c+cid/di2duwsyxPKLrl/rdLV5r7EnYVxgeGBKhWxq/p3nyWDZMC/Fug8oTlaO41HCdt+PSBqtrHE/EHWubkscjzrFscOo2hiM0aIJ754z2f+ep6zRPGceGZ/M4+iXwzR06p4xnQ/4ddp4KUebRLhEC3pvs9ILTNRbng6N4mNu823Ab3ON57tpt3mm4jZ/RVFbm0dlwW5YOGMYYlnK4Jo8CbgM9fPLJHUDB6hrHc/l3ovlqQX4e6ncWSivuYfb9Clc7/4+3w+JLh3rf6Oj/yuVb7PzOgu1+bVvAe5PXAP31biQVKbhwg+CD0HnBwnz3aC7lq1zCQgHgz1eYcC1EEGE4Y4igVXUUzgdBUcby3CxVSwnUUTwxTeXoxz26CPgD3ddC0Yj+fL621eoalzRF0AQfitnmfOxenpmkcPFKD5DHs8+O5WHuaK8TxjVrDJy5zsfX8iibBnzdw6VZeXSeugnucTjzwXu/Bb7pEYf1MMcQQdvco5jwzR2u3hvi6OU8np3cw+f5o+DLGwTd4yj9+mbCqEU88eJVdYIHIH8MP1swlotnrrHztKLl0JN/4JNPboVHQEbTDQSAztM38ap50Xy8U1HoPB3SFn25Bs+5RxNgFN2XbyIXh8MbQwRdwA8c7YD5jwJf3+Tj/DE8P/kOb3sVVLUHp2cczoab/XuRSO47ZRwvVmrpxsUzmiCV6z281WChzKNtj0RxoHfEJDys5/+6h1PTxjOf27z7NaLnYY4hgu709sTkubYpeUycNIoNlb37qJ4Qp75P3cZE5z2xF4bA1c7E0Qfl8i12Xo7UWkyuRm/HbR5/0MIfP76Jl7xwPh0e1lMtFOQD17J8c0JOMyjj0IEkF3rahZqFwDVQp4zlxUdHo6oKpV/foCWLC8NIypEOVe3hKJFx7lFUVt7HM5HltiaPRiWPFx8dzcUz13g3fzzPecZEb8YIw5NBXQpMVUdRWdk77qteuclrioJrssIXJ67RfG00lZX3sSGNoNQrN3ntdOJNlcTXik055j/4A6carrPzekTQY9kwE/7ryLXwoog32XltLBs8Y2QcehhjyI0VQRgqZHKSYCpE0IKpEEELpkIELZiKmFGOv57996HqhyAMCBKhBVMhghZMhQhaMBUiaMFUGHrrO6TamVe9ijm2iB3Ly+G6D2mVuRKCQRgm6JC9gvWrSwnW76C2TRNwSC1iZbUH3+4GutKIOvJFsDXv4P02JeGxIKTCEEGHVDvzFmti1gvQorTz/h7EsycYRszkpAt/+suANBqyV7B+MRzKGImLWLlpAe7wPr6mN3n9hC1mW8jXwV9sLqZGZuj5m9mzu4ErFCccu6vBp4vmR2DhAlyBFl7e0zgg70vIfYxJOexWbASiDyPph11Ronn0WYpZuakU/94dvO/rTStWBnawv86fNuUIpTh2RWAH+1u113QtdHO4bgfvy6/BiGJQ5kNbfI3s2t4YjshubWOJG7diw72mhjm6fX1WR+YGszjWWy8XnyMRYwTd2oF3YSlFjga6fKl3i6QPiWmJPeNL9OdYwbwYMg5tUdppaIby1WuYa1eT79Tagddaiqekd1PJsipK1BT7D9Sxgqkx5KIwgj53jhC5eEv2fMdH26OjIg7PaqrLbdFIzJNrYh5fcXiSHitDfCMbQwUtCION3PoWTIUIWjAVImjBVIigBVMhghZMhQhaMBUiaMFUiKAFUyGCFkyFCFowFcZZsOIm7+vnaQiCURgSoSNipn4HtXU72PrKm/jLlmacDRdS7cxdu5EVxWrSx4KQCWMitMNKQaCFQ62AAhbFx/E9B8VLKBiOMZ5CXYROlmaIl1Awijy73b4NYMqUKQS7vx2QRhXFT2u3g2WLFlMxx07ws3P4FN1SBptK8e/dye+ONnGi0csDT6/i8VsH2f9hJ6MKf8yNP+zgt0c7+O/P9I+/4lrUSxh77OxbJ2nz3cfUx2Yyc6bCybo9HDjz1YC8F2F4YdhFoaXtILVt4Yn6m2tY7K3n5QPt4iUUDMVwk2xXw162ntBSjBXFbexHvISCcRgzymGvYN2yoritAfw+xEsoGIphFqyIJzCCfhxavISCUYinUDAVcutbMBUiaMFUiKAFUyGCFkyFCFowFSJowVSIoAVTIYIWTIUIWjAVg7KCf64SmZftIkDT3jc47pNb5sOdEVmnUD/PpOOj7bzcphBSHTF9jZDKCymeydxkRNYp7GrYS22DJmxPzDOdHHql9wtXsmwjhUn7p/NMRvu3lJLW9F9Wqb9oPFKn8G4Qz2TOMiLqFOoNAfFpUARfUz1elxv/7rgIfT4xeopnMncZGXUKFf2vhI/je17lWJwoQ6qdeS53Vm/PorSzv95N7aIatiyMvS7o9UxK/cWhYMTWKZyxvBQ6A7gX1bDO+iavn+jjexLPZE4yIusUhoqrKPfXc4iFcH4756a/xMqSffgzHpmIeCZzixFZp3DGdGg60dXb3IFXoz/p2SCeydxlRNcpdHhW4wm8EXNctuPQ4pnMTUa0pzBR0HOyGuUQcpcRLWjBfMjkJMFUiKAFUyGCFkxFn8ehT9y6YUQ/BCGBJ8eO7/MxEqEFUyGCFkxFv259381PgiCko78prURowVSYRtAhtYgVNcbMe9Da3siWmtWp56akPK5vxwxmexlfr7iKLWsrcAyjuSQj0iTr8Kxmra2Fwyyg3L8vOrck2X799R4ONvHmAjUyrXUQyPa8GsmIE3TIXsESVyd7drdxBT+26oXMPZfc8d1f7+FgEyquonaRi46Ptvf6OIurWO/xGy6uvpxXIzFNypEtMypKCTZr840tio9jzUHKK4qHulv9JqQWsXKhM+GXwtJ2cFAiZa6c10ErjRwzbTTuOSBu+qSVprCtSZuKGf84+dRMPfp0odf25cBWEJ63HMEXwF9mxaGqMZPqE6eT1rB1Udh72NeTUbiUrWtcWl90KUA200xj+5+mvRK35p8MG3eTkZCOqMnsY/GfSyDl8Xq/Y7bn1WgMcn0n99Vp3rjimCUAQPvJXlyQTbt25lXAoboddCkKoeIqti3Ulg84q9/PXsGSsiCHXnmj166kKKDasFmDnOui90PvChC0urEDXbo2BsJ7qGGl3NZCbd3BqIDn2ts41uVI/V4cnhT9T9NexnOnvY+C5n3URgJLcRXbNi2FqMcz9eeS/jPN/rwajTEROp03LkkkOXu+k8VlmZu1KD6OH/DheHINW3XRK4GuAEFKWbxpDTb9ikgOKwWBALE/wH78gVJsDiDJL3N/vYcQoKmxDVCg6zzegDPze0nV/zTtZSRy3k909ZqGW0/SVLaKwhI4S4bPJd1nehfn1SgMSzlSeuP6kVZFIhLN+6it80XTkXgsSjvvb28PR5GX2GLVlvo6ljRqJIkukdcbQO9hX95L6v6naTBLH2ci4VQhC8tiys9UtfXpvBqJMReF6bxxcc+FVDvzyuKjTIH2zQYmFTqJGp3sVmyBFg6F/YAxz+kI2SuYW6xqFye799EUsGKLfmC9bQNadEnxNvrrPUxLmveSvv/JSeXjDBVXsc5jj573JU/q3nzJHMrppL2LzJ9LRr9j9ufVSAyJ0Balnf17raxf/RJbF+kueBQFC71rWmxdBKrqp6m5E1zhY32NHGp2Uh3+afN5vb0RMfwTWb1Z+x2MeU7/+r5G/BW9r61663m5TcGitHOucwGFdnp/Bu1WbJ0dSZcGaD2grYaUuACBkyWba1ii29Jxvo8nKc17SdX/THQ17GVboIpaXVqgXTT6sCg+9tfByk2r2FquvygMj0xk+lwyfKZ9Oa9G0mcLlv5e+0DN5QgVV7GtLJDCvj+w6Fd1uoKDedUL4XD68VLxHmbmbs5rMvqrrxF3Y8Xia+SQdzVrlwc4zAJc3n3synDSuxr28n44EUy2jl3rgVdpHcxEMQe5m/NqBCNO0KAJ9GUA2hmolFjIjfOaE4K2tB3k5TZk9U6h34y4W9+CuelXhBZ/oZBrSIQWTIUIWjAVfU45xEco5DISoQVTYQpBh+wVrBtEr52Qu+TEODTkVt2/XPDGCXdHnt1u3wYwZcoUgt3fDkijIdXOP1T/itm3TtKexe1PfVWp1z9s4kSjlweXzOe+0+f4BkfGtpTvv+L0yS/58/f9/wKE7BW8UH6Vd/7zCy62d/LA0wt56H/PDEjbgvHkRsoRrvvXEL5fGpkvMRTFcXLFGyfcHYakHCs3rdJSh0U1bClLXn8vxs/WFSBoXYCnpIH323rbiUlDwm3t3nWO4nW/iKnXt/sQVK3RfIfRcnHNQeaUa3MfU/kZtSmSQcpdgXAfs/ccCrmJIYLeX7cvSf291H621hR1/yxKe2JtP8VOMbH1+kL2irgexPvuNEv9sa5Y31zEF0e0pmLueOOEu2NwUo6wn+2Qzv1B60maAk4Kww4IS9tBaut2sKe5gCWba9iSUGUqlvT1+iK+O8K+u9h+6FObY82dvYel9MbFuTGEnGWIc+i4n3fCdf9eqcfrXMCK4kEehusKELRa4+x1WtT2S3geFgyOoDP42dLW/TOgH9n6GYEh88YJd4dBnkIf7d4A1bqLwrR+Nl8jh/yr2bppYbSNjo+2c9ynJLS1e9e5fvQr1heXzDeXK9444e4Y8WXd4v2MA+WNE4aG3BiHHiRCqp25a3ut95H14Pze89EhOc0b52Tt8mJmLF+Fy1svYh5GjLgIHb+enH6MWhj+5MxcjsHC4mtk1/bGoe6GYBAjKuUQzI8IWjAVImjBVIigBVMhghZMhQhaMBUGlaSIr0+SnGhdlZKl1C5yZdV2KmtWybKNKe1SWrkHYuqJ9PZT7gSaCcPmchzf8yrHddtCxVWst55MFFwfbnCkK5929oMjFG5KXkrM0naQba1FrExa4kEwE4bcKSxZtpElruxEoy9zoF+HecDajys8mazSk55cKaAp3B2G3fqOj8iZHkNmoSaL4g7PapZQnza6p0pHJOUwH4be+raX/4Kt5fotrpjHvqaT0f8jte5OvtF3cQUD6SvTtB54FZ9nNVuWtQxamWBhaDBU0DHm1KQROv4IK3PiyobpSVa32m6z4i7X6oLE7Kv6adLly5HFuJP+CuhrkqSq9CQMC3ImQie7kNQTslewPs4Lmyqqa3myW7NNhTeHiqvYNr2Dlw+8Gl1dPrKgTELUFjEPWwwTtKXtILX6JQlSjHJkM8Snql4O1wP+uFJTJXMotwY5nEUtvEnWArzn26I7htQiPGVBDte1ESpZGha7pCPDnUEeh46N0JG1OdJF5mibxVXog33ED+hv3pdoj4pzb4dUO0WuIOdOAEqkf6X492qlhy1tB9lGFSuL28KVrmLLIZcs28hijvDygfaUY9pCbpAz49CZmGQtiF78Rb4w5cSV+o1gt2Kjt+g6jum4gh0cD+83Y7m2zsf+LkfMF09VE+uGC8MLQ4bt5q7dmPEuYYRUF2Hx48X6lZb0EVPb1x4nzNgLwpg6g8VV0buS8fuF7BWsLDzP++JgGbaMOAuWYG5kcpJgKkTQgqkQQQumQgQtmAoRtGAqRNCCqRBBC6ZCBC2YikEXdKi4iq2bXmLrppdiVukPqUWsqOldSDF2+8aE/eMpWbaRdR570udCxVVsSdq2nblrpb6hmTBstl0690myec16HJ7VVJfbtH1Vb7SWSjrEUyjAIN76Tjk5iVjx6+dspDpGPIVCKobeJBsWXGRS/jndtMx0X4II4ikU9BiScrTqXCHR+cP1UG7twOtaQHnwSB8m009nRc2qaERNZpQVT6EQwfDpo9EIrIu2sVM4tRTjbLiWoYtOvJ1O3ElSkGSk+jWInxqaaf/oceIpHNYYnkNn87MeEVm8eDOlHKnaTpW+xNusUnoKhWGLISlH0gn+KdzcWkTcwVaKWbnJnbZdzSgbYFdEgOIpFOIwRNAR+1WyCJg0qioKZDMUbLdGjbLiKRSSYdg4dEi1Yw/Usy0wh1pd/cFUuW02TLIWRNsWT6GQjEEZttOPBcf7/zo+2k6DdQ3V5baMY8aRHJvlL4mnUEiKeAoFUyGTkwRTIYIWTIUIWjAVImjBVIigBVMhghZMhQhaMBUiaMFUGLM+dHhm27YP/AnrROvvBkbu4O1nacpZdSF7BesXWwnihOYd4iYR0mJIhLa0HWTbeTfblk8HApx8Yzu1dTvY+kYzfjTB6w2tlraDNNlWpTS5Euxg/+59+MvWiKFVSIuhJSm2tdqZV+0EillR4+bc3kDK/c9+sA/b8unMXbaKOUkm4Ndu1v6qFcUcl2meQgoMEXTEw/f6ieyPsSg+jh/wAY2xK/+rRaysttIgLhIhCwxJOc5+sA+vaxUrSzLvq6p25q7V1t1YUSzphNA/DK2xok3CT7+vEt633bMaD7FrcgD4mpoJGtFJwZQYlkNrywu04I1s0DlI0tHVsJetJ+zMq56Df/eHnMXBPNcc7ECXUZ0VTINh49B2G3jP+bUHhW5cwQBXsjiuxFPBJN1ji+LDHyzA5jCil4LZMETQIbWIQmcQf1cXx3bXg8uJ4lrI+sLz7DrQjqXtYHIn9/SlLLYlCt/nB1ehg5C9gnVrK7CHCllRszGac5cs2xhd9y7VOnbCyMCYCO2wUtDZoaUL1atwefdRW7cj/Vgz4CoIsOeDSPlZJ0s217Clpgr7uU4om8MMgGCAb2S0Q0iBIRYsbT0NbZUkm+7uXtTx7Q0yp9wV4+krWbYaW+MbtBcm9xdGLhZl7TkhHeIpFEyFTE4STIUIWjAVImjBVIigBVMhghZMhQhaMBUiaMFUiKAFU2GMpzA6KT+AJ24l/QiRO3+Rmim9q+6fxBbnQ4yQqTyFIBg2fTSe+HnOqree2rpkVqouju0+gi3OpaLdNk9WA0AQehk0QUPyGoDxazu7N9dQ3lSPF2vsHGjHdFwEEDehkI5BFXQyIu6WY/YK1q+20hROKUpspdoc6MgsU7sVvCfFVyikxThBW0up3qyJz7VpKU3N4F5Uw9ZFvbvoZ9tNKnRiV2ws2VxD4Ufb2X8+yPpCB8d9mqJnTHcSPP8hGasDCSOaUWPHjjWm5UALu3U5sMOzGpvXS4E/XKswnBP7uyBEER4X+FQvTXUnsVWvYd7hFoJl03Gc6OKKw0N5QQuHWhE9C2mx3JP/APfkPzDwLVtLqQ5P0C9RVew2K/gD4JqOQ1WjhXxaFYVJT5ZCc0vYDNvF8T17Oe5r51ywFE8JzKgoJdgsyxgImTFuHDrQwu5X3qRJv7ZMoIGmYCmeEgfzFjvxNmruFDudNLQmNnH2gyOw8CUWF7QkfV4Q4jHOghVjii2m0NnJudaISFfh8tZHq0+1NjQmNdDOWB6ugGXVRjwEIROGCHpSoRP8/t4NJW5cUY/hAlyBAJStSrmwTEgtYkWNVuyytm4H2/YGKJeFaIQsyPvbHz20DWDihL8h2P3tgDQ6ddaj3Dj9GX/6/j6mPvZ3/Oi+Ajr89/L8z37M/7y7k9999iVffNbJg0v+jZ9P7abxnB8VOyV/b8XfXci6NU469u7kd6e0L4Xy/VecPtmEpeIlqufk0XjmqwHpp2A+lPKKJ1WAaVN/JJ5CYdgjk5MEUyGCFkyFCFowFSJowVSIoAVTIYIWTIUIWjAVImjBVMTMh5429UdD1Q9BGBD+H0IZZlkpxvoKAAAAAElFTkSuQmCC" alt="image-20220423154226034"></p> <p><img src="/note-sites/assets/img/image-20220423154337729.d3af5837.png" alt="image-20220423154337729"></p> <p>选择需要比较的字段然后一直下一步下一步, 会自动生成重写的<code>equals()</code>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_13</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> o<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">!=</span> person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>再运行测试类就可以正确的进行比较值了</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
p2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;小红&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="getclass"><a href="#getclass" class="header-anchor">#</a> getClass()</h3> <p><code>getClass()</code>方法返回对象所属的类, 是一个 Class 对象; 通过 Class 对象可以获取该类的各种信息, 包括类名、父类以及它所实现接口的名字等</p> <p>基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaAPI</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;HelloWorld&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取类名</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;类名：&quot;</span> <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取父类名</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;父类：&quot;</span> <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取实现的接口</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;实现的接口有: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> implList <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 输出实现的接口</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> implList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>implList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>类名：java.lang.String
父类：java.lang.Object
实现的接口有: 
interface java.io.Serializable
interface java.lang.Comparable
interface java.lang.CharSequence
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>获取类的的更多API可见 <a href="https://www.apiref.com/java11-zh/java.base/java/lang/Class.html" target="_blank" rel="noopener noreferrer">Class Class&lt;T&gt;<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="hashcode"><a href="#hashcode" class="header-anchor">#</a> hashCode()</h3> <p>返回对象的哈希码值</p> <h3 id="接收任意引用类型的对象"><a href="#接收任意引用类型的对象" class="header-anchor">#</a> 接收任意引用类型的对象</h3> <p>既然 Object 类是所有对象的父类, 则所有的对象都可以向 Object 进行转换, 也包含了数组和接口类型, 即一切的引用数据类型都可以使用 Object 进行接收</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;HelloWorld&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 向上转型</span>
<span class="token class-name">Object</span> o <span class="token operator">=</span> s1<span class="token punctuation">;</span>
<span class="token comment">// 向下转型</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; HelloWorld</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">base</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaAPI</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> n <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">method</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 判断是否是 int[] 类型</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 转换为 int[] 类型</span>
            <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>因为 Object 类可以接收任意的引用数据类型, 所以在很多的类库设计上都采用 Object 作为方法的参数, 这样操作起来会比较方便</p></blockquote> <h2 id="类和对象"><a href="#类和对象" class="header-anchor">#</a> 类和对象</h2> <p>在 Java 中<strong>万物皆是对象</strong></p> <p><strong>类</strong>: 类是对现实生活中一类具有共同属性和行为的事物的<strong>抽象</strong></p> <p><strong>对象</strong>: 是能够看得到摸的着的真实存在的<strong>实体</strong></p> <blockquote><p><strong>类是对象的抽象, 对象是类的实体</strong></p></blockquote> <p>工具类的设计思想:</p> <ul><li>构造方法使用<code>private</code>修饰(避免创建实例)</li> <li>成员使用 <code>public static</code> 修饰</li></ul> <h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <p>类是 Java 程序的<strong>基本组成单位</strong>
类的组成: <strong>属性</strong>和<strong>行为</strong>
属性: 在类中通过<strong>成员变量</strong>来体现(类中方法外的变量)
行为: 在类中通过<strong>成员方法</strong>来体现(相比方法时去掉<code>static</code>关键字即可)</p> <blockquote><p>Java 中<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Object.html" target="_blank" rel="noopener noreferrer"><code>Object</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是所有类层次结构的根</p></blockquote> <h4 id="类的基本使用"><a href="#类的基本使用" class="header-anchor">#</a> 类的基本使用</h4> <p><strong>定义Person类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// JavaSE-Code/idea-test/src/test/Person.java</span>

<span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token comment">// Person 类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">// 成员变量</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">// 赋初始值</span>
    <span class="token keyword">char</span> gender <span class="token operator">=</span> <span class="token char">'男'</span><span class="token punctuation">;</span> <span class="token comment">// 赋初始值</span>

    <span class="token comment">// 类方法(不加 static 关键字, 给实例调用)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在类方法中直接可以使用成员变量(会被局部变量覆盖)</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;name: %s, age: %d \n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用 this.xxx 也可以方法成员变量</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;name: %s, age: %d \n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>类的一些注意点:</p> <ul><li><p>一个Java源文件可以包含多个类的定义, 但只能定义一个<code>public</code>类, 且<code>public</code><strong>类名必须与文件名一致</strong>, 如果要定义多个<code>public</code>类, 必须拆到多个Java源文件中</p></li> <li><p>类中没有<code>main</code>方法将<strong>不能</strong>运行, 但是可以被其他类使用如上面的<strong>Person</strong>类</p></li> <li><p>在类的方法中是可以使用<code>this</code>关键字的效果和 JS 的效果类似, 谁调用这个方法<code>this</code>就指向谁</p></li></ul> <p><strong>使用Person类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// JavaSE-Code/idea-test/src/test/PersonDome.java</span>

<span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonDome</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 调用方法</span>
        <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; hello wrold</span>

        <span class="token comment">// 类将作为实例的数据类型</span>
        <span class="token class-name">Person</span> zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 同一个模块中的自定义类不需要导入可以直接使用</span>
        <span class="token comment">// 访问成员变量</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zs<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 18</span>
        <span class="token comment">// 修改成员变量</span>
        zs<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 调用成员方法</span>
        zs<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; name: 张三, age: 18</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 加了 static 关键字的为方法(main 方法中调用)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello wrold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="this变量"><a href="#this变量" class="header-anchor">#</a> this变量</h4> <p>在方法内部, 可以使用一个隐含的变量<code>this</code>, 它始终指向当前实例; 因此, 通过<code>this.xxx</code>就可以访问当前实例的字段;</p> <p>如果没有命名冲突, 可以省略<code>this</code>, 如果有<strong>局部变量和字段重名</strong>, 那么<strong>局部变量优先级更高</strong>, 就必须加上<code>this</code></p> <h4 id="成员变量和局部变量"><a href="#成员变量和局部变量" class="header-anchor">#</a> 成员变量和局部变量</h4> <h5 id="成员变量"><a href="#成员变量" class="header-anchor">#</a> 成员变量</h5> <p>成员变量是在<strong>类中方法外</strong>定义的变量</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">// 成员变量</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 访问成员变量</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zs<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; null</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zs<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 18</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 成员变量</span>
    <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="局部变量"><a href="#局部变量" class="header-anchor">#</a> 局部变量</h5> <p>局部变量是在**方法中(大括号内)**中定义的, 局部变量是不能在作用域内不能声明外层作用域已经声明的变量</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 局部变量</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token comment">// 访问局部变量</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// int n = 1; // Error 范围中已经定义了变量 n</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h5 id="成员变量和局部变量的区别"><a href="#成员变量和局部变量的区别" class="header-anchor">#</a> 成员变量和局部变量的区别</h5> <table><thead><tr><th style="text-align:center;">区别</th> <th style="text-align:center;">成员变量</th> <th style="text-align:center;">局部变量</th></tr></thead> <tbody><tr><td style="text-align:center;">类中定义的位置不同</td> <td style="text-align:center;">类中方法外</td> <td style="text-align:center;">方法内(大括号内)或者方法声明上</td></tr> <tr><td style="text-align:center;">内存中位置的不同</td> <td style="text-align:center;">堆内存</td> <td style="text-align:center;">栈内存</td></tr> <tr><td style="text-align:center;">生命周期不同</td> <td style="text-align:center;">随着对象的存在而存在, 反之消失则消失</td> <td style="text-align:center;">随着方法的调用而存在, 方法调用和完毕(出栈)一起消失</td></tr> <tr><td style="text-align:center;">初始值不同</td> <td style="text-align:center;">有默认的初始值</td> <td style="text-align:center;">没有默认的初始值, 必须先定义赋值, 才能使用</td></tr></tbody></table> <h3 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h3> <p>Java语言提供了很多修饰符, 主要分为以下两类：</p> <ul><li>访问修饰符</li> <li>非访问修饰符</li></ul> <blockquote><p>修饰符一般写到需要修饰的成员最前面</p></blockquote> <h4 id="访问修饰符"><a href="#访问修饰符" class="header-anchor">#</a> 访问修饰符</h4> <p>Java中, 可以使用访问控制符来保护对类, 变量, 方法和构造方法的访问; Java 支持 4 种不同的访问权限</p> <ul><li><strong>default</strong> (默认): 在同一包内可见, 不使用任何修饰符, 适用对象: 类、接口、变量、方法</li> <li><strong>public</strong> : 对所有类可见, 可以修饰(<strong>类, 接口, 变量, 方法</strong>)</li> <li><strong>private</strong> : 在同一类内可见用于保护成员(<strong>变量, 方法</strong>)不被别的类使用(<strong>修改数据</strong>), 但是<strong>不能修饰类(外部类)</strong></li> <li><strong>protected</strong> : 对同一包内的类和所有子类可见, 可以修饰成员(<strong>变量, 方法</strong>), 同样<strong>不能修饰类(外部类)</strong></li></ul> <table><thead><tr><th style="text-align:center;">修饰符</th> <th style="text-align:center;">同一个类中</th> <th style="text-align:center;">同一个包的子类中</th> <th style="text-align:center;">不同包的子类中</th> <th style="text-align:center;">不同包的无关类中</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>default</strong></td> <td style="text-align:center;">ok</td> <td style="text-align:center;">ok</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"><strong>pubilc</strong></td> <td style="text-align:center;">ok</td> <td style="text-align:center;">ok</td> <td style="text-align:center;">ok</td> <td style="text-align:center;">ok</td></tr> <tr><td style="text-align:center;"><strong>private</strong></td> <td style="text-align:center;">ok</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;"><strong>protected</strong></td> <td style="text-align:center;">ok</td> <td style="text-align:center;">ok</td> <td style="text-align:center;">ok</td> <td style="text-align:center;"></td></tr></tbody></table> <h5 id="private"><a href="#private" class="header-anchor">#</a> private</h5> <p><strong>private</strong>关键字主要用于<strong>代码封装</strong>即不对外界暴露内部状态, 只提供指定的方法修改内部变量</p> <p>这样可以保证内部数据的安全性, 外界也不用去关心其内部的状态变化</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token comment">// Person类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">// 成员变量 name 和 age 只能在本类中使用</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在别的类中是不能使用被<strong>private</strong>修饰的成员的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonDome</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        zs<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span> <span class="token comment">// Error 无法访问成员变量 name</span>
        zs<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">// Error 无法访问成员变量 age</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>如果需要修改<strong>private</strong>修饰的成员, 可以使用指定的成员方法(<code>getXxx()</code>和<code>setXxx()</code>)来提供相应的操作</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token comment">// Person 类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token comment">// 添加修改 name 成员变量的(`getXxx()`和`setXxx()`)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> newName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> newName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 添加修改 age 成员变量的(`getXxx()`和`setXxx()`)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> newAge<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在 setter 中就可以校验参数是否合法了</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>newAge <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;age 属性设置失败, 参数不合法 &quot;</span> <span class="token operator">+</span> newAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> newAge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><blockquote><p>给外界提供的<code>getXxx()</code>和<code>setXxx()</code>方法一定不要用<code>private</code>去修饰</p></blockquote> <p>在其他类中就可以使用其提供的<code>getXxx()</code>和<code>setXxx()</code>来读取和设置对应的成员了</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonDome</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        zs<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zs<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 张三</span>

        zs<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// age 属性设置失败, 参数不合法 -18</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zs<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 0</span>
        
        zs<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zs<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 18</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="状态修饰符"><a href="#状态修饰符" class="header-anchor">#</a> 状态修饰符</h4> <p>状态修饰符包括两种: <code>final</code>(<strong>最终态</strong>)和<code>static</code>(<strong>静态</strong>)</p> <h5 id="final"><a href="#final" class="header-anchor">#</a> final</h5> <p><code>final</code>关键字是最终的意思(<strong>常量</strong>), 可以用来修饰成员方法, 成员变量, 类</p> <h5 id="final-修饰类的特点"><a href="#final-修饰类的特点" class="header-anchor">#</a> final 修饰类的特点</h5> <ul><li><p>修饰方法: 表明该方法是最终方法, <code>不能被重写</code></p></li> <li><p>修饰变量: 表明该变量是常量, <code>不能再次被赋值</code></p></li> <li><p>修饰类: 表明该类是最终类, <code>不能被继承</code></p></li></ul> <p><code>final</code>修饰基本数据类型和引用数据类型和 JS 的<code>const</code>效果一样</p> <h4 id="static"><a href="#static" class="header-anchor">#</a> static</h4> <p><code>static</code>关键字是静态的意思, 和实例的字段不一样</p> <p>实例字段在每个实例中都有自己的一个<strong>独立空间</strong>, 但是静态字段只有一个<strong>共享空间</strong>, 所有<strong>实例都会共享该字段</strong></p> <p><code>static</code>修饰的特点</p> <ul><li>被类的所有对象共享</li> <li>可以通过其类名调用(<strong>推荐</strong>), 也可以通过对象名调用</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">public</span> <span class="token class-name">String</span> school<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d, %s\n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonDemo</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 设置 Person 类的静态成员变量</span>
        <span class="token comment">// 后续所有其实例都会获得这个值</span>
        <span class="token class-name">Person</span><span class="token punctuation">.</span>school <span class="token operator">=</span> <span class="token string">&quot;北京大学&quot;</span><span class="token punctuation">;</span>

        <span class="token class-name">Person</span> xm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xm<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;小明&quot;</span><span class="token punctuation">;</span>
        xm<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
        xm<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 小明, 18, 北京大学</span>

        <span class="token class-name">Person</span> xh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xh<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;小红&quot;</span><span class="token punctuation">;</span>
        xh<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
		<span class="token comment">// 实例也可以修改这个静态成员属性</span>
        xh<span class="token punctuation">.</span>school <span class="token operator">=</span> <span class="token string">&quot;清华大学&quot;</span><span class="token punctuation">;</span>
        xh<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 小红, 16, 清华大学</span>
        xm<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 小明, 18, 清华大学</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="static-的访问特点"><a href="#static-的访问特点" class="header-anchor">#</a> static 的访问特点</h4> <p>非静态方法下可以访问<strong>任何静态或非静态的成员变量和方法</strong></p> <p>静态成员方法<strong>只能访问静态成员变量和方法</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在静态方法中只能访问静态成员</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error 无法访问静态成员</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在非静态方法下可以访问任何静态或非静态的成员</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="构造方法"><a href="#构造方法" class="header-anchor">#</a> 构造方法</h3> <p>构造方法(和类同名)类似于 JS 的构造函数, 由于构造方法是比较特殊的, 所以<strong>构造方法的名称就是类名</strong>;</p> <p>构造方法的参数没有限制, 在方法内部也可以编写任意语句; 但是和普通方法相比, 构造方法没有返回值(也没有<code>void</code>), 调用构造方法, 必须用<code>new</code>操作符</p> <p>不提供构造方法时会有默认的<strong>无参构造方法</strong>(继承自<code>Object</code>类), 构造方法也是支持重载的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;默认名称&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">char</span> gender<span class="token punctuation">;</span>

    <span class="token comment">// 构造方法(和类同名)类似于 JS的构造函数</span>
    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">char</span> gender<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 无参构造方法(构造方法重载)</span>
    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;name: %s, age: %d, gender: %s \n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><code>new</code>该类时传递需要的参数即可使用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonDome</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token char">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        zs<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; name: 李四, age: 28, gender: 女</span>

        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 默认名称</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>构造方法一定<strong>不要指定返回值类型</strong>, 不然会报错</p></blockquote> <h3 id="标准类的制作"><a href="#标准类的制作" class="header-anchor">#</a> 标准类的制作</h3> <p><strong>成员变量</strong></p> <ul><li>使用<code>private</code>修饰</li></ul> <p><strong>构造方法</strong></p> <ul><li>提供一个无参构造方法</li> <li>提供一个带参数的构造方法</li></ul> <p><strong>成员方法</strong></p> <ul><li><p>提供每一个成员变量对应的<code>getXxx()</code>和<code>setXxx()</code></p></li> <li><p>提供一个显示对象信息的<code>show()</code></p></li></ul> <p><strong>测试类</strong></p> <ul><li>使用无参构造方法实例化对象后使用<code>setXxx()</code>赋值, 调用<code>show()</code></li> <li>使用带参数构造方法创建带属性值的对象,  调用<code>show()</code></li></ul> <blockquote><p>IDEA中使用<kbd>Alt</kbd>+<kbd>Insert</kbd>可以自动生成<strong>构造方法</strong>和<strong>get/set</strong>方法</p></blockquote> <h3 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h3> <p>继承使用<code>extends</code>关键字, 语法和 JS 一样</p> <p>Java 中不能<strong>同时继承多个类</strong>, 但是可以多层继承(<strong>A继承B, B继承C, A将获得B和C的特性</strong>)</p> <p><strong>Anamal 基类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">classLearn</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;未知名动物&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> flag <span class="token operator">=</span> <span class="token string">&quot;我是 Animal 类&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Animal show name: %s, age: %d \n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><strong>Deg 和 Cat 子类</strong></p> <p><strong>子类中所有的构造方法默认都会访问父类中的无参构造方法</strong>, 因为子类无参构造方法默认会调用<code>super(),</code></p> <p>如果子类需要传递参数时将参数传递给<code>super()</code>(<strong>父类的引用</strong>)即可, <code>super</code>只能在子类构造方法中被调用</p> <p>Java 中的<code>super</code>可以在子类的任意地方使用(<strong>super.xxx</strong>), 但是也会收到父类中访问修饰符的影响</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// classLearn/Deg.java</span>
<span class="token keyword">package</span> <span class="token namespace">classLearn</span><span class="token punctuation">;</span>
<span class="token comment">// 继承 Anamal 类型</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// classLearn/ExtendsDemo.java</span>
<span class="token keyword">package</span> <span class="token namespace">classLearn</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExtendsDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deg</span> wc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token string">&quot;旺财&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wc<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; Animal show name: 旺财, age: 3 </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="阻止继承"><a href="#阻止继承" class="header-anchor">#</a> 阻止继承</h4> <p>正常情况下, 只要某个class没有<code>final</code>修饰符, 那么任何类都可以从该class继承</p> <p>从 Java15 开始, 允许使用<code>sealed</code>修饰class, 并通过<code>permits</code>明确写出能够从该class继承的子类名称</p> <p>例如, 定义一个<code>Test</code>类:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Test</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token keyword">permits</span> <span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上述<code>Test</code>类就是一个<code>sealed</code>类, 它只允许指定的3个类(<strong>A, B, C</strong>)继承它, 这种<code>sealed</code>类主要用于一些框架, 防止继承被滥用</p> <h4 id="区分继承和组合"><a href="#区分继承和组合" class="header-anchor">#</a> 区分继承和组合</h4> <p>在使用继承时, 要注意逻辑和抽象的一致性, 如下的<code>Animal</code>类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 动物类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这个<code>Student</code>类也有<code>name</code>字段, 那么, 我们能不能让<code>Student</code>继承自<code>Animal</code>呢？</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 学生类</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>显然, 从逻辑上讲, 这是不合理的, <code>Student</code>不应该从<code>Animal</code>继承, 而应该从<code>Person</code>继承</p> <p>究其原因, 是因为<code>Student</code>是<code>Person</code>的一种, 它们是<strong>is关系</strong>, 而<code>Student</code>并不是<code>Animal</code>; 实际上<code>Student</code>和<code>Animal</code>的关系是<strong>has关系</strong></p> <p>具有<strong>has关系</strong>不应该使用继承, 而是使用组合, 即<code>Student</code>可以持有一个<code>Animal</code>实例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 学生类</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Animal</span> ani<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><strong>继承是is关系, 组合是has关系</strong></p></blockquote> <h3 id="重写"><a href="#重写" class="header-anchor">#</a> 重写</h3> <p>在子类中重写方法中可以使用<code>@Override</code>注解来检查要重写的方法声明的正确性, 如果不正确(<strong>方法名错误</strong>, <strong>参数定义错误</strong>)则会智能提示</p> <p><strong>Deg 子类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// classLearn/Deg.java</span>
<span class="token keyword">package</span> <span class="token namespace">classLearn</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 重写父类的 show 方法</span>
    <span class="token comment">// @Override 是一个注解可以智能检测是否重写方法成功</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在子类中可以通过 super 访问父类</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 子类中也不能访问 `private` 修饰符修饰的成员</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Deg show name: %s, age: %d\n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>在子类中直接写父类的方法会IDEA可以自动填充重写声明</p></blockquote> <p><strong>Cat 子类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// classLearn/Cat.java</span>
<span class="token keyword">package</span> <span class="token namespace">classLearn</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// classLearn/ExtendsDemo.java</span>
<span class="token keyword">package</span> <span class="token namespace">classLearn</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExtendsDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deg</span> wc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token string">&quot;旺财&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Deg 类的 show 方法</span>
        wc<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Cat</span> xm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 父类 Animal 的 show 方法</span>
        xm<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>子类重写方法的注意点:</strong></p> <ul><li>子类不能重写父类的私有方法(<strong>父类私有成员子类无法继承</strong>)</li> <li>子类重写的方法时定义的访问权限必须大于父类方法的方法权限(<strong>public &gt; 默认 &gt; 私有</strong>)</li> <li>子类重写父类的方法时定义的访问权限必须大于父类方法的方法权限</li> <li>方法名相同, 方法参数相同, 但方法返回值不同, 也是不同的方法, 在Java程序中, 出现这种情况, <strong>编译器会报错</strong></li></ul> <h3 id="多态"><a href="#多态" class="header-anchor">#</a> 多态</h3> <p><strong>针对某个类型的方法调用, 其真正执行的方法取决于运行时期实际类型的方法</strong></p> <p>例子: 狗类</p> <p>可以说狗是狗: <code>Deg d = new Deg()</code></p> <p>也可以说狗是动物: <code>Animal d = new Deg()</code></p> <p>上面的狗在不同的时刻表现出不同的形态, 这就是多态</p> <p>多态在程序中的前提和实现</p> <ul><li>有继承/实现关系</li> <li>有方法重写</li> <li>有父类引用指向子类对象(<strong>向上转型</strong>)</li></ul> <p><strong>Animal 基类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;动物在吃东西&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Deg 子类继承 Animal:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗吃骨头&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;旺旺旺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 父类引用指向子类对象(向下转型)</span>
        <span class="token class-name">Animal</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 反过来直接赋值是不行的</span>
        <span class="token comment">// Deg a = new Animal();</span>

        <span class="token comment">// 需要强转(向上转型)</span>
        <span class="token class-name">Deg</span> deg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Deg</span><span class="token punctuation">)</span>d<span class="token punctuation">;</span>
        deg<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>多态的转型可以<strong>子向上转型为父</strong>, <strong>父向下转型为子</strong>, 但是不能平级转换, 就是A, B都继承父并且符合多态特点, 即A, B不能互相转换</p></blockquote> <h4 id="多态的访问特点"><a href="#多态的访问特点" class="header-anchor">#</a> 多态的访问特点</h4> <ul><li>成员变量: 编译看左边, 执行看左边</li> <li>成员方法: 编译看左边, 执行看<code>右边</code></li></ul> <p>因为成员方法有<strong>重写</strong>, 而成员变量没有, 所以成员方法的执行看右边</p> <p><strong>Animal 基类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;我是 Animal&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;动物在吃东西&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>Deg 子类继承 Animal:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;我是 Deg&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗吃骨头&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;旺旺旺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 父类引用指向子类对象</span>
        <span class="token class-name">Animal</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 左边是 Animal 右边是 Deg</span>

        <span class="token comment">// 成员变量访问的是左边类型(Animal)中的 name</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 我是 Animal</span>

        <span class="token comment">// 左边类型(Animal)中不存在该成员 age</span>
        <span class="token comment">// System.out.println(d.age);</span>

        <span class="token comment">// 成员方法访问的是右边类型(Deg)中的 eat(重写)</span>
        d<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗吃骨头</span>

        <span class="token comment">// 左边类型(Animal)中不存在该成员 say</span>
        <span class="token comment">// d.say();</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="多态的好处和弊端"><a href="#多态的好处和弊端" class="header-anchor">#</a> 多态的好处和弊端</h4> <p>多态的好处: 提高了程序的可扩展性</p> <p>具体体现: 定义方法时,  使用父类型作为参数, 将来使用的时候, 可以使用具体的子类型(前提是<strong>父类中有的功能但是不是的子类可以进行重写</strong>)参与操作</p> <p>多态的弊端: 不能使用<strong>某个子类特有的功能</strong></p> <p><strong>Animal 基类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;动物在吃东西&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Eat 子类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Eat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;猫吃鱼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Deg 子类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗吃骨头&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;旺旺旺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Pig 子类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pig</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;猪吃白菜&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>操作类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>
<span class="token comment">// 操作类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnimalUse</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里可以接受父类对象作为形参实际可以传递子类作为实参</span>
    <span class="token comment">// 就不用每次添加一个子类就修改这里的代码了</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token class-name">Animal</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里只能访问父类和子类共有成员方法或属性</span>
        a<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 不能访问某个子类特有的成员</span>
        <span class="token comment">// a.say();</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 操作类</span>
        <span class="token class-name">AnimalUse</span> au <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnimalUse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deg</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Eat</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Pig</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
        au<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗吃骨头</span>
        au<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 猫吃鱼</span>
        au<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 猪吃白菜</span>
        au<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 动物在吃东西</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h4> <p>为了避免向下转型出错, Java提供了<code>instanceof</code>操作符, 和 js 的类似, 用于判断一个对象是否为一个类(或接口、抽象类、父类)的实例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Animal</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d <span class="token keyword">instanceof</span> <span class="token class-name">Deg</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><code>instanceof</code> 运算符只能用作对象的判断</p></blockquote> <h3 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h3> <p>在 Java中, 一个<strong>没有方法体</strong>的方法应该被定义为<strong>抽象方法</strong>, 而类中如果<strong>有</strong>抽象方法, 该类<strong>必须定义为抽象类</strong></p> <p><strong>抽象类Animal</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token comment">// 抽象方法必须定义在抽象类中</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token comment">// 抽象类同样可以写构造方法</span>
    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 去掉方法体添加 abstract 关键字定义为抽象方法</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 抽象类里面有可以有具体实现的方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;睡觉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>Deg 子类</strong></p> <p>继承并实现抽象类的抽象方法</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 继承抽象类时必须实现抽象类定义的方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗吃骨头&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>Cat 子类</strong></p> <p>本身就是抽象类就可以继承父类的抽象方法(被子类继承也必须实现)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token comment">// 继承抽象要么必须实现其定义的抽象方法</span>
<span class="token comment">// 要么本身也是抽象类(会继承父类定义的抽象方法)</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnimalDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 抽象类无法直接通过 new 生成实例</span>
        <span class="token comment">// Animal a = new Animal();</span>

        <span class="token comment">// 以多态的形式新建实例</span>
        <span class="token class-name">Animal</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token string">&quot;旺财&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        d<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 狗吃骨头</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 旺财</span>
        d<span class="token punctuation">.</span><span class="token function">sloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 睡觉</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="抽象类的特点"><a href="#抽象类的特点" class="header-anchor">#</a> 抽象类的特点</h4> <ul><li>抽象类必须使用<code>abstract</code>关键字修饰</li> <li>抽象类不一定有抽象方法, 有抽象方法的类一定是抽象类</li> <li>抽象类不能直接实例化, 可以通过子类继承实现抽象方法重写(<strong>抽象类多态</strong>)来实例化</li> <li>抽象类的子类,  要么重写(<strong>实现</strong>)抽象类定义的所有抽象方法, 要么其本身也是抽象类</li> <li>抽象类具备普通类的所有特性, 而抽象类的构造方法是给子类继承时传递成员属性使用的</li></ul> <h3 id="内部类"><a href="#内部类" class="header-anchor">#</a> 内部类</h3> <p>内部类就是在一个类中定义一个类, 例如: 在A类内部定义了一个B类, 这个B类就是内部类</p> <p>以上面的例子为例, 内部类的定义格式如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span> <span class="token comment">// 外部类</span>
    修饰符 <span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span> <span class="token comment">// 内部类</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>**内部类的访问特点: **</p> <ul><li>内部类<strong>可以访问</strong>外部类的所有成员, 包括私有成员</li> <li>外部类需要访问内部类成员时<strong>必须创建对象</strong></li></ul> <h4 id="内部类的分类"><a href="#内部类的分类" class="header-anchor">#</a> 内部类的分类</h4> <p>按照内部内在类中定义的位置不同, 可以分为如下两种形式:</p> <ul><li>在类的成员位置: 成员内部类</li> <li>在类的局部位置: 局部内部类</li></ul> <h4 id="成员内部类"><a href="#成员内部类" class="header-anchor">#</a> 成员内部类</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_09</span><span class="token punctuation">;</span>

<span class="token comment">// 外部类 Outer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> outerName <span class="token operator">=</span> <span class="token string">&quot;outer&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> outerAge <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>

    <span class="token comment">// 内部类 Inner</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> innerName <span class="token operator">=</span> <span class="token string">&quot;inner&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> innerAge <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">innerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Inner 类可以访问 Outer 类的所有成员</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> outerName<span class="token punctuation">,</span> outerAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">outerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">outerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Outer 类无法直接访问 Inner 类的成员</span>
        <span class="token comment">// System.out.printf(&quot;%s, %d \n&quot;, innerName, innerAge);</span>

        <span class="token comment">// 必须要创建实例访问</span>
        <span class="token class-name">Inner</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>innerName<span class="token punctuation">,</span> i<span class="token punctuation">.</span>innerAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>测试类</strong></p> <p>成员内部类的访问语法: <code>外部类.内部类 变量名 = new 外部类().new 内部类();</code>, 但是不能访问<code>private</code>修饰的成员</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_09</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Outer<span class="token punctuation">.</span>Inner</span> oi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        oi<span class="token punctuation">.</span><span class="token function">innerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; outer, 18</span>
                        <span class="token comment">// =&gt; inner, 28</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>一般内部类都是使用<code>private</code>修饰的对外封闭的, 只通过外部类提供访问方法去间接的访问内部类, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_09</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 外部类提供方法给外界去访问内部类</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">outerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Inner</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>innerName<span class="token punctuation">,</span> i<span class="token punctuation">.</span>innerAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>外界通过外部类提供的方法去访问内部类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_09</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Outer</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        o<span class="token punctuation">.</span><span class="token function">outerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; inner, 28</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="内部局部类"><a href="#内部局部类" class="header-anchor">#</a> 内部局部类</h4> <p>内部局部类和成员内部类是特点是一样的, 只不过内部局部类是定义在成员方法(包括静态方法)中的</p> <p>外界无法直接访问, 需要通过外部类提供方法去访问</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_10</span><span class="token punctuation">;</span>

<span class="token comment">// 外部类 Outer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> outerName <span class="token operator">=</span> <span class="token string">&quot;outer&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 成员方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">outerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 局部内部类</span>
        <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
            <span class="token keyword">private</span> <span class="token class-name">String</span> innerName <span class="token operator">=</span> <span class="token string">&quot;inner&quot;</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">innerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>outerName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>innerName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 创建局部内部类实例</span>
        <span class="token class-name">Inner</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        i<span class="token punctuation">.</span><span class="token function">innerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_10</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Outer</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        o<span class="token punctuation">.</span><span class="token function">outerTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; outer</span>
        			   <span class="token comment">// =&gt; inner</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="匿名内部类"><a href="#匿名内部类" class="header-anchor">#</a> 匿名内部类</h4> <p>前提: 存在一个类或者接口, 这里的类可以是<strong>具体类</strong>也可以是<strong>抽象类</strong></p> <p>匿名内部类的格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">new</span> 类名或者接口名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    重写方法<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>匿名内部类就是<strong>一个继承了该类或者实现了该接口的子类匿名对象</strong>, 类似于 JS 中的匿名函数只不过是匿名的类</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_11</span><span class="token punctuation">;</span>

<span class="token comment">// Outer 外部类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>

    <span class="token comment">// 成员方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 定义匿名内部类</span>
        <span class="token comment">// 可以通过多态的方式接受其返回值实例</span>
        <span class="token class-name">Inter</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匿名内部类的 show 方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
		
        <span class="token comment">// 调用其重写的 show 方法</span>
        i<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        i<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>Inter接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_11</span><span class="token punctuation">;</span>

<span class="token comment">// 供匿名内部类实现的接口</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_11</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Outer</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        o<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="匿名内部类在开发中的使用"><a href="#匿名内部类在开发中的使用" class="header-anchor">#</a> 匿名内部类在开发中的使用</h5> <p>和 JS 中的匿名函数使用思想是一样的</p> <p><strong>Jumpping 接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_12</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Jumpping</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>JumppingOperter操作类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_12</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JumppingOperator</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">useJumpping</span><span class="token punctuation">(</span><span class="token class-name">Jumpping</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        j<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_12</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JumppingOperator</span> jo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JumppingOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 需要先创建一个实现类实现 Jumpping 接口</span>
        <span class="token class-name">Jumpping</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 通过传递实现类去调用 Jumpping 接口的 jump 方法 很麻烦</span>
        jo<span class="token punctuation">.</span><span class="token function">useJumpping</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 这时可以直接使用匿名内部类</span>
        jo<span class="token punctuation">.</span><span class="token function">useJumpping</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Jumpping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗狗跳高高&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗狗跳高高</span>

        jo<span class="token punctuation">.</span><span class="token function">useJumpping</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Jumpping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;猫猫跳高高&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 猫猫跳高高</span>

        jo<span class="token punctuation">.</span><span class="token function">useJumpping</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Jumpping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;猪猪跳高高&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 猪猪跳高高</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h2 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h2> <p>接口是一种<strong>公共的规范标准</strong>, 只要符合规范标准, 大家都可以使用, Java 中的接口更多体现在对<strong>行为的抽象</strong></p> <p><strong>Inter接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">interfaceLearn</span><span class="token punctuation">;</span>

<span class="token comment">// interface 关键字定义接口</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token comment">// 接口成员变量默认就是以 public final static 修饰的</span>
    <span class="token comment">// public final static int num3 = 30;</span>
    <span class="token keyword">int</span> num3 <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

    <span class="token comment">// 接口中不允许有构造方法</span>
    <span class="token comment">// public Inter() {}</span>

    <span class="token comment">// 接口中不允许有实现的方法</span>
    <span class="token comment">// public void show() {}</span>

    <span class="token comment">// 可以由抽象方法</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 接口抽象方法的默认修饰为 public abstract</span>
    <span class="token keyword">void</span> <span class="token function">sayMsg1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 接口抽象方法可以重载</span>
    <span class="token keyword">void</span> <span class="token function">sayMsg2</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>Inter接口的实现类InterImpl</strong></p> <p>接口实现类一般会加<strong>接口 + Impl</strong>来表示对应的接口实现</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_06</span><span class="token punctuation">;</span>

<span class="token comment">// implements 关键字继承接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterImpl</span> <span class="token keyword">implements</span> <span class="token class-name">Inter</span><span class="token punctuation">{</span>
<span class="token comment">// public class InterImpl extends Object implements Inter{ // 所有的类默认继承Object</span>

    <span class="token keyword">public</span> <span class="token class-name">InterImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这个父类其实是 Object</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 实现接口定义的抽象方法 method</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;InterImpl method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 实现接口定义的抽象方法 sayMsg1</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayMsg1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;InterImpl sayMsg1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 实现接口定义的抽象方法 sayMsg2</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayMsg2</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 利用多态的方式实例化</span>
<span class="token class-name">Inter</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InterImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>num1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 10</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 20</span>

<span class="token comment">// 验证 final</span>
<span class="token comment">// i.num1 = 1;</span>
<span class="token comment">// i.num2 = 2;</span>

<span class="token comment">// 验证 static</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Inter</span><span class="token punctuation">.</span>num3<span class="token punctuation">)</span><span class="token punctuation">;</span>


i<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; InterImpl method</span>
i<span class="token punctuation">.</span><span class="token function">sayMsg1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; InterImpl show</span>
i<span class="token punctuation">.</span><span class="token function">sayMsg2</span><span class="token punctuation">(</span><span class="token string">&quot;哈哈哈哈&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 哈哈哈哈</span>


<span class="token comment">// 匿名内部类</span>
<span class="token class-name">Inter</span> ii <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匿名内部类method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayMsg1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匿名内部类sayMsg1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayMsg2</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ii<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 匿名内部类method</span>
ii<span class="token punctuation">.</span><span class="token function">sayMsg1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 匿名内部类sayMsg1</span>
ii<span class="token punctuation">.</span><span class="token function">sayMsg2</span><span class="token punctuation">(</span><span class="token string">&quot;匿名内部类sayMsg2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 匿名内部类sayMsg2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="接口的成员特点"><a href="#接口的成员特点" class="header-anchor">#</a> 接口的成员特点</h3> <ul><li>成员变量: 只能是<strong>常量</strong>, 因为会添加默认的修饰符<code>public static final</code></li> <li>构造方法: 接口没有构造方法(对行为抽象, 没有具体实现), 一个类如果没有父类, 会默认继承自<code>Object</code>类</li> <li>成员方法: 只能是<strong>抽象方法</strong>, 默认修饰符为<code>public abstact</code></li></ul> <h3 id="接口和抽象类的一起使用"><a href="#接口和抽象类的一起使用" class="header-anchor">#</a> 接口和抽象类的一起使用</h3> <p>一个类是可以同时实现抽象类和实现接口(<code>public class Xxx extends Yyy implements Zzz</code>)</p> <p><strong>Jump接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Jump</span> <span class="token punctuation">{</span>
    <span class="token comment">// 抽象跳高方法</span>
    <span class="token comment">// public abstract void jump();</span>
    <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Animal抽象类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>Deg子类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token keyword">implements</span> <span class="token class-name">Jump</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗吃骨头&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗跳高&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>Cat子类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token keyword">implements</span> <span class="token class-name">Jump</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;猫吃鱼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;猫跳高&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Jump</span> j <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        j<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗跳高</span>


        <span class="token class-name">Animal</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token string">&quot;旺财&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 旺财, 3</span>
        d<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗吃骨头</span>

        <span class="token class-name">Animal</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;小喵&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 小喵, 2</span>
        c<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 猫吃鱼</span>

        <span class="token comment">// 不能直接写接口的抽象方法</span>
        <span class="token comment">// c.jump();</span>
        <span class="token comment">// Animal 类没有 jump() 方法 需要强转(向下转型)</span>
        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">)</span> c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// 如果一个类型实现了抽象类和对应的接口的话就不会使用多态的方式使用的</span>
        <span class="token class-name">Cat</span> tom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">&quot;汤姆&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> tom<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tom<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 汤姆, 5</span>
        tom<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tom<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="类和接口的关系"><a href="#类和接口的关系" class="header-anchor">#</a> 类和接口的关系</h3> <ul><li>类和类的关系: <strong>继承关系(不能多继承, 可以单继承或者多层继承)</strong></li> <li>类和接口的关系: <strong>可以单实现, 也可以多实现, 还可以在继承一个类的同时实现多个接口</strong></li> <li>接口和接口的关系: <strong>继承关系, 可以单继承, 也可以多继承</strong></li></ul> <p>Java 中的多继承只体现在接口上面</p> <p><strong>Inter1接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_06</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter1</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Inter2接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_06</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>Inter3接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_06</span><span class="token punctuation">;</span>

<span class="token comment">// 接口继承(可以继承多个)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter3</span> <span class="token keyword">extends</span> <span class="token class-name">Inter1</span><span class="token punctuation">,</span> <span class="token class-name">Inter2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>实现类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_06</span><span class="token punctuation">;</span>

<span class="token comment">// 实现多个接口</span>
<span class="token comment">//public class InterImpl implements Inter1, Inter2, Inter3{</span>

<span class="token comment">// 继承并实现多个接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterImpl</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span> <span class="token keyword">implements</span> <span class="token class-name">Inter1</span><span class="token punctuation">,</span> <span class="token class-name">Inter2</span><span class="token punctuation">,</span> <span class="token class-name">Inter3</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="抽象类和接口的区别"><a href="#抽象类和接口的区别" class="header-anchor">#</a> 抽象类和接口的区别</h3> <p><strong>成员区别:</strong></p> <ul><li>抽象类: 变量, 常量, 构造方法, 抽象方法, 非抽象方法</li> <li>接口 : 常量, 抽象方法</li></ul> <p><strong>关系区别:</strong></p> <ul><li>类与类: 继承, 单继承(多层继承)</li> <li>类与接口: 实现, 单实现, 多实现</li> <li>接口与接口: 继承, 单继承,  多继承</li></ul> <p><strong>设计理念区别:</strong></p> <ul><li><p>抽象类: <strong>对类进行抽象, 包括属性, 行为</strong></p></li> <li><p>接口: <strong>对行为抽象, 主要为行为</strong></p></li></ul> <blockquote><p>一句话概述: <strong>抽象类时对事物的抽象, 而接口是对行为的抽象</strong></p></blockquote> <h3 id="接口中的默认方法"><a href="#接口中的默认方法" class="header-anchor">#</a> 接口中的默认方法</h3> <p>如果需要对现有进行添加方法, 那么对应其所有实现该接口的类都要在代码中实现再实现这个新添加的方法(当然也可以通过接口继承), 这样很不利于后期的维护, 为此Java8推出了接口的默认方法, 其定义格式如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> 返回值类型 方法名<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>接口的默认方法并不会强制其实现类实现该方法, 但是实现类也可以重写该默认方法的:</p> <p><strong>Inter接口:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 接口的默认方法show3</span>
    <span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">show3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;default show3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 接口的默认方法可以省略 public</span>
    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">show4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;default show4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 匿名内部类实现Inter接口</span>
<span class="token class-name">Inter</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 调用其接口的默认方法</span>
        <span class="token comment">// Inter.super.show4();</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;匿名内部类重写默认方法show4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

i<span class="token punctuation">.</span><span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// show1</span>
i<span class="token punctuation">.</span><span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// show2</span>
i<span class="token punctuation">.</span><span class="token function">show3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// default show3</span>
i<span class="token punctuation">.</span><span class="token function">show4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 匿名内部类重写默认方法show4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="接口的静态方法"><a href="#接口的静态方法" class="header-anchor">#</a> 接口的静态方法</h3> <p>接口中的静态方法定义格式如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> 返回值类型 方法名<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>接口的静态方法只能通过<strong>接口去调用</strong>, 不能通过实现类去调用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 接口定义</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">staticMethod1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Inter staticMethod1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 可以省略 public 修饰符</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">staticMethod2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Inter staticMethod2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>调用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 调用</span>
<span class="token class-name">Inter</span><span class="token punctuation">.</span><span class="token function">staticMethod1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Inter staticMethod1</span>
<span class="token class-name">Inter</span><span class="token punctuation">.</span><span class="token function">staticMethod2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Inter staticMethod2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="接口中的私有方法"><a href="#接口中的私有方法" class="header-anchor">#</a> 接口中的私有方法</h3> <p><strong>Java9</strong> 中新增了带方法体的私有方法, 这其实在Java8中就埋下了伏笔: Java 8允许在接口中定义带方法体的默认方法和静态方法。这样可能就会引发一个问题:当两个默认方法或者静态方法中包含一段相同的代码实现时, 程序必然考虑将这段实现代码抽取成一个共性方法, 而这个共性方法是不需要让别人使用的, 因此用私有给隐藏起来, 这就是Java9增加私有方法的必然性</p> <p>接口中私有方法的定义格式如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 格式一 普通私有方法</span>
<span class="token keyword">private</span> 返回值类型 方法名<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 格式二 静态私有方法</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> 返回值类型 方法名<span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>接口中的私有方法或者静态方法一般用于封装接口的相同逻辑代码:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_01</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">common</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show1 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show2 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">common</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;show2 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Java9 才支持</span>
    <span class="token comment">// private static void common() {</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">common</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;初级工程师&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;中级工程师&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;高级工程师&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>调用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">new</span> <span class="token class-name">Inter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Inter</span><span class="token punctuation">.</span><span class="token function">show2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="函数式接口"><a href="#函数式接口" class="header-anchor">#</a> 函数式接口</h3> <p>Lambda 表达式实现的接口不是普通的接口, 而是<strong>函数式接口</strong>; 如果一个接口中, 有且只有一个抽象的方法(Object 类中的方法不包括在内), 那这个接口就可以被看做是函数式接口; 这种接口只能有一个方法; 如果接口中声明多个抽象方法, 那么 Lambda 表达式会发生编译错误：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">The</span> target type of <span class="token keyword">this</span> expression must be a functional <span class="token keyword">interface</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这说明该接口不是函数式接口, 为了防止在函数式接口中声明多个抽象方法, Java 8 提供了一个声明函数式接口注解 <code>@FunctionalInterface</code>, 示例代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 添加 @FunctionalInterface 注解</span>
<span class="token comment">// 当试图增加一个抽象方法时会发生编译错误; 但可以添加默认方法和静态方法</span>
<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> 接口名 <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="形参和返回值"><a href="#形参和返回值" class="header-anchor">#</a> 形参和返回值</h2> <h3 id="类名作为形参和返回值"><a href="#类名作为形参和返回值" class="header-anchor">#</a> 类名作为形参和返回值</h3> <p>类名作为方法的形参或者返回值时, 那么就需要<strong>传递(返回)为该类的实例</strong></p> <p><strong>Deg类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_07</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;旺旺旺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_07</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deg</span> d <span class="token operator">=</span> <span class="token function">getDeg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">degEat</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 旺旺旺</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 返回一个 Deg 类实例</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Deg</span> <span class="token function">getDeg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 接受一个 Deg 类实例并调用其 eat 方法</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">degEat</span><span class="token punctuation">(</span><span class="token class-name">Deg</span> d<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        d<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="抽象类名作为形参和返回值"><a href="#抽象类名作为形参和返回值" class="header-anchor">#</a> 抽象类名作为形参和返回值</h3> <p>抽象类名作为形参传递的该抽象类的<strong>子类对象</strong>(运用多态)</p> <p>抽象类名作为返回值返回的是该抽象类的<strong>子类对象</strong>(运用多态)</p> <p><strong>Animal抽象类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_07</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>AnimaOperator操作类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_07</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnimalOperator</span> <span class="token punctuation">{</span>
    <span class="token comment">// 返回一个 Animal 类实例</span>
    <span class="token comment">// 其实返回的是 Animal 的子类对象(多态)</span>
    <span class="token keyword">public</span> <span class="token class-name">Animal</span> <span class="token function">getAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Animal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 接受一个 Animal 类实例并调用其 eat 方法</span>
    <span class="token comment">// 其实接受的是 Animal 的子类对象(多态)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">AnimalEat</span><span class="token punctuation">(</span><span class="token class-name">Animal</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        a<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>Deg子类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_07</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;旺旺旺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_07</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">AnimalOperator</span> ao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnimalOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 返回子类</span>
        <span class="token class-name">Animal</span> a <span class="token operator">=</span> ao<span class="token punctuation">.</span><span class="token function">getAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 旺旺旺</span>

        <span class="token comment">// 传递子类</span>
        <span class="token class-name">Animal</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token namespace">ao<span class="token punctuation">.</span></span>AnimalEat</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 旺旺旺</span>
        
        <span class="token class-name"><span class="token namespace">ao<span class="token punctuation">.</span></span>AnimalEat</span><span class="token punctuation">(</span>ao<span class="token punctuation">.</span><span class="token function">getAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 旺旺旺</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="接口名作为形参和返回值"><a href="#接口名作为形参和返回值" class="header-anchor">#</a> 接口名作为形参和返回值</h3> <p>接口名作为形参传递的该接口的<strong>实现类对象</strong>(运用多态)</p> <p>接口名作为返回值返回的是该接口的<strong>实现类对象</strong>(运用多态)</p> <p><strong>Jumpping接口</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_08</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Jumpping</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>JumppingOperter操作类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_08</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JumppingOperator</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Jumpping</span> <span class="token function">getJumpping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 其实返回的是实现类对象(多态)</span>
        <span class="token class-name">Jumpping</span> j <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">useJumpping</span><span class="token punctuation">(</span><span class="token class-name">Jumpping</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 其实接受的是实现类对象(多态)</span>
        j<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>Deg实现类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_08</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Deg</span> <span class="token keyword">implements</span> <span class="token class-name">Jumpping</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗狗跳高高&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_08</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">JumppingOperator</span> jo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JumppingOperator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 返回实现类对象</span>
        <span class="token class-name">Jumpping</span> j <span class="token operator">=</span> jo<span class="token punctuation">.</span><span class="token function">getJumpping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        j<span class="token punctuation">.</span><span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗狗跳高高</span>

        <span class="token comment">// 传递实现类对象</span>
        <span class="token class-name">Jumpping</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Deg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
        jo<span class="token punctuation">.</span><span class="token function">useJumpping</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗狗跳高高</span>

        jo<span class="token punctuation">.</span><span class="token function">useJumpping</span><span class="token punctuation">(</span>jo<span class="token punctuation">.</span><span class="token function">getJumpping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 狗狗跳高高</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="包"><a href="#包" class="header-anchor">#</a> 包</h2> <p>Java 中的包(<code>package</code>)其实就是<strong>文件夹</strong>, 作用就是<strong>对类进行管理</strong>(防止类名冲突, 提供多层命名空间), 一个类总是属于某个包</p> <p>类名(比如<code>Person</code>)只是一个简写, 真正的完整类名是<code>包名.类名</code></p> <h3 id="java-包的命名规则"><a href="#java-包的命名规则" class="header-anchor">#</a> Java 包的命名规则</h3> <ul><li>包名全部由小写字母(多个单词也全部小写)</li> <li>如果包名包含多个层次, 每个层次用<code>.</code>分割</li> <li>包名一般由倒置的域名开头, 比如 com.baidu, 不要有 www</li> <li>自定义包不能 java 开头</li></ul> <blockquote><p>注意：如果在源文件中没有定义包, 那么类、接口、枚举和注释类型文件将会被放进一个无名的包中, 也称为默认包, 开发中通常不会把类定义在默认包下</p></blockquote> <p>在定义<code>class</code>的时候, 我们需要在第一行声明这个<code>class</code>属于哪个包</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> 包名<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在Java虚拟机执行的时候, JVM只看完整类名, 因此, 只要包名不同, 类就不同</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 编译指定文件</span>
javac HelloWorld.java
<span class="token comment"># 指定包名(文件目录)下的类运行</span>
<span class="token function">java</span> classLearn.test.HelloWorld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>命令行编译自动建包(文件目录)</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 编译指定文件并在当前目录生成包</span>
javac <span class="token parameter variable">-d</span> <span class="token builtin class-name">.</span> HelloWorld.java
<span class="token comment"># 指定包名下的类运行</span>
<span class="token function">java</span> classLearn.test.HelloWorld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="导包"><a href="#导包" class="header-anchor">#</a> 导包</h3> <p>不同包下的类是需要显式的导入才能使用的</p> <p>包的导入有两种方式: <strong>使用类的完整路径直接使用类</strong> 和 <strong>使用<code>import</code>导入包(推荐)</strong></p> <h4 id="通过类的完整路径使用"><a href="#通过类的完整路径使用" class="header-anchor">#</a> 通过类的完整路径使用</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">packageLearn</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 通过类的完整路径可以直接使用对应包下的类</span>
        <span class="token class-name"><span class="token namespace">classLearn<span class="token punctuation">.</span></span>Person</span> <span class="token class-name">P</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">classLearn<span class="token punctuation">.</span></span>Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">P</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="使用import导包"><a href="#使用import导包" class="header-anchor">#</a> 使用<code>import</code>导包</h4> <p><code>import</code>导入语句, 必须放到Java源代码的开头, 包的多层结构, 用<code>.</code>隔开, 例如：<code>java.util.Random</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">packageLearn</span><span class="token punctuation">;</span>

<span class="token comment">// 导入 classLearn 包下的 Person 类</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">classLearn<span class="token punctuation">.</span></span><span class="token class-name">Person</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>包没有父子关系, <code>java.util</code>和<code>java.util.zip</code>是不同的包, 两者没有任何继承关系</p></blockquote> <h4 id="import-static"><a href="#import-static" class="header-anchor">#</a> import static</h4> <p><code>import static</code>的语法, 它可以导入一个类的静态字段和静态方法, 了解即可, <code>import static</code>很少使用</p> <h4 id="通配符-导入"><a href="#通配符-导入" class="header-anchor">#</a> 通配符*导入</h4> <p>在写<code>import</code>的时候, 可以使用<code>*</code>, 表示把这个包下面的所有<code>class</code>都导入进来(但不包括子包的<code>class</code>)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">packageLearn</span><span class="token punctuation">;</span>

<span class="token comment">// 导入 java.util 包的所有 class</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>一般不推荐这种写法, 因为在导入了多个包后, 很难看出某一个类属于那一个包</p> <h3 id="编译器查找类的规则"><a href="#编译器查找类的规则" class="header-anchor">#</a> 编译器查找类的规则</h3> <p>Java编译器最终编译出的<code>.class</code>文件只使用<strong>完整类名</strong>, 因此, 在代码中, 当编译器遇到一个<code>class</code>名称时:</p> <ul><li>如果是完整类名, 就直接根据完整类名查找这个<code>class</code></li> <li>如果是简单类名, 按下面的顺序依次查找：
<ul><li>查找当前<code>package</code>是否存在这个<code>class</code></li> <li>查找<code>import</code>的包是否包含这个<code>class</code></li> <li>查找<code>java.lang</code>包是否包含这个<code>class</code></li></ul></li></ul> <p>如果按照上面的规则还无法确定类名, 则编译报错</p> <h3 id="默认导入的包"><a href="#默认导入的包" class="header-anchor">#</a> 默认导入的包</h3> <p>在编写class的时候, 编译器会自动帮我们做两个import动作：</p> <ul><li>默认自动<code>import</code>当前<code>package</code>的其他<code>class</code></li> <li>默认自动<code>import java.lang.*</code></li></ul> <p>如果有两个<code>class</code>名称相同, 例如, <code>mr.jun.Arrays</code>和<code>java.util.Arrays</code>, 那么只能<code>import</code>其中一个, 另一个必须写完整类名</p> <h3 id="系统包"><a href="#系统包" class="header-anchor">#</a> 系统包</h3> <p>Java SE 提供了一些系统包, 其中包含了 Java 开发中常用的基础类; 在 Java 语言中, 开发人员可以自定义包, 也可以使用系统包, 常用的系统包如下:</p> <table><thead><tr><th>包</th> <th>说明</th></tr></thead> <tbody><tr><td>java.lang</td> <td>Java 的核心类库, 包含运行 Java 程序必不可少的系统类, 如基本数据类型、基本数学函数、 字符串处理、异常处理和线程类等, 系统默认加载这个包</td></tr> <tr><td>java.io</td> <td>Java 语言的标准输入/输出类库, 如基本输入/输出流、文件输入/输出、过滤输入/输出流等</td></tr> <tr><td>java.util</td> <td>包含如处理时间的 Date 类, 处理动态数组的 Vector 类, 以及 Stack 和 HashTable 类</td></tr> <tr><td>java.text</td> <td>提供用于以独立于自然语言的方式处理文本, 日期, 数字和消息的类和接口</td></tr> <tr><td>java.awt</td> <td>构建图形用户界面(GUI)的类库, 低级绘图操作 Graphics 类、图形界面组件和布局管理 (如 Checkbox 类、Container 类、LayoutManger 接口等), 以及用户界面交互控制和事 件响应(如 Event 类)</td></tr> <tr><td>java.awt.image</td> <td>处理和操纵来自网上的图片的 Java 工具类库</td></tr> <tr><td>java.wat.peer</td> <td>很少在程序中直接用到, 使得同一个 Java 程序在不同的软硬件平台上运行</td></tr> <tr><td>java.net</td> <td>实现网络功能的类库有 Socket 类、ServerSocket 类</td></tr> <tr><td>java.lang.reflect</td> <td>提供用于反射对象的工具</td></tr> <tr><td>java.util.zip</td> <td>实现文件压缩功能</td></tr> <tr><td>java.awt.datatransfer</td> <td>处理数据传输的工具类, 包括剪贴板、字符串发送器等</td></tr> <tr><td>java.sql</td> <td>实现 JDBC 的类库</td></tr> <tr><td>java.rmi</td> <td>提供远程连接与载入的支持</td></tr> <tr><td>java.security</td> <td>提供安全性方面的有关支持</td></tr></tbody></table> <h2 id="异常"><a href="#异常" class="header-anchor">#</a> 异常</h2> <ul><li><code>Error</code>：指的是JVM错误，这时的程序并没有执行，无法处理；</li> <li><code>Exception</code>：指的是程序运行中产生的异常，用户可以使用处理格式处理</li></ul> <h3 id="异常处理"><a href="#异常处理" class="header-anchor">#</a> 异常处理</h3> <p>Java中的异常处理方案有两种:</p> <ul><li><strong>try/catch</strong></li> <li><strong>throws</strong></li></ul> <h4 id="try-catch"><a href="#try-catch" class="header-anchor">#</a> try/catch</h4> <p><code>try/catch</code> 语句与 js 中的一模一样</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">{</span>
    <span class="token comment">// 可能出错的代码</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>异常类名 error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 异常处理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_14</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;开始&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结束&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">// 数组索引越界</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            error<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出异常信息</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你访问的数组索引不存在: &quot;</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="throws"><a href="#throws" class="header-anchor">#</a> throws</h4> <p>虽然可以通过</p> <p>虽然可以通过<code>try/catch</code>对异常进行处理, 但是并不是所有的情况我们都有权限进行异常的处理也就是说, 有些时候可能出现的异常是我们处理不了的, 针对这种情况, Java提供了throws处理方案</p> <p><strong>throws 只是单单会把异常抛出该处理时还是要处理</strong></p> <p>格式</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>方法<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> 异常类名<span class="token punctuation">;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>注意: 这个格式是跟在方法的括号后面的</p></blockquote> <ul><li>编译时异常必须进行处理, 使用<code>try/catch</code>或者<code>throws</code>, 如果采用<code>throws</code>话仅仅只是把异常抛出去了, 将来谁调用谁处理</li> <li>运行时异常可以不处理, 代码报错后再进行处理</li></ul> <h4 id="自定义异常"><a href="#自定义异常" class="header-anchor">#</a> 自定义异常</h4> <p>我们把生成异常对象, 并把它提交给运行时系统的过程称为<strong>拋出(throw)异常</strong>; 运行时系统在方法的调用栈中查找, 直到找到能够处理该类型异常的对象, 这一个过程称为<strong>捕获(catch)异常</strong></p> <h4 id="多异常处理"><a href="#多异常处理" class="header-anchor">#</a> 多异常处理</h4> <p>有的时候需要捕获处理多个异常, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用方法methodA处理</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用方法methodA处理</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用方法methodA处理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>3 个不同类型的异常, 要求捕获之后的处理都是调用 methodA 方法, 为了解决这种问题, Java7 推出了多异常捕获技术, 可以把这些异常合并处理; 上述代码修改如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> <span class="token operator">|</span> <span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用方法methodA处理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>由于 FileNotFoundException 属于 IOException 异常, IOException 异常可以捕获它的所有子类异常; 所以不能写成 <code>FileNotFoundException | IOException | ParseException</code></p></blockquote> <p>使用一个 catch 块捕获多种类型的异常时需要注意如下两个地方</p> <ul><li>捕获多种类型的异常时, 多种异常类型之间用竖线<code>|</code>隔开</li> <li>捕获多种类型的异常时, 异常变量有<strong>隐式的final修饰</strong>, 因此程序不能对异常变量重新赋值</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;您输入的两个数相除的结果是：&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IndexOutOfBoundsException</span> <span class="token operator">|</span> <span class="token class-name">NumberFormatException</span> <span class="token operator">|</span> <span class="token class-name">ArithmeticException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;程序发生了数组越界、数字格式异常、算术异常之一&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 捕获多异常时, 异常变量默认有final修饰, 所以下面代码会报错</span>
    e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArithmeticException</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;未知异常&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 捕获一种类型的异常时, 异常变量没有final修饰, 所以下面的代码没有问题</span>
    e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="throwable"><a href="#throwable" class="header-anchor">#</a> Throwable</h3> <p><a href="https://www.apiref.com/java11-zh/java.base/java/lang/Throwable.html" target="_blank" rel="noopener noreferrer">Throwable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类是Java语言中所有错误和异常的超类;  只有作为此类(或其子类之一)的实例的对象<code>throw</code> Java虚拟机抛出, 或者可以由Java <code>throw</code>语句抛出;  类似地, 只有<strong>这个类或其子类之一可以是 catch 子句中的参数类型</strong></p> <p><strong>常用成员方法</strong></p> <table><thead><tr><th>方法</th> <th>说明</th></tr></thead> <tbody><tr><td>getMessage()</td> <td>返回此 throwable 的详细消息字符串</td></tr> <tr><td>toString()</td> <td>返回此可抛出的简短描述</td></tr> <tr><td>printStackTrace()</td> <td>把异常的错误信息输出到控制台</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// 数组索引越界</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 999</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// java.lang.ArrayIndexOutOfBoundsException: 999</span>
    error<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="编译时异常和运行时异常"><a href="#编译时异常和运行时异常" class="header-anchor">#</a> 编译时异常和运行时异常</h3> <p>Java 中的异常被分为两大类: <strong>编译时异常</strong>和<strong>运行时异常</strong>, 也被称为<strong>受检异常</strong>和<strong>非受检异常</strong></p> <p>所有的 <a href="https://www.apiref.com/java11-zh/java.base/java/lang/RuntimeException.html" target="_blank" rel="noopener noreferrer">RuntimeException<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 类及其子类被称为运行时异常, 其他的异常都是编译时异常</p> <ul><li>编译时异常: <strong>必须显式处理</strong>, 否则程序就会发生错误, 无法通过编译</li> <li>运行时异常: 无需显式处理, 也可以和编译时异常一样处理</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_14</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">ParseException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">method2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// 运行时异常</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> listNum <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>listNum<span class="token punctuation">[</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">RuntimeException</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            error<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 编译时异常</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;1999-4-1&quot;</span><span class="token punctuation">;</span>
            <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 解析时可能会发生异常, 所以必须显式处理</span>
            <span class="token class-name">Date</span> d <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            error<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="常见异常类型"><a href="#常见异常类型" class="header-anchor">#</a> 常见异常类型</h3> <p><strong>常见运行时异常如下:</strong></p> <table><thead><tr><th>异常类型</th> <th>说明</th></tr></thead> <tbody><tr><td>ArithmeticException</td> <td>算术错误异常, 如以零做除数</td></tr> <tr><td>ArraylndexOutOfBoundException</td> <td>数组索引越界</td></tr> <tr><td>ArrayStoreException</td> <td>向类型不兼容的数组元素赋值</td></tr> <tr><td>ClassCastException</td> <td>类型转换异常</td></tr> <tr><td>IllegalArgumentException</td> <td>使用非法实参调用方法</td></tr> <tr><td>lIIegalStateException</td> <td>环境或应用程序处于不正确的状态</td></tr> <tr><td>lIIegalThreadStateException</td> <td>被请求的操作与当前线程状态不兼容</td></tr> <tr><td>IndexOutOfBoundsException</td> <td>某种类型的索引越界</td></tr> <tr><td>NullPointerException</td> <td>尝试访问 null 对象成员, 空指针异常</td></tr> <tr><td>NegativeArraySizeException</td> <td>再负数范围内创建的数组</td></tr> <tr><td>NumberFormatException</td> <td>数字转化格式异常, 比如字符串到 float 型数字的转换无效</td></tr> <tr><td>TypeNotPresentException</td> <td>类型未找到</td></tr></tbody></table> <p><strong>常见编译时异常如下:</strong></p> <table><thead><tr><th>异常类型</th> <th>说明</th></tr></thead> <tbody><tr><td>ClassNotFoundException</td> <td>没有找到类</td></tr> <tr><td>IllegalAccessException</td> <td>访问类被拒绝</td></tr> <tr><td>InstantiationException</td> <td>试图创建抽象类或接口的对象</td></tr> <tr><td>InterruptedException</td> <td>线程被另一个线程中断</td></tr> <tr><td>NoSuchFieldException</td> <td>请求的域不存在</td></tr> <tr><td>NoSuchMethodException</td> <td>请求的方法不存在</td></tr> <tr><td>ReflectiveOperationException</td> <td>与反射有关的异常的超类</td></tr></tbody></table> <h3 id="自定义异常-2"><a href="#自定义异常-2" class="header-anchor">#</a> 自定义异常</h3> <p>通过继承<a href="https://www.apiref.com/java11-zh/java.base/java/lang/Exception.html" target="_blank" rel="noopener noreferrer">java.lang.Exception<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类实现自定义异常类, 然后通过<code>throw</code>进行抛出自定义异常类的实例</p> <p><strong>ScoreException</strong>类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_15</span><span class="token punctuation">;</span>

<span class="token comment">// 分数异常类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScoreException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">ScoreException</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">ScoreException</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Teacher</strong>类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_15</span><span class="token punctuation">;</span>

<span class="token comment">// 教师类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkedScore</span><span class="token punctuation">(</span><span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ScoreException</span> <span class="token punctuation">{</span> <span class="token comment">// 添加 throws 让异常向上传递, 让调用者处理</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> score <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 抛出异常</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ScoreException</span><span class="token punctuation">(</span><span class="token string">&quot;你给的分数(0~100)有误: &quot;</span> <span class="token operator">+</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;分数正常&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_15</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Teacher</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入分数: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> score <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 因为是编译时异常必须显式处理</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">checkedScore</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ScoreException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>测试结果:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>请输入分数<span class="token operator">:</span> 
<span class="token number">150</span>
<span class="token class-name"><span class="token namespace">chapter_15<span class="token punctuation">.</span></span>ScoreException</span><span class="token operator">:</span> 你给的分数<span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">~</span><span class="token number">100</span><span class="token punctuation">)</span>有误<span class="token operator">:</span> <span class="token number">150</span>
	at <span class="token class-name"><span class="token namespace">chapter_15<span class="token punctuation">.</span></span>Teacher</span><span class="token punctuation">.</span><span class="token function">checkedScore</span><span class="token punctuation">(</span><span class="token class-name">Teacher</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">)</span>
	at <span class="token class-name"><span class="token namespace">chapter_15<span class="token punctuation">.</span></span>Demo</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">Demo</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="throws-和-throw"><a href="#throws-和-throw" class="header-anchor">#</a> throws 和 throw</h3> <table><thead><tr><th>关键字</th> <th>用法</th> <th>作用</th> <th>含义</th></tr></thead> <tbody><tr><td><code>throws</code></td> <td>用在方法声明后面, 跟的是异常类名</td> <td>表示抛出异常, 由<strong>该方法的调用者处理</strong></td> <td>表示出现异常的一种<strong>可能性</strong>, 并不一定会发生这些异常</td></tr> <tr><td><code>throw</code></td> <td>用在方法体内, 跟的是异常对象</td> <td>表示抛出异常, 由<strong>方法体内的语句处理</strong></td> <td>执行<code>throw</code><strong>一定抛出</strong>了某种异常</td></tr></tbody></table> <h2 id="枚举"><a href="#枚举" class="header-anchor">#</a> 枚举</h2> <p>在 JDK 1.5 之前没有枚举类型, 那时候一般用接口常量来替代; 而使用 Java 枚举类型 enum 可以更贴近地表示这种常量</p> <p>枚举的定义格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>访问修饰符 <span class="token keyword">enum</span> 枚举名称<span class="token operator">:</span>基础类型 <span class="token punctuation">{</span>
  成员<span class="token number">1</span><span class="token punctuation">,</span>成员<span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>任意两个枚举成员<strong>不能</strong>具有相同的名称, 且它的常数值必须在该枚举的基础类型的范围之内, 如果没有显式地声明基础类型的枚举, 默认基础类型是<strong>int</strong></p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span>
        <span class="token constant">RED</span><span class="token punctuation">,</span>
        <span class="token constant">BLUR</span><span class="token punctuation">,</span>
        <span class="token constant">GREEN</span><span class="token punctuation">,</span>
        <span class="token constant">YELLOW</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 可以通过枚举类型名直接引用常量</span>
        <span class="token class-name">Color</span> red <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>red <span class="token operator">==</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">BLUR</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// BLUR</span>
        
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>red<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 当使用 switch 语句比较枚举类型时直接写枚举成员即可</span>
            <span class="token keyword">case</span> <span class="token constant">RED</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;红色&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">BLUR</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;黑色&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">GREEN</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;绿色&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">YELLOW</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;黄色&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;不知道什么颜色&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><blockquote><p>枚举类型可以使用<code>==</code>或者<code>equals()</code>方法比较是否相等</p></blockquote> <h3 id="枚举类"><a href="#枚举类" class="header-anchor">#</a> 枚举类</h3> <p>Java 中的每一个枚举都继承自 java.lang.Enum 类, 当定义一个枚举类型时, 每一个枚举类型成员都可以看作是 Enum 类的实例, 这些枚举成员默认都被 final、public, static 修饰, 当使用枚举类型成员时, 直接使用枚举名称调用成员即可, 所有枚举实例都可以调用 Enum 类的方法, 常用方法如下:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static T[] values()</td> <td>以数组形式返回枚举类型的所有成员</td></tr> <tr><td>static  T valueOf(String name)</td> <td>将普通字符串转换为枚举实例</td></tr> <tr><td>final int compareTo(E o)</td> <td>比较两个枚举成员在定义时的顺序</td></tr> <tr><td>final int ordinal()</td> <td>获取枚举成员的索引位置</td></tr></tbody></table> <p>基本方法使用如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span>
    <span class="token constant">RED</span><span class="token punctuation">,</span>
    <span class="token constant">BLUR</span><span class="token punctuation">,</span>
    <span class="token constant">GREEN</span><span class="token punctuation">,</span>
    <span class="token constant">YELLOW</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 遍历枚举成员</span>
    <span class="token class-name">Color</span><span class="token punctuation">[</span><span class="token punctuation">]</span> colors <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Color</span> color <span class="token operator">:</span> colors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;枚举成员: &quot;</span> <span class="token operator">+</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 将字符串转换为枚举成员</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">&quot;RED&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">&quot;RED&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token comment">// 比较两个枚举的值</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">YELLOW</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

    <span class="token comment">// 获取枚举成员的索引</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">.</span><span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">GREEN</span><span class="token punctuation">.</span><span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="file"><a href="#file" class="header-anchor">#</a> File</h2> <p><a href="https://www.apiref.com/java11-zh/java.base/java/io/File.html" target="_blank" rel="noopener noreferrer">File<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是文件目录和路径名的抽象表示</p> <ul><li>文件和目录是可以通过File封装成对象的</li> <li>对于File而言, 其封装的并不是一个真正存在的文件, 仅仅是一个路径名而已; 它可以是存在的, 也可以是不存在的; 将来是要通过具体的操作把这个路径的内容转换为具体存在的</li></ul> <p><strong>构造方法的基本使用</strong></p> <table><thead><tr><th style="text-align:left;">方法名</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:left;">File(String pathname)</td> <td>通过将给定的路径名字符串转换为抽象路径名来创建新的 File实</td></tr> <tr><td style="text-align:left;">File(String parent, String child)</td> <td>从父路径名字符串和子路径名字符串创建新的 File实例</td></tr> <tr><td style="text-align:left;">File(File parent, String child)</td> <td>从父抽象路径名和子路径名字符串创建新的 File实例</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnFile01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// File(String pathname)</span>
        <span class="token class-name">File</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// F:\LearnFile\test.txt</span>

        <span class="token comment">// File(String parent, String child)</span>
        <span class="token class-name">File</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// F:\LearnFile\test.txt</span>

        <span class="token comment">// File(File parent, String child)</span>
        <span class="token class-name">File</span> f3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> f4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>f3<span class="token punctuation">,</span> <span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// F:\LearnFile\test.txt</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="file的字段"><a href="#file的字段" class="header-anchor">#</a> File的字段</h3> <p>File类下有两个常用常量:</p> <ul><li>static final String <code>pathSeparator</code>: 系统相关的路径分隔符</li> <li>static final String <code>separator</code>: 系统相关的默认名称分隔符</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">File</span><span class="token punctuation">.</span>pathSeparator<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ;</span>
<span class="token comment">// windown系统下File.separator为 `\`, linux系统下为`/`</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">File</span><span class="token punctuation">.</span>separator<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="创建文件或目录的方法"><a href="#创建文件或目录的方法" class="header-anchor">#</a> 创建文件或目录的方法</h3> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean createNewFile() throws IOException</td> <td>当具有该名称的文件不存在时, 创建一个由该抽象路径名命名的新空文件</td></tr> <tr><td>boolean mkdir()</td> <td>创建由此抽象路径名命名的目录(<strong>只能创建目录</strong>)</td></tr> <tr><td>boolean mkdirs()</td> <td>创建由此抽象路径名命名的目录, 包括任何必需但不存在的父目录(<strong>只能创建目录</strong>)</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnFile02</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建 F:\LearnFile\test.txt 文件</span>
        <span class="token comment">// 创建成功返回 true, 文件存在或者或者创建失败返回 false</span>
        <span class="token class-name">File</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">createNewFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 创建 F:\LearnFile\Hello 目录, 返回值同理</span>
        <span class="token class-name">File</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建 F:\LearnFile\World\assets\test.txt 目录(父目录不存在), 返回值同理</span>
        <span class="token class-name">File</span> f3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\World\\assets&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>注意: 在创建文件时, 不能使用**mkdir()<strong>或者</strong>mkdirs()<strong>方法去创建, 否则会创建为一个文件目录, 创建文件必须使用</strong>createNewFile()**方法创建去创建</p></blockquote> <h3 id="file类的判断和获取功能"><a href="#file类的判断和获取功能" class="header-anchor">#</a> File类的判断和获取功能</h3> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean isDirectory()</td> <td>测试此抽象路径名表示的File是否为目录</td></tr> <tr><td>boolean isFile()</td> <td>测试此抽象路径名表示的File是否为普通文件</td></tr> <tr><td>boolean exists()</td> <td>测试此抽象路径名表示的File或目录是否存在</td></tr> <tr><td>boolean canRead()</td> <td>测试应用程序是否可以读取此抽象路径名表示的文件</td></tr> <tr><td>boolean canWrite()</td> <td>测试应用程序是否可以修改此抽象路径名表示的文件</td></tr> <tr><td>long lastModified()</td> <td>返回上次修改此抽象路径名表示的文件的时间</td></tr> <tr><td>long length()</td> <td>返回此抽象路径名表示的文件的长度;  如果此路径名表示目录, 则返回值0</td></tr> <tr><td>boolean isHidden()</td> <td>测试此抽象路径名指定的文件是否为隐藏文件</td></tr> <tr><td>String getAbsolutePath()</td> <td>返回此抽象路径名的绝对路径名字符串</td></tr> <tr><td>String getPath()</td> <td>将此抽象路径名转换为路径名字符串</td></tr> <tr><td>String getName()</td> <td>返回此抽象路径名表示的文件或目录的名称</td></tr> <tr><td>String[] list()</td> <td>返回此抽象路径名表示的目录中的文件和目录的名称字符串数组</td></tr> <tr><td>File[] listFiles()</td> <td>返回此抽象路径名表示的目录中的文件和目录的File对象数组</td></tr></tbody></table> <p><strong>方法的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 相对路径是相对于当前的项目目录的</span>
<span class="token class-name">File</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 是否是目录</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">// 是否是普通文件</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 是否存在</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 是否可以读取</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">canRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 是否可以写入</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">canWrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 读取文件的长度</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 181</span>
<span class="token comment">// 文件最后修改日期</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Thu May 05 23:17:05 CST 2022</span>
<span class="token comment">// 文件是否隐藏</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">isHidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 获取绝对路径</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">getAbsoluteFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// F:\study\JavaSE-Code\com\test.txt</span>
<span class="token comment">// 获取创建File对象给的路径字符串</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// com\test.txt</span>
<span class="token comment">// 获取文件或目录名</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// test.txt</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello</span>


<span class="token class-name">File</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取指定目录的字符串名称路径</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> strList <span class="token operator">=</span> f2<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>strList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Hello, test.txt, World]</span>

<span class="token comment">// 获取指定目录的File抽象路径</span>
<span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fileList <span class="token operator">=</span> f2<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 筛选指定目录下的文件名</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> file <span class="token operator">:</span> fileList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// F:\LearnFile\test.txt</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// test.txt</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="file删除方法"><a href="#file删除方法" class="header-anchor">#</a> File删除方法</h3> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean delete()</td> <td>删除此抽象路径名表示的文件或目录, 如果此路径名表示目录, 则该<strong>目录必须为空</strong>时才能被删除</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">File</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 删除 F:\LearnFile\test.txt 的文件</span>
<span class="token comment">// 删除成功返回 true, 否则返回 false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>注意: 如果要删除一个目录, 必须要先把目录中的全部文件先删除了才能删除目录</p></blockquote> <h4 id="递归删除文件"><a href="#递归删除文件" class="header-anchor">#</a> 递归删除文件</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LearnFile05</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span> fileSrc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">recursionDelteFile</span><span class="token punctuation">(</span>fileSrc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 递归删除指定目录下的所有文件和目录</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">recursionDelteFile</span><span class="token punctuation">(</span><span class="token class-name">File</span> fileSrc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fileList <span class="token operator">=</span> fileSrc<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>fileList <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> file <span class="token operator">:</span> fileList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 递归目录</span>
                    <span class="token function">recursionDelteFile</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 先删除文件</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;删除文件: &quot;</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">getAbsoluteFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;成功&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// 再删除目录</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;删除目录: &quot;</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">getAbsoluteFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;成功&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fileSrc<span class="token punctuation">.</span><span class="token function">getAbsoluteFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;目录下面没有文件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="io流"><a href="#io流" class="header-anchor">#</a> IO流</h2> <p>IO流概述:</p> <ul><li><p>IO: 输入/输出(<strong>Input</strong>/<strong>Output</strong>)</p></li> <li><p>流: 是一种抽象概念, 是对数据传输的总称, 也就是说数据在设备间的传输称为流, 流的本质是数据传输</p></li> <li><p>IO流就是用来处理设备间数据传输问题的, 如: 文件复制, 文件上传, 文件下载</p></li></ul> <p>IO的分类:</p> <ul><li><p>按照数据的流向来分:</p> <ul><li><p>输入流: 读数据</p></li> <li><p>写入流: 写数据</p></li></ul></li> <li><p>按照数据类型来分:</p> <ul><li>字节流: 字节输入流, 字节输出流</li> <li>字符流: 字符输入流, 字符输出流</li></ul></li></ul> <p>一般IO流是按照<strong>数据类型</strong>来分的</p> <p>字节流和字符流的使用区别:</p> <ul><li>可以<strong>读懂整体内容</strong>的是字符流, 否则就是字节流, 不知道使用什么流的情况下, <strong>使用字节流(万能的流)</strong></li></ul> <h3 id="字节流"><a href="#字节流" class="header-anchor">#</a> 字节流</h3> <p>字节流抽象基类:</p> <ul><li><p><a href="https://www.apiref.com/java11-zh/java.base/java/io/InputStream.html" target="_blank" rel="noopener noreferrer">InputStream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 是一个抽象类表示输入字节流(读取数据)的所有类的超类</p></li> <li><p><a href="https://www.apiref.com/java11-zh/java.base/java/io/OutputStream.html" target="_blank" rel="noopener noreferrer">OutputStream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 是一个抽象类表示输出字节流(写入数据)的所有类的超类</p></li> <li><p>子类特点: 子类名称都是以其父类名作为子类名的后缀</p></li></ul> <h4 id="字节流读取数据"><a href="#字节流读取数据" class="header-anchor">#</a> 字节流读取数据</h4> <p><a href="https://www.apiref.com/java11-zh/java.base/java/io/FileInputStream.html" target="_blank" rel="noopener noreferrer">FileInputStream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>从文件系统中的文件获取输入字节, 只能用于读取诸如图像数据的原始字节流</p> <p><strong>构造方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>FileInputStream(String name)</td> <td>通过打开与实际文件的连接来创建<code>FileInputStream</code>, 该文件由文件系统中的路径名<code>name</code>命名</td></tr> <tr><td>FileInputStream(File file)</td> <td>通过打开与实际文件的连接来创建<code>FileInputStream</code>, 该文件由文件系统中的File对象<code>file</code>命名</td></tr></tbody></table> <p><strong>常用方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>int read()</td> <td>从此输入流中读取一个字节的数据(下次读取会从下一个字节数据开始), 如果到达文件的末尾则返回<code>-1</code></td></tr> <tr><td>int read(byte[] b)</td> <td>从此输入流中读取一个字节数组长度的数据, 返回实际读取到的字节数据长度, 如果到达文件的末尾则返回<code>-1</code></td></tr> <tr><td>int read(byte[] b, int off, int len)</td> <td>从偏移量为 <code>off</code>的指定字节数组中的 <code>len</code>字节读取此文件输入流, off起始索引, len要读取的字节数</td></tr> <tr><td>void close()</td> <td>关闭此文件输入流并释放与该流关联的所有系统资源, 此文件输入流将不可在读取字节</td></tr></tbody></table> <h6 id="一次读取一个字节数据"><a href="#一次读取一个字节数据" class="header-anchor">#</a> 一次读取一个字节数据</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 读取一个字节的数据</span>
<span class="token keyword">int</span> by <span class="token operator">=</span> test<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>by<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 97</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> by<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>

<span class="token comment">// 再读取一次就会从下一个字节数据读取</span>
by <span class="token operator">=</span> test<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>by<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 98</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> by<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// b</span>

<span class="token comment">// 循环读取</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>by <span class="token operator">=</span> test<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> by<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
test<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h6 id="字节流复制数据"><a href="#字节流复制数据" class="header-anchor">#</a> 字节流复制数据</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 数据源文件</span>
<span class="token class-name">File</span> sourceFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\鲁迅语句.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 字节输入流</span>
<span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>sourceFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 目的地字节输出流</span>
<span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\&quot;</span> <span class="token operator">+</span> sourceFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 读取数据源字节数据</span>
<span class="token keyword">int</span> by<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>by <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 写入</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>by<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 释放资源</span>
fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h6 id="一次读取一个字节数组长度的数据"><a href="#一次读取一个字节数组长度的数据" class="header-anchor">#</a> 一次读取一个字节数组长度的数据</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建长度为5的字节数组</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 读取一个字节数组长度的字节数据</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token comment">// 将一个字节数组的数据转换为字符串</span>
<span class="token comment">// System.out.println(new String(bytes));</span>
<span class="token comment">// 读取几个字节数组的数据就转换几个为字符串</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>

<span class="token comment">// 第二次读取</span>
len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \r\nwor</span>

<span class="token comment">// 第三次读取</span>
len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ld\r\n</span>

<span class="token comment">/*
    hello\r\n
    wrold\r\n

    第一次读取: hello
    第二次读取: \r\nwor
    第三次读取: ld\r\nr (只读取了四个字节的数据, 加上上一次读取剩余的一个字节数据)
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h6 id="字节数组循环读取"><a href="#字节数组循环读取" class="header-anchor">#</a> 字节数组循环读取</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 一般给 1024 及其倍数</span>
<span class="token comment">// 循环读取</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 释放资源</span>
fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h6 id="字节数组复制数据"><a href="#字节数组复制数据" class="header-anchor">#</a> 字节数组复制数据</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 数据源</span>
<span class="token class-name">File</span> sourceFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile\\戴因.webp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>sourceFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 目的地</span>
<span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\&quot;</span> <span class="token operator">+</span> sourceFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token comment">// 读取指定长度的字节数据</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 写入指定长度的字节数据</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 释放资源</span>
fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="字节流写入数据"><a href="#字节流写入数据" class="header-anchor">#</a> 字节流写入数据</h4> <p><a href="https://www.apiref.com/java11-zh/java.base/java/io/FileOutputStream.html" target="_blank" rel="noopener noreferrer">FileOutputStream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 用于将将数据写入File的输出流</p> <p><strong>构造方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>FileOutputStream(String name)</td> <td>创建文件输出流以写入具有指定名称的文件</td></tr> <tr><td>FileOutputStream(File file)</td> <td>创建文件输出流写入由指定的<code>File</code>对象表示的文件</td></tr> <tr><td>FileOutputStream(String name, boolean append)</td> <td>创建文件输出流以写入具有指定名称的文件;  如果第二个参数是<code>true</code> , 则表示是追加数据</td></tr></tbody></table> <p>注意: 创建一个文件输出字节流对象, 会自动做3件事</p> <ol><li><p>调用系统功能创建文件</p></li> <li><p>创建字节流输出流对象</p></li> <li><p>让字节流输出流对象指定创建好的文件</p></li></ol> <p><strong>常用方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void write(int b)</td> <td>将指定的字节写入此文件输出流</td></tr> <tr><td>void write(byte[] b)</td> <td>将指定字节数组中的数据写入此文件输出流</td></tr> <tr><td>void write(byte[] b, int off, int len)</td> <td>从偏移量为 <code>off</code>的指定字节数组中的 <code>len</code>字节写入此文件输出流, off起始索引, len要写入的字节数</td></tr> <tr><td>void close()</td> <td>关闭此文件输出流并释放与此流关联的所有系统资源, 此文件输出流将不可在写入字节</td></tr></tbody></table> <p><strong>简单使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>charset<span class="token punctuation">.</span></span><span class="token class-name">StandardCharsets</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OutputStream01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建一个文件输出字节流对象</span>
        <span class="token class-name">FileOutputStream</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入 97 字节(对应的是a)</span>
        test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token char">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入 b</span>
        test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好啊&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入 你好啊</span>

        <span class="token comment">// 所有和IO相关的操作, 都要释放资源</span>
        test<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>File对象只要被释放了资源</p></blockquote> <h5 id="字节流写入数据的3种方式"><a href="#字节流写入数据的3种方式" class="header-anchor">#</a> 字节流写入数据的3种方式</h5> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void write(int b) throws IOException</td> <td>将指定的字节写入此文件输出流, 一次写一个字节数据</td></tr> <tr><td>void write(byte[] b) throws IOException</td> <td>将指定字节数组中的 <code>b.length</code>个字节写入此文件输出流, 一次写一个字节数组的数据</td></tr> <tr><td>void write(byte[] b, int off, int len) throws IOException</td> <td>将从偏移量为 <code>off</code>的指定字节数组中的 <code>len</code>字节写入此文件输出流, 一次写一个字节数组的一部分数据</td></tr></tbody></table> <p><strong>基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OutputStream02</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileOutputStream</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 字符串转换为字节数组数据</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 写入一个字节数组的数据</span>
        test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入 hello world</span>

        test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 从字节数组0索引开始写入3个字节的数据</span>
        test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入 hello</span>

        <span class="token comment">// 别忘了释放资源</span>
        test<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h5 id="字节流写入数据的问题"><a href="#字节流写入数据的问题" class="header-anchor">#</a> 字节流写入数据的问题</h5> <h6 id="如何换行"><a href="#如何换行" class="header-anchor">#</a> 如何换行</h6> <p>不同的操作系统对换行的符号识别是不一样的, 如下:</p> <ul><li><p>windown: <code>\r\n</code></p></li> <li><p>lunux: <code>\n</code></p></li> <li><p>mac: <code>\r</code></p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FileOutputStream</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello world\r\n&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h6 id="追加数据写入"><a href="#追加数据写入" class="header-anchor">#</a> 追加数据写入</h6> <p>使用**FileOutputStream(String name, boolean append)**该构造方法即可</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FileOutputStream</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com/test.txt&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="字节流的完整异常处理"><a href="#字节流的完整异常处理" class="header-anchor">#</a> 字节流的完整异常处理</h6> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_05</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OutputStream03</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileOutputStream</span> test <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;ABC:\\com\\test.txt&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            test<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello world\r\n&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 在 finally 块内释放资源</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token comment">// 文件存在时</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>test <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    test<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="字节缓冲流"><a href="#字节缓冲流" class="header-anchor">#</a> 字节缓冲流</h4> <p>字节缓存流:</p> <ul><li><p><a href="https://www.apiref.com/java11-zh/java.base/java/io/BufferedInputStream.html" target="_blank" rel="noopener noreferrer">BufferedInputStream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>该类将创建内部缓冲区数组, 当读取或跳过来自流的字节时, 内部缓冲区根据需要从包含的输入流中重新填充, <strong>一次多个字节</strong></p></li> <li><p><a href="https://www.apiref.com/java11-zh/java.base/java/io/BufferedOutputStream.html" target="_blank" rel="noopener noreferrer">BufferedOutputStream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>该类实现<strong>缓冲输出流</strong>, 通过设置这样的输出流, 应用程序可以将字节写入基础输出流, 而不必为写入的每个字节调用底层系统</p></li></ul> <p>构造方法:</p> <ul><li>字节缓冲输出流: <strong>BufferedOutputStream(OutputStream out)</strong></li> <li>字节缓冲输入流: <strong>BufferedInputStream(InputStream in)</strong></li></ul> <blockquote><p>字节流缓冲流<strong>仅仅提供缓冲区</strong>, 真正读写数据还是依靠基本的字节流对象进行操作, 所以其构造方法不可以接受File对象</p></blockquote> <p>字节缓冲流的操作方法和字节流的操作方法是一样的,  读写数据使用如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 字节缓冲输出流</span>
<span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 写数据</span>
bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello world\r\n&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;learn java\r\n&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 释放资源</span>
bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 字节缓存输入流(直接使用字符串文件路径)</span>
<span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 一次读取一个字节数据</span>
<span class="token comment">// int by;</span>
<span class="token comment">// while ((by = bis.read()) != -1) {</span>
<span class="token comment">//     System.out.print((char) by);</span>
<span class="token comment">// }</span>

<span class="token comment">// 一次读取一个字节数组数据</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="字节流小结"><a href="#字节流小结" class="header-anchor">#</a> 字节流小结</h4> <ul><li><p>字节流可以读取任意文件的数据</p></li> <li><p>字节读取写入数据的性能中, 有四种方式, 使用<strong>字节缓冲流 + 读取/写入一个字节数组的写法</strong>性能最优</p></li></ul> <h3 id="字符流"><a href="#字符流" class="header-anchor">#</a> 字符流</h3> <p>字节流读取(单个字节读取)中文并输出会出现乱码问题, 因为一个汉字的存储:</p> <ul><li>如果是<strong>GBK编码</strong>的文件格式, 占用<strong>2个字节</strong></li> <li>如果是<strong>UTF-8</strong>编码的文件格式, 占用<strong>3个字节</strong></li></ul> <p>由于字节流操作中文不是特别的方便, 所以Java就提供了字符流</p> <ul><li>字符流 = 字节流 + 编码表</li></ul> <blockquote><p>在写入字节数据时, 中文的数据不会出问题, 是因为中文编码总是以<strong>负数</strong>开头, 所以底层操作时碰见负数开头的字节数据就会自动拼接2位或3位字节为一个编码</p></blockquote> <h4 id="编码表"><a href="#编码表" class="header-anchor">#</a> 编码表</h4> <p>计算机中储存的信息都是用<strong>二进制</strong>数表示的; 我们在屏幕上看到的英文, 汉字等字符是二进制数转换之后的结果</p> <p><strong>编码, 解码和乱码</strong></p> <p>按照某种规则, 将字符存储到计算机中, 称为<strong>编码</strong>; 反之, 将存储在计算机中的二进制数按照某种规则解析显示出来, 称为<strong>解码</strong>; 按照A编码存储, 必须按照A编码解析, 否则就会导致乱码现象</p> <p><strong>字符编码</strong></p> <p>字符编码是一套自然语言的字符与二进制数之间的对应规则, 如: 97对应a, 65对应A</p> <p><strong>字符集</strong></p> <ul><li><p>是一个系统支持的所有字符的集合, 包含各国的文字, 标点符号, 图像符号, 数字等</p></li> <li><p>计算机要准确的存储和识别各种字符集符号, 就需要进行字符编码, 一套字符集必然至少有一套字符编码; 常见字符集有ASCI, GBxxx, Unicode, UTF-8等</p></li></ul> <p><strong>ASClI字符集</strong></p> <ul><li>ASCII(American Standard Code for Information Interchange, 美国信息交换标准代码): 是基于拉丁
字母的一套电脑编码系统, 用于显示现代英语, 主要包括控制字符(回车键、退格、换行键等)和可显示字符(英文大小写字符、阿拉伯数字和西文符号)</li> <li>基本的ASCII字符集, 使用7位表示一个字符, 共128字符; ASCII的扩展字符集使用8位表示一个字符, 共256字符, 方便支持欧洲常用字符; 是一个系统支持的所有字符的集合, 包括各国家文字、标点符号、图形符号、数字等</li></ul> <p><strong>GBXXX字符集</strong></p> <ul><li><strong>GB2312</strong>: 简体中文码表; 一个小于127的字符的意义与原来相同, 但两个大于127的字符连在一起时, 就表示一个汉字, 这样大约可以组合了包含7000多个简体汉字, 此外数学符号、罗马希腊的字母、日文的假名等都编进去了, 连在ASCII里本来就有的数字、标点、字母都统统重新编了两个字节长的编码, 这就是常说的&quot;全角&quot;字符, 而原来在127号以下的那些就叫&quot;半角&quot;字符了</li> <li><strong>GBK*</strong>: 最常用的中文码表; 是在GB2312标准基础上的扩展规范, 使用了双字节编码方案, 共收录了21003个汉字, 完全兼容GB2312标准, 同时支持繁体汉字以及日韩汉字等</li> <li><strong>GB18030</strong>: 最新的中文码表; 收录汉字70244个, 采用多字节编码, 每个字可以由1个、2个或4个字节组成; 支持中国国内少数民族的文字, 同时支持繁体汉字以及日韩汉字等</li></ul> <p><strong>Unicode字符集</strong>
为表达任意语言的任意字符而设计, 是业界的一种标准, 也称为统一码、标准万国码; 它最多使用4个字节的数字来表达每个字母、符号, 或者文字; 有三种编码方案, UTF-8、UTF-16和UTF32; 最为常用的UTF-8编码</p> <ul><li><strong>UTF-8*</strong>: 可以用来表示Unicode标准中任意字符, 它是电子邮件、网页及其他存储或传送文字的应用中, 优先采用的编码; 互联网工程工作小组(IETF)要求所有互联网协议都必须支持UTF-8编码; 它使用一至四个字节为每个字符编码</li> <li>编码规则:
<ul><li>128个US-ASCII字符, 只需一个字节编码</li> <li>拉丁文等字符, 需要二个字节编码</li> <li>大部分常用字(含中文), 使用三个字节编码</li> <li>其他极少使用的Unicode辅助字符, 使用四字节编码</li></ul></li></ul> <blockquote><p>无论采用那种规则编码, 解码就必须采用对应的编码的字符集, 否则就会出现乱码</p></blockquote> <h4 id="字符串中的编码解码操作"><a href="#字符串中的编码解码操作" class="header-anchor">#</a> 字符串中的编码解码操作</h4> <p><strong>编码方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>byte[] getBytes()</td> <td>使用平台的默认字符集将此<code>String</code>编码为字节数组并返回</td></tr> <tr><td>byte[] getBytes(Charset charset)</td> <td>使用给定的<a href="https://www.apiref.com/java11-zh/java.base/java/nio/charset/Charset.html" target="_blank" rel="noopener noreferrer">charset<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>将此<code>String</code>编码为字节数组并返回</td></tr></tbody></table> <p><strong>解码使用String类的构造方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>String(byte[] bytes)</td> <td>使用平台的默认字符集解码指定的字节数组, 返回字符串</td></tr> <tr><td>String(byte[] bytes,               Charset charset)</td> <td>使用指定的字符集解码指定的字节数组, 返回字符串</td></tr> <tr><td>String(byte[] bytes, int offset, int length)</td> <td>使用平台的默认字符集解码指定的字节数组, offset开始索引, length 解码的字节数, 返回字符串</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 编码</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes1 <span class="token operator">=</span> <span class="token string">&quot;abcde&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes2 <span class="token operator">=</span> <span class="token string">&quot;中国&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认 UTF-8</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes3 <span class="token operator">=</span> <span class="token string">&quot;中国&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>bytes1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [97, 98, 99, 100, 101]</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>bytes2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [-28, -72, -83, -27, -101, -67]</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>bytes3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [-42, -48, -71, -6]</span>

<span class="token comment">// 解码</span>
<span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes3<span class="token punctuation">,</span> <span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abcde</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中国</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中国</span>
<span class="token comment">// 编码不对就会乱码</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// �й�</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="字符流中的编码解码类"><a href="#字符流中的编码解码类" class="header-anchor">#</a> 字符流中的编码解码类</h4> <p>字符流的抽象基类</p> <ul><li><a href="https://www.apiref.com/java11-zh/java.base/java/io/Reader.html" target="_blank" rel="noopener noreferrer">Reader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 字符输入流(读取数据)的抽象类</li> <li><a href="https://www.apiref.com/java11-zh/java.base/java/io/Writer.html" target="_blank" rel="noopener noreferrer">Writer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 字符输出流(写入数据)的抽象类</li></ul> <p>字符流中和编码解码相关的类</p> <ul><li><p><a href="https://www.apiref.com/java11-zh/java.base/java/io/InputStreamReader.html" target="_blank" rel="noopener noreferrer">InputStreamReader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 字符输入流(读取数据)编码解码</p></li> <li><p><a href="https://www.apiref.com/java11-zh/java.base/java/io/OutputStreamWriter.html" target="_blank" rel="noopener noreferrer">OutputStreamWriter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 字符输出流(写入数据)编码解码</p></li></ul> <h4 id="outputstreamwriter"><a href="#outputstreamwriter" class="header-anchor">#</a> OutputStreamWriter</h4> <p><strong>构造方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>OutputStreamWriter(OutputStream out)</td> <td>创建使用默认字符编码的OutputStreamWriter</td></tr> <tr><td>OutputStreamWriter(OutputStream out, String charsetName)</td> <td>创建使用指定charset的OutputStreamWriter</td></tr></tbody></table> <h4 id="inputstreamreader"><a href="#inputstreamreader" class="header-anchor">#</a> InputStreamReader</h4> <p><strong>构造方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>InputStreamReader(InputStream in)</td> <td>创建一个使用默认字符集的InputStreamReader</td></tr> <tr><td>InputStreamReader(InputStream in, String charsetName)</td> <td>创建一个使用指定charset的InputStreamReader</td></tr></tbody></table> <p><strong>读取指定编码的字节数据:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">OutputStreamWriter</span> osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;中国&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> ch<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ch <span class="token operator">=</span> isr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 中国</span>
<span class="token punctuation">}</span>
isr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="字符流读数据"><a href="#字符流读数据" class="header-anchor">#</a> 字符流读数据</h4> <table><thead><tr><th style="text-align:left;">方法名</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:left;">int read()</td> <td>读一个字符</td></tr> <tr><td style="text-align:left;">int read(char[] cbuf, int offset, int length)</td> <td>将字符读入数组的一部分</td></tr></tbody></table> <p>字符流的读取数据和字节流基本思路是一样的, 只不过字节流一次读取一个<strong>字符数组</strong>的数据, 而在字符流中对应的是一次读取一个<strong>字符数组</strong>的数据</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 一次读取一个字节数据</span>
<span class="token comment">// int ch;</span>
<span class="token comment">// while ((ch = isr.read()) != -1) {</span>
<span class="token comment">//     System.out.print((char) ch);</span>
<span class="token comment">// }</span>

<span class="token comment">// 一次读取一个字符数组</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 注意: 这里是 char[] 类型</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> isr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="字符流写数据"><a href="#字符流写数据" class="header-anchor">#</a> 字符流写数据</h4> <p>字符里拥有字节流的所有重载形式write()方法, 还具有写入字符串数据的write()方法:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void write(String str)</td> <td>写一个字符串</td></tr> <tr><td>void write(String str, int off, int len)</td> <td>写一个字符串的一部分</td></tr> <tr><td>void flush()</td> <td>刷新流, 还可以继续写入数据</td></tr> <tr><td>void close()</td> <td>关闭流, 释放资源, 但是在关闭之前会刷新流, 关闭流以后就不能再写入数据</td></tr></tbody></table> <p><strong>字符流写数据基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">OutputStreamWriter</span> osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 写入一个字节(a)</span>
osw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 字符流写入数据, 是写入到缓冲中的, 需要调用其flush()方法刷新流</span>
osw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

osw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\r\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 写入字符串</span>
osw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 写入字符串的一部分</span>
osw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好世界&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
osw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 关闭流时会先刷新流</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="字符流简便子类"><a href="#字符流简便子类" class="header-anchor">#</a> 字符流简便子类</h4> <p>因为字符流的读取和写入类名太长, 使用还需要FilexxxStream类参数, 使用不是很便捷, 所以一般在使用字符流时都是使用其子类的, 如下:</p> <ul><li>使用<strong>FileReader</strong>代替<strong>InputStreamReader</strong> <ul><li>FileReader(String fileName): 使用平台默认字符集创建一个新的 <code>FileReader</code>, 给定要读取的文件的名称</li> <li>FileReader(String fileName, Charset charset): 给定要读取的文件的名称和字符集 , 创建一个新的<code>FileReader</code></li></ul></li> <li>使用<strong>FileWriter</strong>代替<strong>OutputStreamWriter</strong> <ul><li>FileWriter(String fileName): 构造一个<code>FileWriter</code>给出文件名, 使用平台的默认字符集</li> <li>FileWriter(String fileName,  boolean append): 构造一个<code>FileWriter</code>给出文件名, 使用平台的默认字符集, 追加写入的数据</li></ul></li></ul> <blockquote><p><code>FileReader</code>和<code>FileWriter</code>不能指定数据的字符集, 如果需要指定字符集请使用<code>InputStreamReader</code>和<code>OutputStreamWriter</code></p></blockquote> <p><code>FileReader</code>和<code>FileWriter</code>的使用简便的地方就是创建对象, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// InputStreamReader 和 OutputStreamWriter 的实例化比较麻烦</span>
<span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">OutputStreamWriter</span> osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 简便子类的使用就很方便</span>
<span class="token class-name">FileReader</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileWriter</span> fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>复制文件基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">FileReader</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;com\\osw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">FileWriter</span> fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;com\\copyOsw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

fr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不要忘记刷新流</span>
<span class="token comment">// fw.flush();</span>
fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 会先刷新流再关闭</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="字符缓冲流"><a href="#字符缓冲流" class="header-anchor">#</a> 字符缓冲流</h4> <ul><li><p>BufferedReader: 从字符输入流中读取文本, 缓冲字符, 以便有效地读取字符, 数组和行, 可以指定缓冲区大小, 或者可以使用默认大小;  对于大多数用途, 默认值足够大</p> <ul><li>BufferedReader(Reader in): 创建使用默认大小的输入缓冲区的缓冲字符输入流</li></ul></li> <li><p>BufferedWriter: 将文本写入字符输出流, 缓冲字符, 以便有效地写入单个字符, 数组和字符串, 可以指定缓冲区大小, 或者可以使用默认大小;  对于大多数用途, 默认值足够大</p> <ul><li>BufferedWriter(Writer out): 创建使用默认大小的输出缓冲区的缓冲字符输出流</li></ul></li></ul> <h5 id="字符缓冲流读写数据"><a href="#字符缓冲流读写数据" class="header-anchor">#</a> 字符缓冲流读写数据</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BufferedWriter</span> bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;com\\bw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello\r\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;world\r\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;java\r\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;com\\bw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="字符缓冲流的特有功能"><a href="#字符缓冲流的特有功能" class="header-anchor">#</a> 字符缓冲流的特有功能</h5> <p><code>BufferedReader</code></p> <ul><li>String readLine(): 读一行文字, 结果包含文本数据但<strong>不包括任何行终止字符</strong>, 如: <code>\n</code>,<code>\r</code>: 没有数据可读则返回<code>null</code></li></ul> <p><code>BufferedWriter</code></p> <ul><li>void newLine(): 写一个行分隔符, 行分隔符字符串由系统属性<code>line.separator</code>定义</li></ul> <p>基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BufferedWriter</span> bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;com\\bw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 写数据</span>
    bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 写入换行符</span>
    bw<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 别忘了刷新流</span>
    bw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
bw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;com\\bw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 循环读取</span>
<span class="token class-name">String</span> line<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 读取的内容不包括换行符</span>
    <span class="token comment">// System.out.print(line);</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="字符流小结"><a href="#字符流小结" class="header-anchor">#</a> 字符流小结</h4> <p>字符流只能复制<strong>文本数据</strong>, 一般使用中都使用<strong>字符缓冲流的特有功能</strong></p> <h3 id="字节流复制文件目录"><a href="#字节流复制文件目录" class="header-anchor">#</a> 字节流复制文件目录</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileDemo01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 源目录</span>
        <span class="token class-name">File</span> srcFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\LearnFile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 目的地目录</span>
        <span class="token class-name">File</span> descMkdir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 复制目录</span>
        <span class="token function">copyMkdirFile</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">,</span> descMkdir<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 复制指定目录的文件
     * @param srcFile
     * @param descMkdir
     * @throws IOException
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">copyMkdirFile</span><span class="token punctuation">(</span><span class="token class-name">File</span> srcFile<span class="token punctuation">,</span> <span class="token class-name">File</span> descMkdir<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 源文件是一个目录</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcFile<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 构建目标目录</span>
            <span class="token class-name">File</span> newDescMkdir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>descMkdir<span class="token punctuation">,</span> srcFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 不存在则新建</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>newDescMkdir<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                newDescMkdir<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 获取源文件下的所有 file</span>
            <span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fileList <span class="token operator">=</span> srcFile<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 遍历</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> file <span class="token operator">:</span> fileList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 递归</span>
                <span class="token function">copyMkdirFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> newDescMkdir<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 构建目标文件地址</span>
            <span class="token class-name">File</span> newFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>descMkdir<span class="token punctuation">,</span> srcFile<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 复制文件</span>
            <span class="token function">copyFile</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">,</span> newFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 复制指定文件函数
     * @param srcFile  源文件路径
     * @param descFile 目标文件路径
     * @throws IOException
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token class-name">File</span> srcFile<span class="token punctuation">,</span> <span class="token class-name">File</span> descFile<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 构建字节缓冲输入流(从源目录读取)</span>
        <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 构建字节缓冲输出流(写入到目录目录)</span>
        <span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>descFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 写入数据</span>
        <span class="token keyword">int</span> len<span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
            bos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 释放资源</span>
        bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><h3 id="io流操作的异常处理"><a href="#io流操作的异常处理" class="header-anchor">#</a> IO流操作的异常处理</h3> <h4 id="try-catch-fanlly"><a href="#try-catch-fanlly" class="header-anchor">#</a> try...catch...fanlly</h4> <p>使用<code>try...catch...fanlly</code>的标准处理</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>descFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bis <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bos <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="try-catch语法"><a href="#try-catch语法" class="header-anchor">#</a> try()...catch语法</h4> <h5 id="jdk7改进语法"><a href="#jdk7改进语法" class="header-anchor">#</a> JDK7改进语法</h5> <p>JDK7新增了一种可以自动释放资源的语法, 就是将IO声明放到**try()**的括号中, JVM可以自动释放资源</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 将要释放的IO定义在 try() 的括号中, JVM会自动释放资源</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span>
    <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>descFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="jdk9改进语法"><a href="#jdk9改进语法" class="header-anchor">#</a> JDK9改进语法</h5> <p>JDK9又改进了JDK7的自动释放资源语法, 但还是需要抛出IOException异常</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>descFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// JDK9中将要释放的IO变量定义在 try() 的括号中比JDK7更简洁</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span>bis<span class="token punctuation">;</span> bos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> len<span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="标准输入输出流"><a href="#标准输入输出流" class="header-anchor">#</a> 标准输入输出流</h3> <p>System类中有两个静态的成员变量:</p> <ul><li><p><strong>static final InputStream in:</strong> “标准”输入流, 此流已打开并准备好提供输入数据, 该流对应于键盘输入或由主机环境或用户指定的另一输入源</p></li> <li><p><strong>static final PrintStream out:</strong> “标准”输出流, 此流已打开并准备接受输出数据, 该流对应于主机环境或用户指定的显示输出或另一输出目的地</p></li> <li><p><strong>static final PrintStream err:</strong> “标准”错误输出流, 此流已打开并准备接受输出数据, 该流对应于主机环境或用户指定的显示输出或另一输出目的地, 此输出流用于显示应立即引起用户注意的错误消息或其他信息</p></li></ul> <h4 id="标准输入流的用法"><a href="#标准输入流的用法" class="header-anchor">#</a> 标准输入流的用法</h4> <h5 id="使用字节流实现键盘录入"><a href="#使用字节流实现键盘录入" class="header-anchor">#</a> 使用字节流实现键盘录入</h5> <p>使用转换流(InputStreamReader)将标准输入流(System.in是字节流)转换为字符流, 即可实现读取键盘录入</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 字节流对象</span>
<span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">;</span>
<span class="token comment">// 字节流可以读取控制台键盘输入的英文, 但是解析中文会乱码</span>
<span class="token comment">// int by;</span>
<span class="token comment">// while ((by = is.read()) != -1) {</span>
<span class="token comment">//     System.out.print((char) by);</span>
<span class="token comment">// }</span>

<span class="token comment">// 使用转换流将字节流转换为字符流(InputStreamReader)</span>
<span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 可以正常使用字符流的方法</span>
<span class="token comment">// int len;</span>
<span class="token comment">// char[] chs = new char[1024];</span>
<span class="token comment">// System.out.print(new String(chs, 0, len));</span>

<span class="token comment">// 如果需要使用读取一行的方法, 就需要再创建字符缓存输入流</span>
<span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>isr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 一般会简写为一行</span>
<span class="token comment">// BufferedReader br = new BufferedReader(new InputStreamReader(System.in));</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个字符串&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> line <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的字符串是: &quot;</span> <span class="token operator">+</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 读取非字符串还要手动转换类型</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个整数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的整数是: &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h5 id="scanner-2"><a href="#scanner-2" class="header-anchor">#</a> Scanner</h5> <p>使用字节流实现键盘录入数据有点太麻烦了, 所以Java为我们提供了一个类, 这个类就是 Scanner</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个字符串&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> line <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的字符串是: &quot;</span> <span class="token operator">+</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个整数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的整数是: &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;请输入一个浮动数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span> f <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的浮动数是: &quot;</span> <span class="token operator">+</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="标准输出流的用法"><a href="#标准输出流的用法" class="header-anchor">#</a> 标准输出流的用法</h4> <p>标准输出流就是System.out, 本质上就是一个字节输出流</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 标准输出流</span>
<span class="token class-name">PrintStream</span> ps <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// PrintStream 类有的方法 System.out 都可以调用</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="特殊操作流"><a href="#特殊操作流" class="header-anchor">#</a> 特殊操作流</h3> <h4 id="打印流"><a href="#打印流" class="header-anchor">#</a> 打印流</h4> <p>打印流分类:</p> <ul><li>字节打印流: PrintStream</li> <li>字符打印流: PrintWriter</li></ul> <p>打印流的<strong>只负责输出数据</strong>, 不负责读取数据, 打印流有自己特有的方法</p> <h5 id="字节打印流"><a href="#字节打印流" class="header-anchor">#</a> 字节打印流</h5> <p>字节打印流本质上就是一个字节输出流</p> <p><strong>构造方法:</strong></p> <ul><li>PrintStream(String fileName): 使用指定的文件名创建没有自动行刷新的新打印流</li> <li>PrintStream(File file): 使用指定的文件创建没有自动行刷新的新打印流</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建字节打印流</span>
<span class="token class-name">PrintStream</span> ps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\ps.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用字节输出流的 write()方法会自动转码, 写入的其实是 a</span>
ps<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用特有的方法(跟 System.out 是一样的)写入什么就是什么不会自动转换</span>
<span class="token comment">// 只不过 System.out 输出到控制台, 而指定了文件的打印流可以输出到指定的文件</span>
ps<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 1 = %s&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 释放资源</span>
ps<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="字符打印流"><a href="#字符打印流" class="header-anchor">#</a> 字符打印流</h5> <p>字符打印流本质上就是一个字符输出流</p> <p><strong>构造方法:</strong></p> <ul><li>PrintWriter(String fileName): 使用指定的文件名创建一个没有自动行刷新的新PrintWriter</li> <li>PrintWriter(File file): 使用指定的文件创建一个没有自动行刷新的新PrintWriter</li> <li>PrintWriter(Writer out,  boolean autoFlush): 创建一个新的PrintWriter, 如果 autoFlush 为真, 则println, printf, 或format方法将刷新输出缓冲区</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 给定文件名创建字符打印流, 每次写入数据时都要调用 flush() 方法 刷新流才行</span>
<span class="token comment">// PrintWriter pw = new PrintWriter(&quot;com\\pw.txt&quot;);</span>
<span class="token comment">// pw.println(&quot;hello&quot;);</span>
<span class="token comment">// pw.flush();</span>

<span class="token comment">// 给定输出流和布尔值的话, 使用 println, printf和format 会自动刷新流</span>
<span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;com\\pw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这个 println() 相当于是字符流的 write() newLine() flush() 三个方法集合</span>
pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 释放资源, 也会自动刷新流</span>
<span class="token comment">// pw.close();</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="对象序列化流"><a href="#对象序列化流" class="header-anchor">#</a> 对象序列化流</h4> <p>对象序列化: 就是将对象保存到磁盘中, 或者在网络中传输对象, 这种机制就是使用一个字节序列表示一个对象, 该字节序列包含: 对象的类型、对象的数据和对象中存储的属性等信息字节序列写到文件之后, 相当于文件中持久保存了一个对象的信息</p> <p>反之, 该字节序列还可以从文件中读取回来, 重构对象, 对它进行反序列化</p> <p>要实现序列化和反序列化就要使用对象序列化流和对象反序列化流:</p> <ul><li>对象序列化流: ObjectOutputStream</li> <li>对象反序列化流: ObjectInputStream</li></ul> <h5 id="对象序列化流-2"><a href="#对象序列化流-2" class="header-anchor">#</a> 对象序列化流</h5> <p>ObjectOutputStream将Java对象的原始数据类型和图形写入OutputStream; 可以使用ObjectInputStream读取(重构)对象; 可以通过使用流的文件来完成对象的持久存储;  如果流是网络套接字流, 则可以在另一个主机或另一个进程中重新构建对象</p> <p><strong>构造方法:</strong></p> <p>ObjectOutputStream(OutputStream out): 创建一个写入指定OutputStream的ObjectOutputStream</p> <p>序列化对象的方法:</p> <ul><li>final void writeObject(Object obj): 将指定的对象写入ObjectOutputStream</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 序列化流</span>
<span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\oos.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span> xm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// NotSerializableException: 当实例需要具有 Serializable 接口时抛出</span>
<span class="token comment">// 未实现 Serializable 接口的类将不会, 将其任何状态序列化或反序列化</span>
<span class="token comment">// 将一个对象写入到文件中</span>
oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>xm<span class="token punctuation">)</span><span class="token punctuation">;</span>
oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Serializable接口只是一个标记接口, 不需要重写任何的方法, 如下</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_02</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span>
<span class="token comment">// 序列化 Serializable 接口仅仅只是一个标识类接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="对象反序列化流"><a href="#对象反序列化流" class="header-anchor">#</a> 对象反序列化流</h5> <p>ObjectInputStream可以对先前使用ObjectOutputStream编写的原始数据和对象进行反序列化</p> <p>**构造方法: **</p> <ul><li>ObjectInputStream(InputStream in): 创建一个从指定的InputStream读取的ObjectInputStream</li></ul> <p>反序列化对象的方法:</p> <ul><li>final Object readObject(): 从ObjectInputStream中读取一个对象</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 反序列化流</span>
<span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\oos.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 读取序列号数据</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 向下转型</span>
<span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getNane</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小明, 18</span>
ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="对象序列化问题"><a href="#对象序列化问题" class="header-anchor">#</a> 对象序列化问题</h5> <p>用对象序列化流序列化了一个对象后, 假如我们修改了对象所属的类文件, 读取数据时会抛出InvalidClassException异常, 需要给对象所属的类加一个<strong>serialVersionUID</strong>来避免</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 序列化ID用于标识序列化类</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">42L</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果一个对象中的某个成员变量的值不想被序列化, 可以给该成员变量加<strong>transient</strong>关键字修饰, 该关键字标记的成员变量不参与序列化过程</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// transient 修饰符修饰的成员变量不参与序列化</span>
<span class="token keyword">private</span> <span class="token keyword">transient</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="properties"><a href="#properties" class="header-anchor">#</a> Properties</h4> <p>Properties类是一个Map体系的集合类, 并且可以保存到流中或从流中加载</p> <p>Properties是可以作为Map集合使用的:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Properties 类是没有泛型的</span>
<span class="token comment">// Properties&lt;String, String&gt; p = new Properties&lt;&gt;();</span>

<span class="token comment">// 默认类型是 Object</span>
<span class="token class-name">Properties</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;003&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 遍历</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> entrie <span class="token operator">:</span> p<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span> key <span class="token operator">=</span> entrie<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> value <span class="token operator">=</span> entrie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h5 id="properties作为集合的特有方法"><a href="#properties作为集合的特有方法" class="header-anchor">#</a> Properties作为集合的特有方法</h5> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>String getProperty(String key)</td> <td>在此属性列表中搜索具有指定键的属性</td></tr> <tr><td>Object setProperty(String key, String value)</td> <td>设置集合的键值对, 都是String类型底层还是调用Hashtable类的put方法</td></tr> <tr><td>Set&lt;String&gt; stringPropertyNames()</td> <td>从此属性列表返回一组不可修改的键集, 其中键及其对应的值是字符串</td></tr></tbody></table> <p><strong>方法的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Properties</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置键值对</span>
p<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;003&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取指定值</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;001&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三</span>

<span class="token comment">// 获取键集合</span>
<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stringSet <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">stringPropertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stringSet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [003, 002, 001]</span>

<span class="token comment">// 遍历键值对</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> stringSet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h5 id="properties和io流结合的方法"><a href="#properties和io流结合的方法" class="header-anchor">#</a> Properties和IO流结合的方法</h5> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void load(InputStream inStream)</td> <td>从输入字节流中读取属性列表(键和元素对)</td></tr> <tr><td>void load(Reader reader)</td> <td>从输入字符流中读取属性列表(键和元素对)</td></tr> <tr><td>void store(OutputStream out, String comments)</td> <td>将此属性列表(键和元素对)以适合使用 <code>load(InputStream)</code>方法的格式写入输出流 字节流</td></tr> <tr><td>void store(Writer writer, String comments)</td> <td>将此属性列表(键和元素对)以适合使用<code>load(Reader)</code>方法的格式写入输出字符流</td></tr></tbody></table> <p><strong>方法的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_03</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileReader</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Properties01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 把集合中的数据写入到文件</span>
        <span class="token function">myStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 把文件数据加载到集合</span>
        <span class="token function">myLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">myStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Properties</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        p<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;003&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">FileWriter</span> fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;com\\fw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 写入数据</span>
        p<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>fw<span class="token punctuation">,</span> <span class="token string">&quot;我是描述信息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">myLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Properties</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileReader</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;com\\fw.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 加载数据</span>
        p<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {003=王五, 002=李四, 001=张三}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="多线程"><a href="#多线程" class="header-anchor">#</a> 多线程</h2> <h3 id="进程"><a href="#进程" class="header-anchor">#</a> 进程</h3> <p>进程是正在运行的程序</p> <ul><li>是系统进行资源分配和调用的独立单元</li> <li>每一个进程都有它自己的内存空间和系统资源</li></ul> <h3 id="线程"><a href="#线程" class="header-anchor">#</a> 线程</h3> <p>线程是进程中的单个顺序控制流, 是一条执行路径</p> <ul><li>单线程: 一个程序如果只有一个执行路径, 则称为单线程程序</li> <li>多线程: 一个程序如果有多条执行路径, 则称为多线程程序</li></ul> <h3 id="继承thread实现多线程"><a href="#继承thread实现多线程" class="header-anchor">#</a> 继承Thread实现多线程</h3> <p>实现多线程的方式之一就是继承<code>Thread</code>类并重写其<code>run</code>方法, 然后可以分配和启动子类的实例</p> <p><strong>线程类MyThread继承Thread</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>测试代码:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MyThread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyThread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// run()方法并不是多线程的</span>
<span class="token comment">// t1.run();</span>
<span class="token comment">// t2.run();</span>

<span class="token comment">// start()方法会间接的调用run()方法, 并且是多线程的</span>
t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>注意点:</p> <ul><li>重写<code>run()</code>方法是用来封装被线程执行的代码的</li> <li><code>run()</code>方法和<code>start()</code>方法的区别是
<ul><li><code>run()</code>: 封装线程执行的代码, 直接调用, 相当于是普通方法的调用</li> <li><code>start()</code>: 启动线程, 然后有JVM调用此线程的<code>run()</code>方法</li></ul></li></ul> <h3 id="设置和获取线程名称"><a href="#设置和获取线程名称" class="header-anchor">#</a> 设置和获取线程名称</h3> <p>Thread类中设置和获取线程的名称的方法:</p> <ul><li>**final void setName(String name): **将此线程的名称更改为等于参数name</li> <li>**final String getName(): **返回此线程的名称</li> <li>还可以通过带参构造方法在实例化线程对象时设置线程对象的名称</li></ul> <p><strong>修改MyThread类代码:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token comment">// 无参构造方法</span>
    <span class="token keyword">public</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 带参构造方法</span>
    <span class="token keyword">public</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取线程的名称</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>测试代码</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用无参构造方法并使用setName()设置线程的名称</span>
        <span class="token comment">// MyThread t1 = new MyThread();</span>
        <span class="token comment">// MyThread t2 = new MyThread();</span>

        <span class="token comment">// t1.setName(&quot;张三开车&quot;);</span>
        <span class="token comment">// t2.setName(&quot;李四开飞机&quot;);</span>

        <span class="token comment">// 使用带参构造方法实例化时指定线程的名称</span>
        <span class="token class-name">MyThread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;张三开车&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyThread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;李四开飞机&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// public static Thread currentThread(): 返回对当前正在执行的线程对象的引用</span>
        <span class="token comment">// 获取main方法的线程名称</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// main</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="线程调度"><a href="#线程调度" class="header-anchor">#</a> 线程调度</h3> <p>线程有两种调度模型</p> <ul><li>分时调度模型: 所有线程轮流使用CPU的使用权, 平均分配每个线程占用CPU的时间片</li> <li>抢占式调度模型: 优先让优先级高的线程使用CPU, 如果线程的优先级相同, 那么会随机选择一个, 优先级高的线程获取的CPU时间片相对多一些</li></ul> <p>Java默认使用的是抢占时调度模型</p> <p>假如计算机只有一个CPU, 那么CPU在某一个时刻只能执行一条指令, 线程只有得到CPU时间片, 也就是<strong>使用权</strong>, 才可以执行指令; 所以说多线程程序的执行是有<strong>越机性</strong>, 因为谁抢到CPU的使用权是不一定的</p> <p>Thread类中定义了三个常量用来表示线程的最低, 默认和最高的优先级:</p> <ul><li>static final int MIN_PRIORITY: 线程可以拥有的最低优先级(1)</li> <li>static final int NORM_PRIORITY: 分配给线程的默认优先级(5)</li> <li>static final int MAX_PRIORITY: 线程可以拥有的最大优先级(10)</li></ul> <p>Thread类中设置和获取线程优先级的方法</p> <p><strong>final int getPriority()</strong>: 返回此线程的优先级</p> <p><strong>final void setPriority(int newPriority)</strong>: 更改此线程的优先级</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MyThread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;张三开车&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyThread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;李四开飞机&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyThread</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;王五开高铁&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取线程的优先级(默认为5)</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t2<span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t3<span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>

<span class="token comment">// 方法传递非法或不适当的参数 参数只能在 Thread.MIN_PRIORITY ~ Thread.MAX_PRIORITY 之间</span>
<span class="token comment">// t1.setPriority(100); // IllegalArgumentException</span>

<span class="token comment">// 线程最低优先级</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token constant">MIN_PRIORITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// 线程最高优先级</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token constant">MAX_PRIORITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
<span class="token comment">// 线程默认优先级</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token constant">NORM_PRIORITY</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>

<span class="token comment">// 飞机优先级相对最高, 高铁次之, 车最慢</span>
t1<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t3<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><blockquote><p>注意: 线程的优先级高仅仅只是获取CPU的时间片的<strong>几率高</strong>, 线程的执行结果可能并不是对的</p></blockquote> <h3 id="线程控制"><a href="#线程控制" class="header-anchor">#</a> 线程控制</h3> <p>线程控制常用的方法:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static void sleep(long millis)</td> <td>使当前正在执行的线程休眠(暂时停止执行)指定的毫秒数</td></tr> <tr><td>final void join()</td> <td>等待这个线程&quot;死亡&quot;</td></tr> <tr><td>final void setDaemon(boolean on)</td> <td><code>on</code>为<code>true</code>时将此线程标记为守护线程, 当运行的线程都是守护线程时, Java虚拟机将退出</td></tr></tbody></table> <p><strong>Thread.sleep方法的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 线程休眠1s</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>join方法的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MyThread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;曹操&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyThread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;刘备&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyThread</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;孙权&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等待 t1 线程&quot;死亡&quot;(t1线程执行完以后才会执行t2和t3线程)</span>
t1<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>setDaemon方法的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MyThread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;关羽&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyThread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置主线程(main)的名字为刘备</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;刘备&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 关羽和张飞都设置为守护线程</span>
t1<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 主线程的代码执行完了, 也就是当前运行的线程都是守护线程了, 那么Java虚拟机将退出</span>
<span class="token comment">// 也就是说当刘备这个线程执行完了以后, 关羽和张飞线程将会退出</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="线程的生命周期"><a href="#线程的生命周期" class="header-anchor">#</a> 线程的生命周期</h3> <p><img src="/note-sites/assets/img/image-20220508164328015.f7e90531.png" alt="image-20220508164328015"></p> <h3 id="实现runnable接口实现多线程"><a href="#实现runnable接口实现多线程" class="header-anchor">#</a> 实现Runnable接口实现多线程</h3> <p>实现多线程的方式之二就是实现<code>Runnable</code>接口并重写其<code>run</code>方法, 然后通过这个类的实例并使用<code>Thread</code>的构造方法就创建线程类了</p> <p><strong>实现Runnable接口的MyRunnable类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 不能直接使用getName()方法</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>**测试类: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MyRunnable</span> mr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用不带线程名称的构造方法</span>
<span class="token comment">// Thread(Runnable target)</span>
<span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用带线程名称的构造方法</span>
<span class="token comment">// Thread(Runnable target, String name)</span>
<span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mr<span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 启动线程</span>
t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>相比于继承<code>Thread</code>类实现<code>Runnable</code>接口的好处:</p> <ul><li>可以避免Java单继承的局限性</li> <li>适合多个相同程序的代码去处理同一个资源的情况, 把线程和程序的代码, 数据有效分离, 较好的体现了面向对象的设计思想</li></ul> <h3 id="线程同步"><a href="#线程同步" class="header-anchor">#</a> 线程同步</h3> <p>假设有一个卖票程序有三个窗口总共可以卖100张票</p> <p><strong>MySynchronized类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySynchronized</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token comment">// 卖票标识</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// 卖票总数</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> num <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;正在售卖第&quot;</span> <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 卖一张票用时50毫秒</span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                num<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>测试类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">MySynchronized</span> mr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MySynchronized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mr<span class="token punctuation">,</span> <span class="token string">&quot;窗口1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mr<span class="token punctuation">,</span> <span class="token string">&quot;窗口2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span> t3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mr<span class="token punctuation">,</span> <span class="token string">&quot;窗口3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>然后就会出现多个窗口(线程)卖<strong>同一张票</strong>和<strong>出现0和负数</strong>的票的问题</p> <p>因为线程的执行有<strong>随机性</strong>多个线程同时操作一个数据会出现数据的不同步问题</p> <p>多线程的数据安全问题, 如果有符合一下的特点就会出现数据安全问题:</p> <ul><li>是否是多线程环境</li> <li>是否有共享数据</li> <li>是否有多条语句操作共享数据</li></ul> <p>解决方法就是把多条语句操作共享数据的代码给&quot;锁&quot;起来, 让任意时刻只能有一个线程执行的即可, Java提供了同步代码块的方式解决</p> <h4 id="同步代码块"><a href="#同步代码块" class="header-anchor">#</a> 同步代码块</h4> <p>锁多条语句操作共享数据, 可以使用同步代码块来实现, 格式如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 任意对象就相当于是一把锁</span>
<span class="token keyword">synchronized</span><span class="token punctuation">(</span>任意对象<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 多条语句操作共享数据的代码</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>修改MySynchronized类代码:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySynchronized</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> num <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token comment">// 锁对象</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 同步代码块</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;正在售卖第&quot;</span> <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    num<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>同步代码块的好处和弊端:</p> <ul><li>好处: 可以解决多线程的数据安全问题</li> <li>弊端: 当线程很多时, 因为每一个线程都会去判断同步上的所, 这很耗费资源, 并且会拖慢程序的运行效率</li></ul> <h4 id="同步方法"><a href="#同步方法" class="header-anchor">#</a> 同步方法</h4> <p>同步方法就是把<code>synchronized</code>关键字加到方法上, 格式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 同步成员方法的锁对象是 `this`</span>
修饰符 <span class="token keyword">synchronized</span> 返回值类型 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span> 

<span class="token comment">// 如果是静态同步方法则锁对象是 `类名.class`(反射相关)</span>
修饰符 <span class="token keyword">static</span> <span class="token keyword">synchronized</span> 返回值类型 方法名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="线程安全的类"><a href="#线程安全的类" class="header-anchor">#</a> 线程安全的类</h4> <p><strong>StringBuffer</strong>: 线程安全, 可变的字符序列, 建议使用<code>StringBuilder</code>代替<code>StringBuffer</code></p> <p><strong>Vector</strong>: Vector是同步的, 如果不需要线程安全实现, 建议使用<code>ArrayList</code>代替<code>Vector</code> 或者<code>Collections</code>的相关安全视图方法</p> <p><strong>Hashtable</strong>: Hashtable是同步的, 如果不需要线程安全实现, 建议使用<code>HashMap</code>代替<code>Hashtable</code>; 如果需要线程安全的高度并发实现, 则建议使用<code>ConcurrentHashMap</code>代替<code>Hashtable</code>或者<code>Collections</code>的相关安全视图方法</p> <blockquote><p>这几个类的方法和<code>Collections</code>的相关安全视图方法都添加了<code>synchronized</code>关键字所以是线程安全的</p></blockquote> <h3 id="lock锁"><a href="#lock锁" class="header-anchor">#</a> Lock锁</h3> <p>虽然我们可以理解同步代码块和同步方法的锁对象问题, 但是我们并没有直接看到在哪里加上了锁, 在哪里释放了锁, 为了更清晰的表达如何加锁和释放锁, JDK5以后提供了一个新的锁对象Lock</p> <p><code>Lock</code>是一个接口实现提供了比使用<code>synchronized</code>方法和语句可以获得的更广泛的锁定操作, 一般使用其实现类<code>ReentrantLock</code>, 并且该接口提供了两个方法用于获得锁和释放锁:</p> <ul><li><strong>void lock()</strong>: 获得锁</li> <li><strong>void unlock()</strong>: 释放锁</li></ul> <p>以卖票的案例代码实例使用Lock:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>locks<span class="token punctuation">.</span></span><span class="token class-name">Lock</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>locks<span class="token punctuation">.</span></span><span class="token class-name">ReentrantLock</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySynchronized02</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> num <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token comment">// 实例化Lock实例</span>
    <span class="token keyword">private</span> <span class="token class-name">Lock</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token comment">// 添加锁</span>
                lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot;正在售卖第&quot;</span> <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token string">&quot;张票&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 卖一张票用时50毫秒</span>
                        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    num<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
                <span class="token comment">// 释放锁</span>
                lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><blockquote><p>锁一般是配合<code>try...finally</code>语句使用这样即使中间代码出问题了锁也会被释放掉</p></blockquote> <h3 id="生产者消费者模式"><a href="#生产者消费者模式" class="header-anchor">#</a> 生产者消费者模式</h3> <p>生产者消费者模式是一个十分经典的多线程协作的模式, 弄懂生产者消费者问题能够让我们对多线程编程的理解更加深刻所谓生产者消费者问题, 实际上主要是包含了两类线程:</p> <ul><li>一类是生产者线程用于生产数据</li> <li>一类是消费者线程用于消费数据</li></ul> <p>为了解耦生产者和消费者的关系, 通常会采用共享的数据区域, 就像是一个仓库生产者生产数据之后直接放置在共享数据区中, 并不需要关心消费者的行为·消费者只需要从共享数据区中去获取数据, 并不需要关心生产者的行为</p> <p><img src="/note-sites/assets/img/image-20220509203946260.45b9f832.png" alt="image-20220509203946260"></p> <p>理想情况下生产者生产数据后就被消费者消费了, 但是, 有时生产者可能生产的数据并不及时或者是消费者消费数据的速度跟不上生产者生产数据的速度, 这就是生成者和消费者模型中的<strong>等待和唤醒</strong></p> <p>为了体现生产和消费过程中的等待和唤醒, Java就提供了几个方法供我们使用, 这几个方法在Object类中:</p> <p>**Object类中的等待和唤醒方法: **</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>final void wait()</td> <td>导致当前线程等待, 直到另一个线程调用<code>notify()</code>或<code>notifyAll()</code>方法</td></tr> <tr><td>final void notify()</td> <td>唤醒正在等待的单个线程</td></tr> <tr><td>final void notifyAll()</td> <td>唤醒正在等待的所有线程</td></tr></tbody></table> <h4 id="生产者和消费者模型的基本使用"><a href="#生产者和消费者模型的基本使用" class="header-anchor">#</a> 生产者和消费者模型的基本使用:</h4> <p>有一个奶箱, 以送奶工(生产者)和用户(消费者)拿牛奶为案例演示生产者和消费者模型的基本使用:</p> <p><strong>送奶工(生产者):</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Producer</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Box</span> b<span class="token punctuation">;</span>

    <span class="token class-name">Producer</span><span class="token punctuation">(</span><span class="token class-name">Box</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 生产牛奶</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            b<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>用户(消费者):</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Box</span> b<span class="token punctuation">;</span>

    <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token class-name">Box</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 消费牛奶</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            b<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>奶箱类(Box):</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Box</span> <span class="token punctuation">{</span>
    <span class="token comment">// 表示第几瓶奶</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> milk<span class="token punctuation">;</span>
    <span class="token comment">// 表示奶箱的状态(默认没有牛奶)</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> state <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 存储牛奶操作(必须添加synchronized关键字)</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> milk<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果有牛奶等待消费</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 如果没有牛奶则生产牛奶</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>milk <span class="token operator">=</span> milk<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;送奶工将第&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>milk <span class="token operator">+</span> <span class="token string">&quot;瓶牛奶送到奶箱中&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        
        <span class="token comment">// 生产完毕后, 奶箱状态为有牛奶</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">// 唤醒其他的线程</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取牛奶的操作(必须添加synchronized关键字)</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果没有牛奶则等待</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 有牛奶则消费</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户拿到了第&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>milk <span class="token operator">+</span> <span class="token string">&quot;瓶奶&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        
        <span class="token comment">// 消费完毕修改后, 奶箱状态为没有牛奶</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment">// 唤醒其他的线程</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p><strong>测试类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_04</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo06</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 奶箱(共享数据的地方)</span>
        <span class="token class-name">Box</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Box</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 生产者(用于生产牛奶)</span>
        <span class="token class-name">Producer</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Producer</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 消费者(用于消费牛奶)</span>
        <span class="token class-name">Customer</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 生产者线程</span>
        <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 消费者线程</span>
        <span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>

        t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>生产者和消费者模型的注意点:</p> <ul><li>操作方法(用到了线程等待和唤醒的方法)一定要使用<code>synchronized</code>关键字修饰, 不然会报错</li> <li>线程记得要唤醒, 不然线程就会一直在等待</li></ul> <h2 id="网络编程"><a href="#网络编程" class="header-anchor">#</a> 网络编程</h2> <p>网络编程就是在网络通信协议下, 实现网络互连的不同计算机上运行的程序间可以进行数据交换</p> <h3 id="网络编程三要素"><a href="#网络编程三要素" class="header-anchor">#</a> 网络编程三要素</h3> <p><strong>IP地址</strong></p> <p>要想让网络中的计算机能够互相通信, 必须为每台计算机指定一个标识号, 通过这个标识号来指定要接收数据的计算机和识别发送的计算机, 而IP地址就是这个标识号; 也就是<strong>设备的标识</strong></p> <p><strong>端口号</strong></p> <p>网络的通信, 本质上是两个应用程序的通信; 每台计算机都有很多的应用程序, 那么在网络通信时, 如何区分这些应用程序呢? 如果说IP地址可以唯一标识网络中的设备, 那么端口号就可以唯一标识设备中的应用程序了; 也就是<strong>应用程序的标识</strong></p> <p><strong>通信协议</strong></p> <p>通过计算机网络可以使多台计算机实现连接, 位于同一个网络中的计算机在进行连接和通信时需要遵守一定的规则, 这就好比在道路中行驶的汽车一定要遵守交通规则一样; 在计算机网络中, 这些连接和通信的规则被称为网络通信协议, 它对数据的传输格式、传输速率、传输步骤等做了统一规定, 通信双方必须同时遵守才能完成数据交换; 常见的协议有<strong>UDP协议和TCP协议</strong></p> <h4 id="ip地址"><a href="#ip地址" class="header-anchor">#</a> IP地址</h4> <p>IP地址是网络中设备的唯一标识</p> <p>IP地址分为两大类</p> <ul><li><strong>IPv4</strong>: 是给每个连接在网络上的主机分配一个32bit地址; 按照TCP/IP规定, IP地址用二进制来表示, 每个IP地址长32bit, 也就是4个字节; 例一个采用二进制形式的IP地址是“11000000 10101000 00000001 00000010”, 这么长的地址, 处理起来也太费劲了; 为了方便使用, IP地址经常被写成十进制的形式, 中间使用符号“.”分隔不同的字节; 于是, 上面的IP地址可以表示为“192.168.1.2”; IP地址的这种表示法叫做“点分十进制表示法”, 这显然比1和0容易记忆得多</li> <li><strong>IPv6</strong>: 由于互联网的蓬勃发展, IP地址的需求量愈来愈大, 但是网络地址资源有限, 使得IP的分配越发紧张; 为了扩大地址空间, 通过IPv6重新定义地址空间, 采用128位地址长度, 每16个字节一组, 分成8组十六进制数, 这样就解决了网络地址资源数量不够的问题</li></ul> <p>windown 的常用DOS命令:</p> <ul><li>ipconfig: 查看IP地址相关的信息</li> <li>ping IP地址: 检查网络是否和指定的IP地址连通</li></ul> <p>特殊的IP地址<code>127.0.0.1</code>是回送地址, 可以代表本机的IP地址, 一般用于测试使用</p> <h5 id="inetaddress"><a href="#inetaddress" class="header-anchor">#</a> InetAddress</h5> <p>InetAddress类表示Internet协议(IP)地址, 该类<strong>没有构造方法</strong>, 使用其静态方法<code>getByName()</code>获取该类实例</p> <p>常用方法:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static InetAddress getByName(String host)</td> <td>根据主机名称获取IP地址, 主机名称可以是机器名称, 也可以是IP地址</td></tr> <tr><td>String getHostName()</td> <td>获取IP地址的主机名</td></tr> <tr><td>String getHostAddress()</td> <td>返回IP地址的字符串表示形式</td></tr></tbody></table> <p>方法的基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 通过主机名获取 InetAddress实例</span>
<span class="token class-name">InetAddress</span> address <span class="token operator">=</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">&quot;DESKTOP-K29S1ST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 通过IP地址获取 InetAddress实例</span>
<span class="token comment">// InetAddress address = InetAddress.getByName(&quot;127.0.0.1&quot;);</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;主机名: &quot;</span> <span class="token operator">+</span> address<span class="token punctuation">.</span><span class="token function">getHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 主机名: DESKTOP-K29S1ST</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;IP地址: &quot;</span> <span class="token operator">+</span> address<span class="token punctuation">.</span><span class="token function">getHostAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// IP地址: 127.0.0.1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="端口"><a href="#端口" class="header-anchor">#</a> 端口</h4> <p>端口是设备上应用程序的唯一标识
端口号是用两个字节表示的整数, 它的取值范围是<strong>0~65535</strong>; 其中, <strong>0~1023</strong>之间的端口号用于一些知名的网络服务和应用, 普通的应用程序需要使用<strong>1024以上的端口号</strong>; 如果端口号被另外一个服务或应用所占用, 会导致当前程序启动失败</p> <h4 id="协议"><a href="#协议" class="header-anchor">#</a> 协议</h4> <p>在计算机网络中, 连接和通信的规则被称为网络通信协议, 常用的协议有两种:</p> <h5 id="udp协议"><a href="#udp协议" class="header-anchor">#</a> UDP协议</h5> <p>用户数据报协议(User Datagram Protocol)UDP是无连接通信协议, 即在数据传输时, 数据的发送端和接收端不建立逻辑连接, 就是说发送端不会确认接收端是否存在, 就会发出数据, 同样接收端在收到数据时, 也不会向发送端反馈是否收到数据。由于使用UDP协议消耗资源小, 通信效率高, 所以通常都会用于音频、视频和普通数据的传输, 但是在使用UDP协议传送数据时, 由于UDP的面向无连接性, 不能保证数据的完整性, 因此在传输重要数据时不建议使用UDP协议</p> <h5 id="tcp协议"><a href="#tcp协议" class="header-anchor">#</a> TCP协议</h5> <p>传输控制协议(Transmission Control Protocol)TCP协议是<strong>面向连接</strong>的通信协议, 即传输数据之前, 在发送端和接收端建立逻辑连接, 然后再传输数据, 它提供了两台计算机之间<strong>可靠无差错的数据传输</strong>。在TCP连接中必须要明确客户端与服务器端, 由客户端向服务端发出连接请求, 每次连接的创建都需要经过“三次握手”</p> <p>三次握手: TCP协议中, 在发送数据的准备阶段, 客户端与服务器之间的三次交互, 以保证连接的可靠</p> <ul><li>第一次握手, 客户端向服务器端发出连接请求, 等待服务器确认</li> <li>第二次握手, 服务器端向客户端回送一个响应, 通知客户端收到了连接请求</li> <li>第三次握手, 客户端再次向服务器端发送确认信息, 确认连接</li></ul> <p>由于这种面向连接的特性, TCP协议可以保证传输数据的安全, 所以应用十分广泛。例如上传文件、下载文件、浏览网页等</p> <h3 id="udp协议的使用"><a href="#udp协议的使用" class="header-anchor">#</a> UDP协议的使用</h3> <p>UDP协议是一种不可靠的网络协议, 它在通信的两端各建立一个Socket对象, 但是这两个Socket只是发送, 接收数据的对象因此对于基于UDP协议的通信双方而言, 没有所谓的客户端和服务器的概念
Java提供了DatagramSocket类作为基于UDP协议的Socket</p> <p><strong>UDP发送数据:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建发送端的Socket对象</span>
<span class="token comment">// DatagramSocket() 构造一个数据报套接字并将其绑定到本地主机上的任何可用端口</span>
<span class="token class-name">DatagramSocket</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建数据并打包</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bs <span class="token operator">=</span> <span class="token string">&quot;hello world UDP 数据&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// byte数据</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> bs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 长度</span>
<span class="token class-name">InetAddress</span> address <span class="token operator">=</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 地址</span>
<span class="token keyword">int</span> port <span class="token operator">=</span> <span class="token number">8080</span><span class="token punctuation">;</span> <span class="token comment">// 端口</span>

<span class="token comment">// DatagramPacket(byte[] buf, int length, InetAddress address, int port):</span>
<span class="token comment">// 构造一个数据报包, 用于将长度为 length的数据包发送到指定主机上的指定端口号</span>
<span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> len<span class="token punctuation">,</span> address<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送数据</span>
<span class="token comment">// void send(DatagramPacket p) 从此套接字发送数据报包</span>
ds<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 关闭发送端</span>
<span class="token comment">// void close() 关闭此数据报套接字</span>
ds<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>UDP接受数据:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 发送端</span>
<span class="token comment">// DatagramSocket(int port) 构造一个数据报套接字并将其绑定到本地主机上的指定端口</span>
<span class="token class-name">DatagramSocket</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// DatagramPacket(byte[] buf, int length) 从此套接字接收数据报包</span>
<span class="token comment">// 构造 DatagramPacket用于接收长度为 length数据包</span>
<span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> bs<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 接收数据</span>
<span class="token comment">// void receive(DatagramPacket p):</span>
ds<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 解析数据包</span>
<span class="token comment">// byte[] getData() 返回数据缓冲区</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> datas <span class="token operator">=</span> dp<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// int getLength(): 返回要发送的数据的长度或接收的数据的长度</span>
<span class="token keyword">int</span> length <span class="token operator">=</span> dp<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>datas<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定长度不然会接受到很多空字节</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;数据是: &quot;</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 数据是: hello world UDP 数据</span>

<span class="token comment">// 关闭接受端</span>
ds<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="tcp协议的使用"><a href="#tcp协议的使用" class="header-anchor">#</a> TCP协议的使用</h3> <p>TCP通信协议是一种可靠的网络协议, 它在通信的两端各建立一个Socket对象, 从而在通信的两端形成网络虚拟链路, 一旦建立了虚拟的网络链路, 两端的程序就可以通过虚拟链路进行通信
Java对基于TCP协议的的网络提供了良好的封装, 使用Socket对象来代表两端的通信端口, 并通过Socket产生IO流来进行网络通</p> <p>Java为客户端提供了Socket类, 为服务器端提供了ServerSocket类</p> <p><strong>TCP发送数据:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建客户端Socket对象</span>
<span class="token comment">// Socket(InetAddress address, int port) 创建流套接字并将其连接到指定IP地址处的指定端口号</span>
<span class="token comment">// Socket socket = new Socket(InetAddress.getByName(&quot;127.0.0.1&quot;), 8080);</span>

<span class="token comment">// Socket(String host, int port) 创建流套接字并将其连接到指定主机上的指定端口号</span>
<span class="token class-name">Socket</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取输出流, 写数据</span>
<span class="token comment">// OutputStream getOutputStream() 返回此套接字的输出流</span>
<span class="token class-name">OutputStream</span> os <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello world TCP数据&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 释放资源</span>
<span class="token comment">// os.close();</span>
<span class="token comment">// 关闭连接, 其关联的资源也会被释放</span>
socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>TCP接收数据:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建服务器端ServerSocket对象</span>
<span class="token comment">// ServerSocket(int port) 创建绑定到指定端口的服务器套接字</span>
<span class="token class-name">ServerSocket</span> ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 先获取Socket对象</span>
<span class="token comment">// Socket accept() 侦听对此套接字的连接并接受它</span>
<span class="token class-name">Socket</span> accept <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 再获取输入流, 读数据</span>
<span class="token comment">// InputStream getInputStream() 返回此套接字的输入流</span>
<span class="token class-name">InputStream</span> is <span class="token operator">=</span> accept<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;数据是: &quot;</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 释放资源</span>
<span class="token comment">// is.close();</span>
<span class="token comment">// 关闭连接, 其关联的资源也会被释放</span>
ss<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="tcp协议的数据互相发送"><a href="#tcp协议的数据互相发送" class="header-anchor">#</a> TCP协议的数据互相发送</h4> <p>**客户端: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 客户端</span>
<span class="token class-name">Socket</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送数据到服务端</span>
<span class="token class-name">OutputStream</span> os <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;客户端数据&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;客户端发送数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 接受服务端反馈</span>
<span class="token class-name">InputStream</span> is <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;客户端: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 跟此对象相关的IO资源也会被释放</span>
s<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>**服务端: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 服务端</span>
<span class="token class-name">ServerSocket</span> ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Socket</span> accept <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 接受客户端数据</span>
<span class="token class-name">InputStream</span> is <span class="token operator">=</span> accept<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;服务端: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 给出反馈</span>
<span class="token class-name">OutputStream</span> os <span class="token operator">=</span> accept<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;服务端反馈&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ss<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="tcp协议上传文件"><a href="#tcp协议上传文件" class="header-anchor">#</a> TCP协议上传文件</h4> <p>因为读数据的方法是阻塞式的所以这里用到了&quot;标记&quot;Socket对象的<code>void shutdownOutput()</code></p> <p>**客户端: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 客户端</span>
<span class="token class-name">Socket</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Socket</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 文件输入流</span>
<span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;jdk-11中文api修订版.CHM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输出流</span>
<span class="token class-name">OutputStream</span> os <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">8094</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> bis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// void shutdownOutput() 禁用此套接字的输出流</span>
<span class="token comment">// 将流标记为&quot;已结束&quot;</span>
s<span class="token punctuation">.</span><span class="token function">shutdownOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输入流</span>
<span class="token class-name">InputStream</span> is <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;客户端: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 可以转换为字符输入流操作</span>
<span class="token comment">// BufferedReader brc = new BufferedReader(new InputStreamReader(is));</span>
<span class="token comment">// System.out.println(&quot;客户端: &quot; + brc.readLine());</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;客户端结束&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>**服务端: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 服务端</span>
<span class="token class-name">ServerSocket</span> ss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerSocket</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Socket</span> accept <span class="token operator">=</span> ss<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 文件输出流</span>
<span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;com\\copy.CHM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输入流</span>
<span class="token class-name">InputStream</span> is <span class="token operator">=</span> accept<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 并写入文件中</span>
    bos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    bos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出流</span>
<span class="token class-name">OutputStream</span> os <span class="token operator">=</span> accept<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;文件上传成功&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 服务器作为输出端也要给定结束标记</span>
accept<span class="token punctuation">.</span><span class="token function">shutdownOutput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 可以转换为字符输出流操作</span>
<span class="token comment">// BufferedWriter bws = new BufferedWriter(new OutputStreamWriter((accept.getOutputStream())));</span>
<span class="token comment">// bws.write(&quot;文件上传成功&quot;);</span>
<span class="token comment">// bws.flush();</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;服务端结束&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="lambda表达式"><a href="#lambda表达式" class="header-anchor">#</a> Lambda表达式</h2> <p>Lambda 表达式(Lambda expression)是一个匿名函数, 基于数学中的λ演算得名, 也可称为闭包(Closure)</p> <p>Lambda 允许把函数作为一个方法的参数(函数作为参数传递进方法中)</p> <p>Lambda 表达式标准语法形式如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda表达式体</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>-&gt;</code>被称为箭头操作符或 Lambda 操作符, 箭头操作符将 Lambda 表达式拆分成两部分：</p> <ul><li>左侧：Lambda 表达式的参数列表</li> <li>右侧：Lambda 表达式中所需执行的功能, 用<code>{ }</code>包起来, 即 Lambda 体</li></ul> <p>以一个多线程方法为例, 三种实现写法如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 1.新建类 实现Runnable接口重写 run方法(省略)</span>


<span class="token comment">// 2.匿名内部类的形式实现Runnable接口的多线程方法</span>
<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;多线程启动了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 3.lambda 表达式实现Runnable接口的多线程方法</span>
<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;多线程启动了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>lambda表达式的特征:</strong></p> <ul><li>可选类型声明：不需要声明参数类型, 编译器可以统一识别参数值</li> <li>可选的参数圆括号：一个参数无需定义圆括号, 但多个参数需要定义圆括号</li> <li>可选的大括号：如果主体包含了一个语句, 就不需要使用大括号</li> <li>可选的返回关键字：如果主体只有一个表达式返回值则编译器会自动返回值, 大括号需要指定表达式返回了一个数值</li></ul> <h3 id="简单例子"><a href="#简单例子" class="header-anchor">#</a> 简单例子</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过局部变量的赋值自动推导</span>
    <span class="token class-name">MyInterface</span> m <span class="token operator">=</span> msg <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">sayMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Lambda表达式 实现 MyInterface 接口&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 通过调用方法的参数自动推导</span>
    <span class="token function">useSayMessage</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token string">&quot;调用方法推导&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 完整写法</span>
    <span class="token class-name">MathOperation</span> add <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 省略参数类型, 省略大括号</span>
    <span class="token class-name">MathOperation</span> sub <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 2 = &quot;</span> <span class="token operator">+</span> <span class="token function">operate</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1 - 2 = &quot;</span> <span class="token operator">+</span> <span class="token function">operate</span><span class="token punctuation">(</span>sub<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 接口1</span>
<span class="token keyword">interface</span> <span class="token class-name">MyInterface</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">sayMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法1</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useSayMessage</span><span class="token punctuation">(</span><span class="token class-name">MyInterface</span> m<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">.</span><span class="token function">sayMessage</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 接口2</span>
<span class="token keyword">interface</span> <span class="token class-name">MathOperation</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法2</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token class-name">MathOperation</span> mo<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> mo<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>使用 Lambda 表达式的注意事项：</p> <ul><li>使用Lambda必须要有接口, 这个接口有且只有一个抽象方法</li> <li>必须要有上下文环境才能推导出Lambda表达式对应的接口, 一般是如下的两种方法:
<ul><li>通过局部变量的赋值推导</li> <li>通过调用方法的参数推导</li></ul></li> <li>Lambda表达式既可以作为参数传递也可以作为返回值被返回</li></ul> <h3 id="lambda和匿名内部类的区别"><a href="#lambda和匿名内部类的区别" class="header-anchor">#</a> Lambda和匿名内部类的区别</h3> <p>所需类型的不同:</p> <ul><li>匿名内部类: 可以是接口, 也可以是抽象类, 还可以是具体类</li> <li>Lambda表达式: <strong>只能是接口</strong></li></ul> <p>使用限制不同:</p> <ul><li>如果接口中有且仅有一个抽象方法, 可以使用Lambda表达式, 也可以使用匿名内部类</li> <li>如果接口中有<strong>多个抽象方法</strong>, 只能使用匿名内部类, 而<strong>不能</strong>使用Lambda表达式</li></ul> <p>实现原理不同:</p> <ul><li>匿名内部类: 编译之后, 产生一个单独的<code>.class</code>字节码文件</li> <li>Lambda表达式: 编译之后, 对应的字节码会在运行的时候<strong>动态生成</strong></li></ul> <h3 id="变量作用域"><a href="#变量作用域" class="header-anchor">#</a> 变量作用域</h3> <p>lambda 表达式对于成员变量的访问与普通方法没有区别, 但是访问局部变量时, 变量必须是<code>final</code>类型的(java8会默认添加<code>final</code>)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">chapter_06</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token comment">// 成员</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 静态成员</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> hi <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;局部变量&quot;</span><span class="token punctuation">;</span>

        <span class="token class-name">Inter</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 可以访问类成员</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
            <span class="token comment">// 可以访问静态成员</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hi<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
            <span class="token comment">// 也可以访问局部变量</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 但是不能修改局部变量的值</span>
            <span class="token comment">// lambda 表达式引用的局部变量相当于是默认 final 修饰的</span>
            <span class="token comment">// s = &quot;我变了&quot;;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        i<span class="token punctuation">.</span><span class="token function">sayMsg1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="方法引用"><a href="#方法引用" class="header-anchor">#</a> 方法引用</h3> <p><code>::</code>符号为引用运算符, 而它所在的表达式被称为方法引用, 方法引用可以理解为 Lambda 表达式的快捷写法, 它可以将已有的方法作为Lambda表达式使用, 但前提是该方法跟Lambda的返回值类型和参数列表是一致的, 方法引用的语法格式如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ObjectRef 是类名或者实例名, methodName 是相应的方法名</span>
<span class="token class-name">ObjectRef</span><span class="token operator">::</span><span class="token function">methodName</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 引用 Demo 类的 add 方法</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 2 = &quot;</span> <span class="token operator">+</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token class-name">Demo</span><span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 引用 Demo 类的 sub 方法</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1 - 2 = &quot;</span> <span class="token operator">+</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token class-name">Demo</span><span class="token operator">::</span><span class="token function">sub</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 接口</span>
<span class="token keyword">interface</span> <span class="token class-name">MathOperation</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token function">operation</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token class-name">MathOperation</span> mo<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> mo<span class="token punctuation">.</span><span class="token function">operation</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>常见的引用方式:</strong></p> <ul><li>引用类方法</li> <li>引用对象的实例方法</li> <li>引用类的构造方法</li> <li>引用构造器</li></ul> <h4 id="引用类方法"><a href="#引用类方法" class="header-anchor">#</a> 引用类方法</h4> <p>引用类方法就是引用类的静态方法, 格式: <code>类名::静态方法</code>上面的例子就是引用类方法</p> <h4 id="引用对象的实例方法"><a href="#引用对象的实例方法" class="header-anchor">#</a> 引用对象的实例方法</h4> <p>引用对象的实例方法, 就是引用类中的成员方法, 格式: <code>对象:成员方法</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建类实例</span>
    <span class="token class-name">Demo</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 引用类的成员方法</span>
    <span class="token class-name">MyInter</span> m <span class="token operator">=</span> d<span class="token operator">::</span><span class="token function">show</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&quot;引用 d.show &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 引用 d.show </span>
<span class="token punctuation">}</span>

<span class="token comment">// 接口</span>
<span class="token keyword">interface</span> <span class="token class-name">MyInter</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="引用类的实例方法"><a href="#引用类的实例方法" class="header-anchor">#</a> 引用类的实例方法</h4> <p>引用类的实例方法, 就是引用类在宏的成员方法, 格式: <code>类名::成员方法</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">useSubstring1</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// llo</span>

    <span class="token comment">// 方法引用在引用类的实例方法时, 第一个参数是调用者, 后面的参数都会传递给这个调用者</span>
    <span class="token function">useSubstring1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">substring</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// llo</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 这个Lambda表达式就是对应 useSubstring2方法 的 MyString m 参数</span>
    <span class="token comment">// Lambda表达式的参数列表 str, x, y 对应后面的 &quot;hello&quot;, 2, 5</span>
    <span class="token function">useSubstring2</span><span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// llo</span>

    <span class="token comment">// 直接引用 String类的substring方法</span>
    <span class="token function">useSubstring2</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">substring</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// llo</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">MyString</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">mySubstring</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 第一个写法</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useSubstring1</span><span class="token punctuation">(</span><span class="token class-name">MyString</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">mySubstring</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 方法的调用参数写死</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 第二个写法</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">useSubstring2</span><span class="token punctuation">(</span><span class="token class-name">MyString</span> m<span class="token punctuation">,</span> <span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">mySubstring</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 方法的调用通过参数传递</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="引用构造器"><a href="#引用构造器" class="header-anchor">#</a> 引用构造器</h4> <p>引用构造器, 就是引用构造方法, 格式: <code>类名::new</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda表达式代表 createStudent 方法的 Inter i 参数就是对应 Inter 接口的 buid 方法</span>
    <span class="token class-name">Student</span> zs <span class="token operator">=</span> <span class="token function">createStudent</span><span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 直接引用 Student 类构造方法</span>
    <span class="token class-name">Student</span> ls <span class="token operator">=</span> <span class="token function">createStudent</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zs<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Student{name='张三', age=18}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ls<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Student{name='李四', age=28}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 接口</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
    <span class="token class-name">Student</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">String</span> nane<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Student</span> <span class="token function">createStudent</span><span class="token punctuation">(</span><span class="token class-name">Inter</span> i<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> i<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="函数式接口-2"><a href="#函数式接口-2" class="header-anchor">#</a> 函数式接口</h3> <p>函数式接口就是有且只有一个抽象方法的接口, 正好对应了Lambda表达式, 这种接口只能有一个抽象方法; 如果接口中声明多个抽象方法, 对其使用 Lambda 表达式会发生编译错误：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">The</span> target type of <span class="token keyword">this</span> expression must be a functional <span class="token keyword">interface</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这说明该接口不是函数式接口, 为了防止在函数式接口中声明多个抽象方法, Java8 提供了一个声明函数式接口注解<code>@FunctionalInterface</code>, 示例代码如下</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在接口之前使用<code>@FunctionalInterface</code>注解修饰, 那么试图增加超过一个抽象方法时会发生编译错误, 但可以添加默认方法和静态方法</p> <h4 id="函数式接口作为返回值返回"><a href="#函数式接口作为返回值返回" class="header-anchor">#</a> 函数式接口作为返回值返回</h4> <p>函数式接口作为方法的参数前面讲过了, 函数式接口作为返回值也是可以的, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ccc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;bbbb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;排序前: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 排序前: [ccc, aa, d, bbbb]</span>
    
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;自然排序后: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 自然排序后: [aa, bbbb, ccc, d]</span>
    
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token function">getComparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;长度排序后: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 长度排序后: [d, aa, ccc, bbbb]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 返回一个 Comparator 接口</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getComparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> s2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="常用的函数式接口"><a href="#常用的函数式接口" class="header-anchor">#</a> 常用的函数式接口</h4> <p>Java8 在java.util.function包下预定义了大量的函数式接口, 常用的函数式接口如下:</p> <ul><li>Supplier接口</li> <li>Consumer接口</li> <li>Predicate接口</li> <li>Function接口</li></ul> <h4 id="supplier接口"><a href="#supplier接口" class="header-anchor">#</a> Supplier接口</h4> <p><code>Supplier&lt;T&gt;</code>包含一个无参的方法<code>T get()</code>该方法不需要参数, 它会按照函数式接口的逻辑返回一个数据, 该接口也被称为<strong>生产型接口</strong>, 即指定泛型是什么类型, 接口中get方法就会产生什么类型的数据, 基本使用如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 张三</span>

    <span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token function">getInteger</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>

<span class="token punctuation">}</span>
<span class="token comment">// 返回一个字符串数据</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sup<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sup<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 返回一个数值数据</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">getInteger</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> sup<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sup<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="consumer接口"><a href="#consumer接口" class="header-anchor">#</a> Consumer接口</h4> <p><code>Consumer&lt;T&gt;</code>接口也被称为<strong>消费型接口</strong>, 它被消费的类型由泛型指定</p> <p><strong>常用方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void accept(T t)</td> <td>对给定的参数执行此操作</td></tr> <tr><td>default Consdimer&lt;T&gt; andThen(Consumer after)</td> <td>返回一个组合的Consumer, 依次执行此操作, 然后执行after操作</td></tr></tbody></table> <p>基本使用如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">operatorString</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> s <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// olleh</span>

    <span class="token comment">// 也可以使用方法引用</span>
    <span class="token function">operatorString</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrStr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;张三,18&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四,28&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五,16&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">operatorString</span><span class="token punctuation">(</span>arrStr<span class="token punctuation">,</span>
            str <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> name <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;姓名: &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            str <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;, 年龄: &quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 打印结果</span>
    <span class="token comment">// 姓名: 张三, 年龄: 18</span>
    <span class="token comment">// 姓名: 李四, 年龄: 28</span>
    <span class="token comment">// 姓名: 王五, 年龄: 16</span>
<span class="token punctuation">}</span>

<span class="token comment">// 消费一次 String 类型的数据</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">operatorString</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> con<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    con<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 消费两次 String 类型的数据</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">operatorString</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrStr<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> con1<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> con2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> arrStr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 先执行 con1 消费第一次, 再执行 con2 消费第二次</span>
        con1<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>con2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h4 id="predicate接口"><a href="#predicate接口" class="header-anchor">#</a> Predicate接口</h4> <p><code>Predicate&lt;T&gt;</code>接口是对参数进行判断是否满足指定的条件, 然后返回一个布尔值的函数式接口</p> <p><strong>常用方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>boolean test(T t)</td> <td>对给定的参数进行判断, 判断逻辑由Lambda表达式实现, 返回一个布尔值</td></tr> <tr><td>default Predicate&lt;T&gt; negate()</td> <td>返回一个组合判断, 对应短路的逻辑非(<code>!</code>)</td></tr> <tr><td>default Predicate&lt;T&gt; and(Predicate other)</td> <td>返回一个组合判断, 对应短路的逻辑与(<code>&amp;</code>)</td></tr> <tr><td>default Predicate&lt;T&gt; or(Predicate other)</td> <td>返回一个组合判断, 对应短路的逻辑或(<code>||</code>)</td></tr></tbody></table> <p><code>test()</code>和<code>negate()</code>的基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda 表达式单独拿出来</span>
    <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre <span class="token operator">=</span> s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 操作的字符串</span>
    <span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> b1 <span class="token operator">=</span> <span class="token function">checkString1</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

    <span class="token keyword">boolean</span> b2 <span class="token operator">=</span> <span class="token function">checkString1</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> b3 <span class="token operator">=</span> <span class="token function">checkString2</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

    <span class="token keyword">boolean</span> b4 <span class="token operator">=</span> <span class="token function">checkString2</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> pre<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token punctuation">}</span>

<span class="token comment">// 判断字符串是否符合条件</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">checkString1</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// boolean test(T t)</span>
    <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 判断字符串是否符合条件</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">checkString2</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// default Predicate&lt;T&gt; negate()</span>
    <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">negate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 等价于 !pre.test(str); 注意这里有取反</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p><code>and()</code>和<code>or()</code>的基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Lambda 表达式单独拿出来</span>
    <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre1 <span class="token operator">=</span> s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre2 <span class="token operator">=</span> s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">15</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 操作的字符串</span>
    <span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> b1 <span class="token operator">=</span> <span class="token function">checkString1</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> pre1<span class="token punctuation">,</span> pre2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

    <span class="token keyword">boolean</span> b2 <span class="token operator">=</span> <span class="token function">checkString1</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> pre1<span class="token punctuation">,</span> pre2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> b3 <span class="token operator">=</span> <span class="token function">checkString2</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> pre1<span class="token punctuation">,</span> pre2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

    <span class="token keyword">boolean</span> b4 <span class="token operator">=</span> <span class="token function">checkString2</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> pre1<span class="token punctuation">,</span> pre2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用两个Lambda表达式, 对一个字符串做逻辑与操作</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">checkString1</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre1<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// boolean b1 = pre1.test(str);</span>
    <span class="token comment">// boolean b2 = pre2.test(str);</span>
    <span class="token comment">// return b1 &amp;&amp; b2; // 这里是与运算</span>

    <span class="token comment">// 等价于上面的三行代码</span>
    <span class="token comment">// default Predicate&lt;T&gt; and(Predicate other)</span>
    <span class="token keyword">return</span> pre1<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>pre2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用两个Lambda表达式, 对一个字符串做逻辑或操作</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">checkString2</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre1<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> pre2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// boolean b1 = pre1.test(str);</span>
    <span class="token comment">// boolean b2 = pre2.test(str);</span>
    <span class="token comment">// return b1 || b2; // 这里是或运算 </span>

    <span class="token comment">// 等价于上面的三行代码 </span>
    <span class="token comment">// default Predicate&lt;T&gt; or(Predicate other)</span>
    <span class="token keyword">return</span> pre1<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span>pre2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h4 id="function接口"><a href="#function接口" class="header-anchor">#</a> Function接口</h4> <p><code>Function&lt;T, R&gt;</code>接口通常用于对参数进行处理, 转换(处理逻辑有Lambda表达式实现), 然后返回一个新的值</p> <ul><li>T-函数输入的类型</li> <li>R-函数结果的类型</li></ul> <p><strong>常用方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>R apply(T t)</td> <td>将此函数应用于给定的参数</td></tr> <tr><td>default &lt;V&gt; Function andThen(Function after)</td> <td>返回一个组合函数, 首先将Function函数应用于输入, 然后将after函数应用于结果</td></tr></tbody></table> <p>基本使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span> s <span class="token operator">-&gt;</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>

    <span class="token class-name">Integer</span> i3 <span class="token operator">=</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">&quot;200&quot;</span><span class="token punctuation">,</span>
            <span class="token comment">// 转换为 Integer(方法引用)</span>
            <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">,</span>
            <span class="token comment">// 加上 100</span>
            i <span class="token operator">-&gt;</span> i <span class="token operator">+</span> <span class="token number">100</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 300</span>

<span class="token punctuation">}</span>

<span class="token comment">// 转换一个字符串为整数</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> fun<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> fun<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 转换一个字符串为整数, 再加上一个整数后返回</span>
<span class="token comment">// 注意第二个 Function 的类型是 &lt;Integer, Integer&gt;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> fun1<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> fun2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Integer i1 = fun1.apply(str);</span>
    <span class="token comment">// Integer i2 = fun2.apply(i1);</span>
    <span class="token comment">// return i2;</span>

    <span class="token comment">// 等价于上面三行代码</span>
    <span class="token keyword">return</span> fun1<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>fun2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><code>andThen()</code>方法是可以调用多次的, 有点像链式调用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> s <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
        <span class="token keyword">return</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> s <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// world</span>
        <span class="token keyword">return</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> s <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// java</span>
        <span class="token keyword">return</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> s <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 你好</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span>
        <span class="token class-name">String</span> str<span class="token punctuation">,</span>
        <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fun1<span class="token punctuation">,</span>
        <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fun2<span class="token punctuation">,</span>
        <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fun3<span class="token punctuation">,</span>
        <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fun4
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fun1<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>fun2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>fun3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span>fun4<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="stream"><a href="#stream" class="header-anchor">#</a> Stream</h2> <h3 id="体验stream流"><a href="#体验stream流" class="header-anchor">#</a> 体验Stream流</h3> <p>假设要把一个ArrayList中<strong>姓李的过滤</strong>出来, 再把名字<strong>长度为3的过滤</strong>出来, 然后再<strong>打印</strong>出来, 代码如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;刘备&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;曹操&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;孙权&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李自成&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李广&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李渊&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李世民&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;常规写法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 筛选出李姓名称</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> liList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;李&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            liList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 筛选名字长度等于3的</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> threeList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> liList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            threeList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 循环打印</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> threeList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用 stream流 操作&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 生成流</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;李&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 过滤出李姓</span>
            <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 名字长度等于3</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// forEach + 方法引用</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>结果如下:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>常规写法
李自成
李世民

使用 stream流 操作
李自成
李世民
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>可以看到使用常规写法很麻烦, 而Stream流把真正的函数式编程风格引入到Java中</p> <h3 id="stream流的使用"><a href="#stream流的使用" class="header-anchor">#</a> Stream流的使用</h3> <p>Stream流的使用阶段分为三个阶段, 如下:</p> <ol><li>生成流</li></ol> <p>​	通过数据源(集合, 数组等)使用<code>stream()</code>方法生成流</p> <ol start="2"><li>中间操作</li></ol> <p>​	一个流操作后面可以跟随零个或多个中间操作, 其目的主要是打开流, 做出某种程度的数据过滤或映射, 然后返回一个新的流, 如: <code>filter()</code>, 然后交给下一个中间操作使用(链式调用)</p> <ol start="3"><li>终结操作</li></ol> <p>​	一个流只能有一个终结操作, 当这个操作执行后, 流就被使用“消化”了, 无法再被操作, 所以这必定是流的最后一个操作, 如: <code>forEach()</code></p> <blockquote><p>一个Stream流只能被&quot;消化&quot;一次</p></blockquote> <h3 id="stream流的生成方式"><a href="#stream流的生成方式" class="header-anchor">#</a> Stream流的生成方式</h3> <p>Stream流的常见生成方式:</p> <ul><li>Collection体系的集合可以使用默认方法<code>default Stream&lt;E&gt; stream()</code>生成流</li> <li>Map体系的集合不能直接生成流, 但是可以<strong>间接的生成流</strong></li> <li>数组可以通过Stream接口的静态方法<code>static Stream&lt;T&gt; of(T... values)</code>生成流</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// -------- Collection 体系通过stream()获取 Stream 流</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> listStream <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> setStream <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// -------- Map 间接获取 Stream 流</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取 key 组成的 Stream 流</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keyStream <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取 value 组成的 Stream 流</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> valueStream <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取 key 和 value 组成的 Stream 流</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entryStream <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// -------- 数组通过 Stream.of() 生成 Stream 流</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> chStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>chs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> intStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">StrStream</span> <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="stream常用操作方法"><a href="#stream常用操作方法" class="header-anchor">#</a> Stream常用操作方法</h3> <h4 id="过滤和截取方法"><a href="#过滤和截取方法" class="header-anchor">#</a> 过滤和截取方法</h4> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>Stream&lt;T&gt; filter(Predicate predicate)</td> <td>根据给定的Lambda表达式的值过滤流中元素, 同js数组的<code>filter()</code><br><code>predicate</code>对应了Predicate 接口的<code>boolean test(T t)</code></td></tr> <tr><td>Stream&lt;T&gt; limit(long maxSize)</td> <td>返回由此流的元素组成的流, 截断长度不超过 <code>maxSize</code></td></tr> <tr><td>Stream&lt;T&gt; skip(long n)</td> <td>在丢弃流的第一个n元素后, 返回由此流的其余元素组成的流</td></tr></tbody></table> <p><strong>基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;刘备&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;曹操&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;孙权&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李自成&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李广&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李渊&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;李世民&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;集合的所有元素: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 过滤出来李姓</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;过滤出李姓: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;李&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 截取前3个元素</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;截取前3个元素: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 丢弃前5个元素</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;丢弃前5个元素: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 丢弃前3个, 只要剩下的前2个</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;丢弃前3个, 只要剩下的前2个: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>结果如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>集合的所有元素<span class="token operator">:</span> <span class="token punctuation">[</span>刘备<span class="token punctuation">,</span> 曹操<span class="token punctuation">,</span> 孙权<span class="token punctuation">,</span> 李自成<span class="token punctuation">,</span> 李广<span class="token punctuation">,</span> 李渊<span class="token punctuation">,</span> 李世民<span class="token punctuation">]</span>

过滤出李姓<span class="token operator">:</span> 
李自成
李广
李渊
李世民

截取前<span class="token number">3</span>个元素<span class="token operator">:</span> 
刘备
曹操
孙权

丢弃前<span class="token number">5</span>个元素<span class="token operator">:</span> 
李渊
李世民

丢弃前<span class="token number">3</span>个<span class="token punctuation">,</span> 只要剩下的前<span class="token number">2</span>个<span class="token operator">:</span> 
李自成
李广
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="流的合并和去重方法"><a href="#流的合并和去重方法" class="header-anchor">#</a> 流的合并和去重方法</h4> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static Stream&lt;T&gt; concat(Stream a, Stream b)</td> <td>Stream接口的<strong>静态方法</strong>, 合并a和b两个流为一个流</td></tr> <tr><td>Stream&lt;T&gt; distinct()</td> <td>返回由此流的<strong>不同元素</strong>(根据<code>Object.equals(Object)</code>)组成的流(去重)</td></tr></tbody></table> <p><strong>基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 省略前面的重复代码...</span>
    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;集合的所有元素: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 截取前4个元素组成一个新的流</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 丢弃前2个元素组成一个新的流</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> b <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 组合前面的两个流为一个流, 并去除重复的元素</span>
    <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">StreamDemo04</span><span class="token operator">::</span><span class="token function">myPrint</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">myPrint</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>结果如下:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>集合的所有元素: [刘备, 曹操, 孙权, 李自成, 李广, 李渊, 李世民]
刘备 曹操 孙权 李自成 李广 李渊 李世民 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="排序方法"><a href="#排序方法" class="header-anchor">#</a> 排序方法</h4> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>Stream&lt;T&gt; sorted()</td> <td>返回由此流的元素组成的流, 按照自然顺序排序</td></tr> <tr><td>Stream&lt;T&gt; sorted(Comparator comparator)</td> <td>返回由此流的元素组成的流, 根据提供的 Comparator进行排序</td></tr></tbody></table> <p><strong>基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;dy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ddd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;cc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ca&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;bbbb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;集合的所有元素: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 自然排序</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;自然排序: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">StreamDemo04</span><span class="token operator">::</span><span class="token function">myPrint</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 字符串长度排序</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;字符串长度排序: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> s1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">StreamDemo04</span><span class="token operator">::</span><span class="token function">myPrint</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 字符串长度字母顺序排序</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;字符串长度字母顺序排序: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> ret <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> s2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 长度相同时</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// 按照字母顺序排序</span>
                    ret <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">StreamDemo04</span><span class="token operator">::</span><span class="token function">myPrint</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 使用 Comparator 接口的 comparingInt 和 thenComparing 方法引用</span>
    <span class="token comment">// 和上面是一样的</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;使用 Comparator 接口的 comparingInt 和 thenComparing 方法引用: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">length</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenComparing</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">StreamDemo04</span><span class="token operator">::</span><span class="token function">myPrint</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">myPrint</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>结果如下:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>集合的所有元素: [a, dy, ddd, cc, ca, bbbb, abc]

自然排序: 
a abc bbbb ca cc ddd dy 
    
字符串长度排序: 
bbbb ddd abc dy cc ca a 
    
字符串长度字母顺序排序: 
a ca cc dy abc ddd bbbb 
    
使用 Comparator 接口的 comparingInt 和 thenComparing 方法引用: 
a ca cc dy abc ddd bbbb 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="操作流中的元素和转换流的方法"><a href="#操作流中的元素和转换流的方法" class="header-anchor">#</a> 操作流中的元素和转换流的方法</h4> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>&lt;R&gt; Stream&lt;R&gt; map(Function mapper)</td> <td>返回一个流, 该流包含将给定函数应用于此流的每个元素的结果, 同js的<code>map()</code><br><code>mapper</code>对应了Function接口的<code>R apply(T t)</code></td></tr> <tr><td>IntStream mapToInt(ToIntFunction mapper)</td> <td>返回一个IntStream其中包含将给定函数应用于此流的元素的结果<br><code>IntStream</code>: 表示原始int流 <br><code>mapper</code>对应了TolntFunction接口的<code>int applyAslnt(T value)</code></td></tr></tbody></table> <p>**基本使用: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;30&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;集合的所有元素: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将集合中的元素转换为整形</span>
list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">StreamDemo05</span><span class="token operator">::</span><span class="token function">myPrint</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 会返回一个 IntStream, 该流中有一些常用的方法</span>
<span class="token class-name">IntStream</span> intStream <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// int sum() 返回此流中元素的总和</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;集合中的总和是: &quot;</span> <span class="token operator">+</span> intStream<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// OptionalInt min() 返回描述此流的最小元素的OptionalInt, 如果此流为空, 则返回空可选</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;集合中的最小值是: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAsInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>

<span class="token comment">// OptionalInt max() 返回描述此流的最大元素的OptionalInt, 如果此流为空, 则返回空可选</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;集合中的最大值是: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAsInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>结果如下:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>集合的所有元素: [10, 20, 30]
10 20 30 集合中的总和是: 60
集合中的最小值是: 10
集合中的最大值是: 30
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="stream常用终结方法"><a href="#stream常用终结方法" class="header-anchor">#</a> Stream常用终结方法</h3> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>void forEach(Consumer action)</td> <td>对此流的每个元素执行操作, 对应js数组的<code>forEach()</code><br><code>action</code>对应了Consumer 接口的<code>void accept(T t)</code></td></tr> <tr><td>long count()</td> <td>返回此流中元素的数量</td></tr></tbody></table> <p>**基本使用: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10 20 30</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="stream收集方法"><a href="#stream收集方法" class="header-anchor">#</a> Stream收集方法</h3> <p>对数据使用Stream流的方式操作完毕后, 想把流中的数据收集集合中, 可以使用Stream流的收集方法:</p> <ul><li><strong>&lt;R, A, R&gt;collect(Collector collector)</strong>: 这个收集方法返回一个Collector接口, 这个接口无法直接使用,但是有一个工具类<code>Collectors</code>提供了具体静态收集方法的实现, 常用的方法如下:</li></ul> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static &lt;T&gt; Collector toList()</td> <td>把元素收集到List集合中</td></tr> <tr><td>static &lt;T&gt; Collector toSet()</td> <td>把元素收集到Set集合中</td></tr> <tr><td>static Collector toMap(Function keyMapper,Function valueMapper)</td> <td>把元素收集到Map集合中</td></tr> <tr><td>static Collectors.joining(&quot;,&quot;)</td> <td>把元素使用指定的符号连接, <code>join()</code></td></tr></tbody></table> <p>**基本使用: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;貂蝉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;王昭君&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;西施&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;杨玉环&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 筛选出名字是两个字的</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> s1 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 将其收集到 List 中</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names1 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>names1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [貂蝉, 西施]</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> s2 <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 将其收集到 Set 中</span>
<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names2 <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>names2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [王昭君, 杨玉环]</span>

<span class="token comment">// 使用指定的符号连接</span>
<span class="token class-name">String</span> names3 <span class="token operator">=</span> s2<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>names3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;王昭君,杨玉环&quot;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrStr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;张三,20&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四,16&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五,22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;赵六,24&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 筛选大于18岁的</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> arrStream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>arrStr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 收集到 Map 中</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> newMap <span class="token operator">=</span> arrStream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>
        <span class="token comment">// 姓名作为key</span>
        s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 年龄作为value</span>
        s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>newMap<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {张三=20, 王五=22, 赵六=24}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h2 id="反射"><a href="#反射" class="header-anchor">#</a> 反射</h2> <h3 id="类加载"><a href="#类加载" class="header-anchor">#</a> 类加载</h3> <p>当程序要使用某个类时, 如果该类还未被加载到内存中, 则系统会通过类的加载, 类的连接, 类的初始化这三个步骤来对类进行初始化。如果不出现意外情况, JVM将会连续完成故三个步骤, 所以有时也把这三个步骤统称为类加载或者类初始化</p> <p><strong>类的加载</strong></p> <ul><li>就是指将<strong>class</strong>文件读入内存, 并为之创建一个<code>java.lang.Class</code>对象</li> <li>任何类被使用时, 系统都会为之建立一个<code>java.lang.Class</code>对象</li></ul> <p><strong>类的连接</strong></p> <ul><li><p>验证阶段: 用于检验被加载的类是否有正确的内部结构, 并和其他类协调一致</p></li> <li><p>准备阶段: 负责为类的类变量分配内存, 并设置默认初始化值</p></li> <li><p>解析阶段: 将类的二进制数据中的符号引用替换为直接引用</p></li></ul> <p><strong>类的初始化</strong></p> <ul><li>该阶段, 主要就是对类变量进行初始化</li></ul> <p><strong>类的初始化步骤</strong></p> <ul><li>假如类还未被加载和连接, 则程序先加载并连接该类</li> <li>假如该类的直接父类还未被初始化, 则先初始化其直接父类</li> <li>假如类中有初始化语句, 则系统依次执行这些初始化语句</li></ul> <blockquote><p>注意: 在执行第2个步骤的时候, 系统对直接父类的初始化步骤也遵循初始化步骤1-3</p></blockquote> <p><strong>类的初始化时机</strong></p> <ul><li>创建类的实例</li> <li>调用类的类方法</li> <li>访问类或者接口的类变量, 或者为该类变量赋值</li> <li>使用反射方式来强制创建某个类或接口对应的<code>java.lang.Class</code>对象</li> <li>初始化某个类的子类</li> <li>直接使用<code>java.exe</code>命令来运行某个主类</li></ul> <h4 id="类加载器"><a href="#类加载器" class="header-anchor">#</a> 类加载器</h4> <p>类加载器负责将<code>.class</code>文件加载到内存中, 并为之生成对应的<code>java.lang.Class</code>对象
虽然不用过分关心类加载机制, 但是了解这个机制我们就能更好的理解程序的运行</p> <p><strong>JVM的类加载机制</strong></p> <ul><li>全盘负责: 就是当一个类加载器负责加载某个Class时, 该Class所依赖的和引用的其他Class也将由该类加载器负责载入, 除非<strong>显式</strong>使用另外一个类加载器来载入</li> <li>父类委托: 就是当一个类加载器负责加载某个Class时, 先让父类加载器试图加载该Class, 只有在父类加载器无法加载该类时才尝试从自己的类路径中加载该类</li> <li>缓存机制: 保证所有加载过的Class都会被<strong>缓存</strong>, 当程序需要使用某个Class对象时, 类加载器先从缓存区中搜索该Class, 只有当缓存区中不存在该Class对象时, 系统才会读取该类对应的二进制数据, 并将其转换成Class对象, 存储到缓存区</li></ul> <h4 id="加载器类"><a href="#加载器类" class="header-anchor">#</a> 加载器类</h4> <p>ClassLoader: 该类是一个抽象类是负责加载类的对象</p> <p>Java运行时具有以下内置类加载器：</p> <ul><li><p>Bootstrap class loader: 它是虚拟机的内置类加载器, 通常表示为null , 并且没有父级</p></li> <li><p>Platform class loader: 平台类加载器可以看到所有平台类 , 它们可以用作ClassLoader实例的父ClassLoader 。 平台类包括Java SE平台API, 它们的实现类以及由平台类加载器或其祖先定义的特定于JDK的运行时类</p></li> <li><p>System class loader: 它也称为应用程序类加载器 , 与平台类加载器不同。 系统类加载器通常用于在应用程序类路径, 模块路径和JDK特定工具上定义类。 平台类加载器是系统类加载器的父级或祖先, 所有平台类都是可见的</p></li></ul> <blockquote><p>类加载器的继承关系是: System 的父加载器为 Platform, 而 Platform 的父加载器为 Bootstrap</p></blockquote> <p>ClassLoader类的常用方法:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>static ClassLoader getSystemClassLoader()</td> <td>返回用于委托的系统类加载器</td></tr> <tr><td>ClassLoader getParent()</td> <td>返回用于委托的父类加载器</td></tr></tbody></table> <p><strong>基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ClassLoader</span> c1 <span class="token operator">=</span> <span class="token class-name">ClassLoader</span><span class="token punctuation">.</span><span class="token function">getSystemClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;系统类: &quot;</span> <span class="token operator">+</span> c1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// AppClassLoader</span>

<span class="token class-name">ClassLoader</span> c2 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;平台类(系统类父类): &quot;</span> <span class="token operator">+</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ExtClassLoader</span>

<span class="token class-name">ClassLoader</span> c3 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bootstrap(根类加载器): &quot;</span> <span class="token operator">+</span> c3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="反射概述"><a href="#反射概述" class="header-anchor">#</a> 反射概述</h3> <p>Java的反射机制是指在<strong>运行时</strong>动态的去获取一个类的变量和方法信息, 然后通过获取到的信息来创建对象, 调用方法的一种机制, 由于这种动态性, 可以极大的增强程序的灵活性, 程序不用在编译期就完成确定, 在运行期仍然可以扩展</p> <h3 id="获取class类的对象"><a href="#获取class类的对象" class="header-anchor">#</a> 获取Class类的对象</h3> <p>想要想通过反射去使用一个类, 首先就要获取到该类的字节码文件对象, 也就是类型为<code>Class</code>类型的对象</p> <p>常用的有3种方式获取类对应的Class对象:</p> <ol><li>使用类的<code>.class</code>属性来获取该类对应的Class对象(基本数据也可以使用)</li> <li>调用对象的<code>getClass()</code>方法返回该对象所属类对应的Class对象, 该方法是Object类中的方法, 所有的Java对象都可以调用该方法</li> <li>使用<strong>Class类中的静态方法</strong><code>forName(String className)</code>, <code>className</code>参数就该类的完整路径, 即包名路径, 根据该路径去获取对应的Class对象</li></ol> <p><strong>获取类的基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 通过 .class 获取对应类对象(最简单)</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> c1 <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 通过 getClass() 获取对应的类对象</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 通过 Class.forName() 获取对应的类对象(可以写到配置文件中, 动态加载, 最灵活)</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c3 <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;chapter_04.Student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c1 <span class="token operator">==</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c1 <span class="token operator">==</span> c3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c2 <span class="token operator">==</span> c3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="反射构造方法"><a href="#反射构造方法" class="header-anchor">#</a> 反射构造方法</h3> <p><strong>获取构造函数的方法:</strong></p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>constructors&lt;?&gt;[] getConstructors()</td> <td>返回一个包含构造器对象的数组, 构造器对象反映了此类对象所表示的类的所有<strong>公共</strong>构造函数(<code>public修饰的</code>)</td></tr> <tr><td>Constructor&lt;?&gt;[] getDeclaredConstructors()</td> <td>返回构造器对象的数组, 构造器对象反映由此类对象表示的类声明的<strong>所有</strong>构造函数</td></tr> <tr><td>Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes)</td> <td>返回一个构造器对象, 该对象反映此类对象所表示的类的指定公共构造函数(<code>public修饰的</code>)<br>参数是需要获取的构造方法的参数的个数和数据类型对应的<code>.class</code>字节码文件对象, 如: <code>c.getConstructor(String.class, int.class)</code></td></tr> <tr><td>Constructor&lt;T&gt; getDeclaredConstructor(Class&lt;?&gt;... parameterTypes)</td> <td>返回一个构造器对象, 该对象反映此类对象所表示的类或接口的指定构造函数</td></tr></tbody></table> <p>Constructor对象供有关类的单个构造函数的信息和访问权限, 其用来创建实例对象的方法有:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>T newInstance(Object... initargs)</td> <td>使用此构造器对象表示的构造方法, 使用指定的参数声明该类的新实例</td></tr></tbody></table> <p>**基本使用: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取class对象</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token comment">// getConstructors() 获取Student类所有 public 访问符的构造方法</span>
<span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> cons <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Constructor</span> con <span class="token operator">:</span> cons<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// getDeclaredConstructors() 获取Student类所有的构造方法</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Constructor</span> con <span class="token operator">:</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// getConstructor() 获取Student类的无参构造方法</span>
<span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> con1 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// newInstance() 使用此构造方法声明类的新实例</span>
<span class="token class-name">Student</span> s1 <span class="token operator">=</span> con1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1<span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token string">&quot;广东广州&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// getDeclaredConstructor() 获取Student类的指定参数个数和类型对应的构造方法</span>
<span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> con2 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span> s2 <span class="token operator">=</span> con2<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">&quot;广东深圳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>结果如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">chapter_04<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">chapter_04<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">chapter_04<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">)</span>
<span class="token class-name"><span class="token namespace">chapter_04<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name"><span class="token namespace">chapter_04<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">chapter_04<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token class-name">Student</span><span class="token punctuation">{</span>name<span class="token operator">=</span><span class="token char">'张三'</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token char">'广东广州'</span><span class="token punctuation">}</span>
<span class="token class-name">Student</span><span class="token punctuation">{</span>name<span class="token operator">=</span><span class="token char">'李四'</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> address<span class="token operator">=</span><span class="token char">'广东深圳'</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="反射字段"><a href="#反射字段" class="header-anchor">#</a> 反射字段</h3> <p>对任意的一个<code>Object</code>实例, 只要我们获取了它的<code>Class</code>, 就可以获取它的一切信息</p> <p>获取Object实例的字段(field)信息可以使用如下的方法:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>Field getField(String name)</td> <td>根据字段名获取某个<code>public</code>的字段(包括父类继承)</td></tr> <tr><td>Field getDeclaredField(name)</td> <td>根据字段名获取当前类的某个字段(不包括父类继承)</td></tr> <tr><td>Field[] getFields()</td> <td>获取所有<code>public</code>的字段(包括父类继承)</td></tr> <tr><td>Field[] getDeclaredFields()</td> <td>获取当前类的所有字段(不包括父类继承)</td></tr></tbody></table> <p><strong>Student类的定义:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>基本用法:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;chapter_01.Student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取public字段&quot;name&quot;</span>
<span class="token class-name">Field</span> name <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取private字段&quot;age&quot;</span>
<span class="token class-name">Field</span> age <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取所有的public字段</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> c<span class="token punctuation">.</span><span class="token function">getFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取所有字段</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>一个<code>Field</code>对象包含了一个字段的所有信息, 常用的方法如下:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>String getName()</td> <td>返回字段名称, 例如: <code>name</code></td></tr> <tr><td>class&lt;?&gt; getType()</td> <td>返回字段类型, 也是一个<code>Class</code>实例, 例如, <code>String.class</code></td></tr> <tr><td>int getModifiers()</td> <td>以整数形式返回此字段对象表示的字段的Java语言修饰符</td></tr></tbody></table> <p>**基本使用: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;chapter_01.Student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Field</span> name <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取该字段的名称</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span>
<span class="token comment">// 获取该字段的类型</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// class java.lang.String</span>
<span class="token comment">// 获取该字段的修饰符</span>
<span class="token keyword">int</span> m <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Modifier类提供static方法和常量来解码类和成员访问修饰符</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否是final: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isFinal</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否是public: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isPublic</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否是protected: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isProtected</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否是private: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isPrivate</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否是static: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isStatic</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="获取字段值"><a href="#获取字段值" class="header-anchor">#</a> 获取字段值</h4> <p>利用反射拿到字段的<code>Field</code>实例, 通过该字段对象的<code>Object get(Object obj)</code>还可以拿到其对应的该字段的值, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Student</span> xm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xm<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小明</span>

<span class="token comment">// 获取 name字段</span>
<span class="token class-name">Field</span> name <span class="token operator">=</span> xm<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取 xm对象 中对应 name字段 的值</span>
<span class="token class-name">Object</span> nameValue <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>xm<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nameValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小明</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上面的代码如果<code>name</code>字段是<code>private</code>修饰的话会报<code>IllegalAccessException</code>异常, 这是因为<code>name</code>被定义为一个<code>private</code>字段, 正常情况下, <code>Main</code>类无法访问<code>Person</code>类的<code>private</code>字段。要修复错误, 可以将<code>private</code>改为<code>public</code>, 或者, 在调用<code>name.get(xm);</code>前, 先写一句：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// true 表示反射对象在使用时不检查Java语言访问控制</span>
name<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用反射会破坏对象的封装, 那么类的封装还有什么意义？</p> <p>封装当然是有意义的, 因为反射是一种非常规的用法, 使用反射, 首先代码非常繁琐, 其次, 它更多地是给工具或者底层框架来使用, 目的是在不知道目标实例任何信息的情况下, 获取特定字段的值。</p> <p>此外, <code>setAccessible(true)</code>可能会失败。如果JVM运行期存在<code>SecurityManager</code>(安全管理器), 那么它会根据规则进行检查, 有可能阻止<code>setAccessible(true)</code></p> <h4 id="设置值"><a href="#设置值" class="header-anchor">#</a> 设置值</h4> <p>通过<code>Field</code>实例既然可以获取到指定实例的字段值, 自然也可以设置字段的值</p> <p>设置字段值是通过<code>Field.set(Object, Object)</code>实现的 基本使用如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Student</span> xm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xm<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小明</span>

<span class="token class-name">Field</span> name <span class="token operator">=</span> xm<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用反射无视访问控制符</span>
name<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置 xm对象 中对应 name字段 的值</span>
name<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>xm<span class="token punctuation">,</span> <span class="token string">&quot;小红&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xm<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 小红</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>注意: 修改和访问一样都需要先调用<code>setAccessible(true)</code></p></blockquote> <h3 id="反射方法"><a href="#反射方法" class="header-anchor">#</a> 反射方法</h3> <p>能通过<code>Class</code>实例获取所有<code>Field</code>对象, 同样的就可以通过<code>Class</code>实例获取所有<code>Method</code>信息<code>Class</code>类提供了以下几个方法来获取<code>Method</code>:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>Method getMethod(String name, Class... parameterTypes)</td> <td>获取某个<code>public</code>的Method(包括父类继承)</td></tr> <tr><td>Method getDeclaredMethod(String  name, Class... parameterTypes)</td> <td>获取当前类的某个Method(不包括父类继承)</td></tr> <tr><td>Method[] getMethods()</td> <td>获取所有<code>public</code>的Method(包括父类继承)</td></tr> <tr><td>Method[] getDeclaredMethods()</td> <td>获取当前类的所有Method(不包括父类继承)</td></tr></tbody></table> <p>**Person类和Student类的的定义: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Person&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Student类继承Person类</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>**基本使用: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 注意这里是Student类</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token comment">// 获取public方法&quot;getString&quot;, 参数为 String</span>
<span class="token class-name">Method</span> getString <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getString&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>getString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取继承的public方法&quot;getName&quot;, 没有参数</span>
<span class="token class-name">Method</span> getName <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>getName<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取private方法&quot;getInt&quot;, 参数为 int</span>
<span class="token class-name">Method</span> getInt <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getInt&quot;</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>getInt<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>结果如下:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> <span class="token class-name"><span class="token namespace">chapter_01<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> <span class="token class-name"><span class="token namespace">chapter_01<span class="token punctuation">.</span></span>Person</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name"><span class="token namespace">chapter_01<span class="token punctuation">.</span></span>Student</span><span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>一个<code>Method</code>对象包含一个方法的所有信息, 常用的方法如下:</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>String getName()</td> <td>返回方法名称, 例如: <code>name</code></td></tr> <tr><td>Class&lt;?&gt;getReturnType()</td> <td>返回方法返回值类型, 是一个Class实例, 例如:<code>String.class</code></td></tr> <tr><td>Class&lt;?&gt;[] getParameterTypes()</td> <td>返回方法的参数类型, 是一个Class数组, 例如:<code>{String.class, int.class}</code></td></tr> <tr><td>int getModifiers()</td> <td>以整数形式返回此字段对象表示的字段的Java语言修饰符</td></tr></tbody></table> <h4 id="调用方法"><a href="#调用方法" class="header-anchor">#</a> 调用方法</h4> <p>当获取到一个<code>Method</code>对象时, 就可以对它进行调用, 以下面的代码为例:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> r <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;world&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用反射来调用<code>substring</code>方法, 代码如下：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token comment">// 字符串对象</span>
<span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 获取 String substring(int beginIndex) 方法</span>
<span class="token class-name">Method</span> substring <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;substring&quot;</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Object invoke(Object obj, Object... args) 在具有指定参数的指定对象上调用此 方法对象表示的基础方法 </span>
<span class="token comment">// invoke()方法可以调用 Method对象对应的方法把操作对象和参数传入</span>
<span class="token class-name">String</span> invoke <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>substring<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>invoke<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// world</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>注意点</p> <ul><li><p><code>substring()</code>有两个重载方法, 需要获取的是<code>String substring(int beginIndex)</code>这个方法</p></li> <li><p>对<code>Method</code>实例调用<code>invoke()</code>方法就相当于调用该方法, 第一个参数是对象实例, 即在哪个实例上调用该方法, 后面的可变参数要与方法参数一致, 否则将报错</p></li></ul> <h4 id="调用静态方法"><a href="#调用静态方法" class="header-anchor">#</a> 调用静态方法</h4> <p>如果获取到的<code>Method</code>表示一个静态方法, 调用静态方法时, 由于无需指定实例对象, 所以<code>invoke()</code>方法传入的第一个参数永远为<code>null</code>。以<code>Integer.parseInt(String)</code>为例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token class-name">Method</span> parseInt <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;parseInt&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用静态方法, invoke()方法的第一个参数始终为null</span>
<span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>parseInt<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;999&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 999</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="调用非public方法"><a href="#调用非public方法" class="header-anchor">#</a> 调用非public方法</h4> <p>和<code>Field</code>类似, 对于<code>非public</code>方法, 虽然可以通过<code>Class.getDeclaredMethod()</code>获取该方法实例, 但直接对其调用将得到一个<code>IllegalAccessException</code>。为了调用<code>非public</code>方法, 通过<code>Method.setAccessible(true)</code>允许其调用代码如下:</p> <p><strong>Person类</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Person&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>使用代码:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token class-name">Method</span> getName <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用反射无视访问控制符</span>
getName<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>getName<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Person</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="反射多态"><a href="#反射多态" class="header-anchor">#</a> 反射多态</h4> <p>一个<code>Person</code>类定义了<code>hello()</code>方法, 并且它的子类<code>Student</code>也覆写了<code>hello()</code>方法, 那么, 从<code>Person.class</code>获取的<code>Method</code>, 作用于<code>Student</code>实例时, 调用的方法到底是哪个？</p> <p>**类的定义: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Person:hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Student:hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>基本使用:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取Person的hello方法:</span>
<span class="token class-name">Method</span> h <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 对Student实例调用hello方法:</span>
h<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Student:hello</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用反射调用方法时, 仍然遵循多态原则：即总是调用实际类型的覆写方法(如果存在), 上述的反射代码实际上相当于:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="使用反射可以越过泛型"><a href="#使用反射可以越过泛型" class="header-anchor">#</a> 使用反射可以越过泛型</h4> <p>利用反射获取的原始对象方法接受参数是<code>Object</code>的特点来越过泛型检查</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 注意这个 ArrayList 的泛型是 Integer</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ArrayList</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取到的 add方法是接受Object参数</span>
<span class="token class-name">Method</span> m <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加String参数</span>
m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加Integer参数</span>
m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [hello, world, java, 1, 2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>不推荐在开发中这样做</p></blockquote> <h3 id="反射获取继承关系"><a href="#反射获取继承关系" class="header-anchor">#</a> 反射获取继承关系</h3> <h4 id="获取父类的class"><a href="#获取父类的class" class="header-anchor">#</a> 获取父类的Class</h4> <p>除了获取<code>Class</code>实例, 我们还可以获取它的父类的<code>Class</code>, 使用<code>Class getSuperclass()</code>方法获取其父类, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Class</span> i <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token comment">// 获取Integer的父类</span>
<span class="token class-name">Class</span> n <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Integer的父类为: &quot;</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Class</span> o <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Number的父类为: &quot;</span> <span class="token operator">+</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Object的父类为: &quot;</span> <span class="token operator">+</span> o<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>结果如下:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span>的父类为<span class="token operator">:</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Number</span>
<span class="token class-name">Number</span>的父类为<span class="token operator">:</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span>
<span class="token class-name">Object</span>的父类为<span class="token operator">:</span> <span class="token keyword">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="获取interface"><a href="#获取interface" class="header-anchor">#</a> 获取interface</h4> <p>由于一个类可能实现一个或多个接口, 通过<code>Class</code>的<code>Class[] getInterfaces()</code>方法就可以查询到实现的接口类型, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Class</span> s <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token comment">// 查询Integer实现的接口</span>
<span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> is <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 循环输出</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Class</span> i <span class="token operator">:</span> is<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>注意:</p> <ul><li><code>getInterfaces()</code>只返回当前类直接实现的接口类型, 并<strong>不包括其父类实现的接口类型</strong></li> <li>如果一个类没有实现任何<code>interface</code>, 那么<code>getInterfaces()</code>返回空数组</li></ul> <p>此外, 对所有<code>interface</code>的<code>Class</code>调用<code>getSuperclass()</code>返回的是<code>null</code>, 获取接口的父接口要用<code>getInterfaces()</code>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>FileReader</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// class java.io.InputStreamReader</span>
<span class="token comment">// 对接口调用getSuperclass()总是返回null</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
<span class="token comment">// 获取父接口</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// class [Ljava.lang.Class;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="继承关系"><a href="#继承关系" class="header-anchor">#</a> 继承关系</h4> <p>当需要判断一个实例是否是某个类型时, 正常情况下, 使用<code>instanceof</code>操作符：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Object</span> n <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> isDouble <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Double</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">boolean</span> isInteger <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Integer</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">boolean</span> isNumber <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">boolean</span> isSerializable <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果是两个<code>Class</code>实例, 要判断一个向上转型是否成立, 可以调用<code>isAssignableFrom()</code>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Integer 能否转换为 Integer</span>
<span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// Number 能否转换为 Integer</span>
<span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// Object 能否转换为 Integer</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// Integer 能否转换为 Number</span>
<span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="动态代理"><a href="#动态代理" class="header-anchor">#</a> 动态代理</h3> <p>在Java中<code>class</code>和<code>interface</code>的区别：</p> <ul><li>可以实例化<code>class</code>(非<code>abstract</code>)</li> <li>不能实例化<code>interface</code></li></ul> <p>所有<code>interface</code>类型的变量总是通过某个实例向上转型并赋值给接口类型变量的：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">CharSequence</span> cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>有没有可能不编写实现类, 直接在运行期创建某个<code>interface</code>的实例呢？</p> <p>这是可能的, 因为Java标准库提供了一种动态代理(Dynamic Proxy)的机制：可以在运行期动态创建某个<code>interface</code>的实例</p> <p>要了解动态代理先来看看静态代码怎么写:</p> <p><strong>定义接口:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>编写实现类:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloImpl</span> <span class="token keyword">implements</span> <span class="token class-name">Hello</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>**创建实例, 转型为接口并调用: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 实现类</span>
<span class="token class-name">Hello</span> h1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
h1<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&quot;hello1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello1</span>

<span class="token comment">// 匿名内部类</span>
<span class="token class-name">Hello</span> h2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
h2<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&quot;hello2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>这种方式就是通常编写代码的方式, 也叫<strong>静态代码</strong></p> <p>还有一种方式是动态代码, 仍然先定义接口, 但是并不去编写实现类, 而是直接通过JDK提供的一个<code>Proxy.newProxyInstance()</code>方法来创建接口对象</p> <p>这种没有实现类但是在运行期动态创建了一个接口对象的方式, 称为<strong>动态代码</strong></p> <p>JDK提供的动态创建接口对象的方式, 就叫<strong>动态代理</strong>, 实现如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">InvocationHandler</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 重写 invoke 方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 方法对象</span>

        <span class="token comment">// 这里不能直接打印类会报错</span>
        <span class="token comment">// System.out.println(proxy);</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 根据方法名执行不同的操作</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;sayHi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 生成代理实例并转型为指定的接口</span>
<span class="token class-name">Hello</span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Hello</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>
        <span class="token class-name">Hello</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 传入ClassLoader</span>
        <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">Hello</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 传入要实现的接口</span>
        handler<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传入处理调用方法的InvocationHandler</span>
hello<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>在运行期动态创建一个<code>interface</code>实例的方法如下步骤：</p> <ol><li>定义一个<code>InvocationHandler</code>实例, 它负责实现接口的方法调用</li> <li>通过<code>Proxy.newProxyInstance()</code>创建<code>interface</code>实例, 它需要3个参数：
<ol><li>使用的<code>ClassLoader</code>, 通常就是接口类的<code>ClassLoader</code></li> <li>需要实现的接口数组, 至少需要传入一个接口进去</li> <li>用来处理接口方法调用的<code>InvocationHandler</code>实例</li></ol></li> <li>将返回的<code>Object</code>强制转型为接口</li></ol> <p>动态代理实际上是JVM在运行期动态创建class字节码并加载的过程, 它并没有什么黑魔法</p> <h2 id="注解"><a href="#注解" class="header-anchor">#</a> 注解</h2> <p><code>注解</code>(<strong>Annotation</strong>)是Java程序的一种特殊“注释”, 是放在Java源码的类、方法、字段、参数前的一种特殊“注释”</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Inject</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostConstruct</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>注释会被编译器直接忽略, 注解则可以被编译器打包进入class文件, 因此, 注解是一种用作标注的“元数据”</p> <h3 id="注解的作用"><a href="#注解的作用" class="header-anchor">#</a> 注解的作用</h3> <p>注解本身对代码逻辑没有任何影响, 如何使用注解完全由工具决定, Java注解可分为三类</p> <p>第一类是由编译器使用的注解, 例如：</p> <ul><li><code>@Override</code>：让编译器检查该方法是否正确地实现了覆写</li> <li><code>@SuppressWarnings</code>：告诉编译器忽略此处代码产生的警告</li></ul> <p>这类注解不会被编译进入<code>.class</code>文件, 它们在编译后就被编译器扔掉了</p> <p>第二类是由工具处理<code>.class</code>文件使用的注解, 比如有些工具会在加载class的时候, 对class做动态修改, 实现一些特殊的功能。这类注解会被编译进入<code>.class</code>文件, 但加载结束后并不会存在于内存中。这类注解只被一些底层库使用, 一般我们不必自己处理</p> <p>第三类是在程序运行期能够读取的注解, 它们在加载后一直存在于JVM中, 这也是最常用的注解。例如, 一个配置了<code>@PostConstruct</code>的方法会在调用构造方法后自动被调用(这是Java代码读取该注解实现的功能, JVM并不会识别该注解)</p> <h2 id="模块化"><a href="#模块化" class="header-anchor">#</a> 模块化</h2> <p>不同模块下的类是不可以互相访问的的, java9开始提供了模块化的能力</p> <p>在需要暴露的对应包下新建<code>module-info.java</code>文件, 使用<code>exports 包名</code>指定需要暴露的包, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">module</span> <span class="token namespace">learn<span class="token punctuation">.</span>java</span> <span class="token punctuation">{</span>
    <span class="token comment">// 暴露这个包</span>
    <span class="token keyword">exports</span> <span class="token namespace">org<span class="token punctuation">.</span>example<span class="token punctuation">.</span>org</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在需要引入其他模块的文件下也是新建<code>module-info.java</code>, 使用<code>requires 模块名</code>引入模块, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">module</span> <span class="token namespace">myTwo</span> <span class="token punctuation">{</span>
    <span class="token keyword">requires</span> <span class="token namespace">myOne</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="模块服务"><a href="#模块服务" class="header-anchor">#</a> 模块服务</h3> <h2 id="maven"><a href="#maven" class="header-anchor">#</a> maven</h2> <p><a href="https://mvnrepository.com/" target="_blank" rel="noopener noreferrer">Maven<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一个Java项目管理和构建工具, 它可以定义项目结构、项目依赖, 并使用统一的方式进行自动化构建, 是Java项目不可缺少的工具</p> <p>Maven就是是专门为Java项目打造的管理和构建工具, 它的主要功能有：</p> <ul><li>提供了一套标准化的项目结构</li> <li>提供了一套标准化的构建流程(编译, 测试, 打包, 发布……)</li> <li>提供了一套依赖管理机制</li></ul> <h3 id="maven项目结构"><a href="#maven项目结构" class="header-anchor">#</a> Maven项目结构</h3> <p>一个使用Maven管理的普通的Java项目, 它的目录结构默认如下</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>maven<span class="token operator">-</span>project <span class="token comment">// 项目名</span>
├── pom<span class="token punctuation">.</span>xml <span class="token comment">// 项目描述文件</span>
├── src
│   ├── main
│   │   ├── java <span class="token comment">// 存放Java源码</span>
│   │   └── resources <span class="token comment">// 存放资源文件</span>
│   └── test
│       ├── java <span class="token comment">// 存放测试源码</span>
│       └── resources <span class="token comment">// 存放测试资源</span>
└── target <span class="token comment">// 存放编译, 打包生成的文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这些就是一个Maven项目的标准目录结构, 这些目录结构都是约定好的标准结构, 一般不要随意修改目录结构</p> <p>使用标准结构不需要做任何配置, Maven就可以正常使用</p> <h4 id="pom-xml"><a href="#pom-xml" class="header-anchor">#</a> pom.xml</h4> <p>项目描述文件<code>pom.xml</code>是最关键的一个文件, 它的内容大致如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
  	<span class="token comment">&lt;!-- groupId类似于Java的包名, 通常是公司或组织名 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.itranswarp.learnjava<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  	<span class="token comment">&lt;!-- artifactId类似于Java的类名, 通常是项目名称 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  	<span class="token comment">&lt;!-- version是版本 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

  	<span class="token comment">&lt;!-- dependencies里写第三方库的引用  --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 引用commons-logging --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 引用xxx --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>一个Maven工程就是由<code>groupId</code>, <code>artifactId</code>和<code>version</code>作为唯一标识, 在引用其他第三方库的时候, 也是通过这3个变量确定</p> <h3 id="安装maven"><a href="#安装maven" class="header-anchor">#</a> 安装Maven</h3> <p>要安装Maven, 可以到<a href="https://maven.apache.org/download.cgi#files" target="_blank" rel="noopener noreferrer">Maven<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>下载, 然后在本地解压, 设置几个环境变量:</p> <p>添加环境变量<code>M2_HOME</code>, 值本地的解压目录, 如: <code>C:\Program Files\apache-maven-3.3.9</code></p> <p>在<code>PATH</code>环境变量中添加一个<code>%MAVEN_HOME%\bin</code></p> <p>然后命令行输入<code>mvn -v</code>可以看到Maven的版本信息</p> <h4 id="依赖管理"><a href="#依赖管理" class="header-anchor">#</a> 依赖管理</h4> <p>当我们声明其他的依赖时, Maven会自动把这个jar包和其相关依赖的jar包都自动加入到项目中, 不需要我们自己去研究</p> <h3 id="依赖关系"><a href="#依赖关系" class="header-anchor">#</a> 依赖关系</h3> <p>Maven定义了几种依赖关系, 分别是<code>compile</code>,<code>test</code>,<code>runtime</code>和<code>provided</code></p> <table><thead><tr><th style="text-align:left;">scope</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">示例</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>compile</code></td> <td style="text-align:left;">编译时需要用到该jar包(默认)</td> <td style="text-align:left;">commons-logging</td></tr> <tr><td style="text-align:left;"><code>test</code></td> <td style="text-align:left;">编译Test时需要用到该jar包</td> <td style="text-align:left;">junit</td></tr> <tr><td style="text-align:left;"><code>runtime</code></td> <td style="text-align:left;">编译时不需要, 但运行时需要用到</td> <td style="text-align:left;">mysql</td></tr> <tr><td style="text-align:left;"><code>provided</code></td> <td style="text-align:left;">编译时需要用到, 但运行时由JDK或某个服务器提供</td> <td style="text-align:left;">servlet-api</td></tr></tbody></table> <p>其中, 默认的<code>compile</code>是最常用的, Maven会把这种类型的依赖直接放入<code>classpath</code></p> <p><code>test</code>依赖表示仅在测试时使用, 正常运行时并不需要, 最常用的<code>test</code>依赖就是<code>JUnit</code>:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 依赖关系指定为 test --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>runtime</code>依赖表示编译时不需要, 但运行时需要。最典型的<code>runtime</code>依赖是JDBC驱动, 例如MySQL驱动：</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.48<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 依赖关系指定为 runtime --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>provided</code>依赖表示编译时需要, 但运行时不需要。最典型的<code>provided</code>依赖是Servlet API, 编译的时候需要, 但是运行时, Servlet服务器内置了相关的jar, 所以运行期不需要：</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>dependency&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 依赖关系指定为 provided --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>注意: 引入的依赖需要放到<code>&lt;dependencies&gt;...&lt;/dependencies&gt;</code>中</p> <p>Maven如何知道从何处下载所需的依赖？也就是相关的jar包？答案是Maven维护了一个中央仓库(<a href="https://repo1.maven.org/" target="_blank" rel="noopener noreferrer">repo1.maven.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)所有第三方库将自身的jar以及相关信息上传至中央仓库, Maven就可以从中央仓库把所需依赖下载到本地</p> <p>Maven并不会每次都从中央仓库下载jar包。一个jar包一旦被下载过, 就会被Maven自动缓存在本地目录(用户主目录的<code>.m2</code>目录), 所以, 除了第一次编译时因为下载需要时间会比较慢, 后续过程因为有本地缓存, 并不会重复下载相同的jar包</p> <h3 id="唯一id"><a href="#唯一id" class="header-anchor">#</a> 唯一ID</h3> <p>对于某个依赖, Maven只需要3个变量即可唯一确定某个jar包:</p> <ul><li><strong>groupId</strong>: 属于组织的名称, 类似Java的包名</li> <li><strong>artifactId</strong>: 该jar包自身的名称, 类似Java的类名</li> <li><strong>version</strong>: 该jar包的版本</li></ul> <p>通过上述3个变量, 即可唯一确定某个jar包。Maven通过对jar包进行PGP签名确保任何一个jar包一经发布就无法修改。修改已发布jar包的唯一方法是发布一个新版本, 当某个jar包一旦被Maven下载过, 即可永久地安全缓存在本地</p> <blockquote><p>注：只有以<code>-SNAPSHOT</code>结尾的版本号会被Maven视为开发版本, 开发版本每次都会重复下载, 这种SNAPSHOT版本只能用于内部私有的Maven repo, 公开发布的版本不允许出现SNAPSHOT</p></blockquote> <h3 id="maven镜像"><a href="#maven镜像" class="header-anchor">#</a> Maven镜像</h3> <p>如果访问Maven的中央仓库非常慢，我们可以使用阿里云提供的Maven镜像仓库。使用Maven镜像仓库需要一个配置，在用户主目录下进入<code>Manven本地目录/conf</code>目录, 修改<code>settings.xml</code>配置文件, 配置如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ... --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>aliyun maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 国内推荐阿里云的 Maven镜像 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://maven.aliyun.com/repository/central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">&gt;</span></span>
    // ..
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p><a href="https://search.maven.org/" target="_blank" rel="noopener noreferrer">search.maven.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以快速检索jar包的服务, 并提供多种语言的jar包引入代码示例</p></blockquote> <h2 id="web开发"><a href="#web开发" class="header-anchor">#</a> WEB开发</h2> <h3 id="新建web项目"><a href="#新建web项目" class="header-anchor">#</a> 新建web项目</h3> <p>使用IDEA新建web项目时<code>Archetype</code>选择web模板:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>org.apache.maven.archetypes:maven-archetype-webapp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/note-sites/assets/img/image-20220520114139217.403bf8d8.png" alt="image-20220520114139217"></p> <h3 id="servlet"><a href="#servlet" class="header-anchor">#</a> Servlet</h3> <p>JavaEE提供了<a href="https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html" target="_blank" rel="noopener noreferrer">Servlet API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，我们使用Servlet API编写自己的Servlet来处理HTTP请求，Web服务器实现Servlet API接口, 一个简单的Servlet如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// WebServlet注解表示这是一个Servlet, 并映射到地址/</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> res<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 设置响应类型</span>
        res<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取请求参数 name</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            name <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 获取输出流</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 写入响应</span>
        pw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;hello, &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;!&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 最后不要忘记flush强制输出</span>
        pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>一个Servlet总是继承自<code>HttpServlet</code>，然后覆写<code>doGet()</code>或<code>doPost()</code>方法。注意到<code>doGet()</code>方法传入了<code>HttpServletRequest</code>和<code>HttpServletResponse</code>两个对象，分别代表HTTP请求和响应。我们使用Servlet API时，并不直接与底层TCP交互，也不需要解析HTTP协议，因为<code>HttpServletRequest</code>和<code>HttpServletResponse</code>就已经封装好了请求和响应。以发送响应为例，我们只需要设置正确的响应类型，然后获取<code>PrintWriter</code>，写入响应即可。</p> <p>Servlet API是一个jar包，我们需要通过Maven来引入它:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>运行Maven命令<code>mvn clean package</code>, 在<code>target</code>目录下得到一个<code>hello.war</code>文件, 这个文件就是我们编译打包后的Web应用程序</p> <p>运行这个<code>war</code>文件要找一个支持Servlet API的Web服务器。常用的服务器有：</p> <ul><li><a href="https://tomcat.apache.org/" target="_blank" rel="noopener noreferrer">Tomcat<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：由Apache开发的开源免费服务器</li> <li><a href="https://www.eclipse.org/jetty/" target="_blank" rel="noopener noreferrer">Jetty<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：由Eclipse开发的开源免费服务器</li> <li><a href="https://javaee.github.io/glassfish/" target="_blank" rel="noopener noreferrer">GlassFish<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：一个开源的全功能JavaEE服务器</li></ul> <p>要运行我们的<code>hello.war</code>，首先要<a href="https://tomcat.apache.org/download-90.cgi" target="_blank" rel="noopener noreferrer">下载Tomcat服务器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，解压后，把<code>hello.war</code>复制到Tomcat的<code>webapps</code>目录下，然后切换到<code>bin</code>目录，执行<code>startup.sh</code>或<code>startup.bat</code>启动Tomcat服务器</p> <p>在浏览器输入<code>http://localhost:8080/hello/</code>即可看到<code>HelloServlet</code>的输出</p> <h4 id="本地访问"><a href="#本地访问" class="header-anchor">#</a> 本地访问</h4> <p>在上一节中，我们看到，一个完整的Web应用程序的开发流程如下：</p> <ol><li>编写Servlet</li> <li>打包为war文件</li> <li>复制到Tomcat的webapps目录下</li> <li>启动Tomcat</li></ol> <p>这个过程很繁琐, 一般都不会这么用, 在IDEA中是可以本地部署Tomcat, 如下:</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYsAAABCCAYAAACmcPpDAAAQMElEQVR4nO3de2xb133A8e+9l49LinqQIsU4aNbZbSPHjzxRBJHkWA6yYtsfVuzGA/p35sZZgP2XFW6SxknzGBbsnwGD7bgZsA5b6jysun8kQGq4cmvJ61IEcGVbppHu1cUuRYp6kJL4vvvjihQpiaIkUnzYv88/tqjLw0Pq3Ps753fOuVT69u4zEEIIIVah1rsCQgghGp8ECyGEEGVJsBBCCFGWBAshhBBlSbAQQghRlgQLIYQQZUmwEEIIUZYECyGEEGVJsBBCCFGWBAshhBBlSbAQQghRlgQLIYQQZUmwEEIIUZYECyGEEGVJsBBCCFGWBAshhBBlWXyejnrXQQghRIOzhCJT9a6DEEKIBidpKCGEEGVJsBBCCFGWpd4VEOujKOB2u2l1taBpWr2r07AymQzR2CyTk5MYRr1rI0Tzk2BRhs/TQSPN67g7OnC1tBAMhUnE43IhXIGigF3X6fJ6wTCITDbO30/cHhrtulALkoZqMi6Xi1B4gvi8BIpSDAPi83FC4QlcLle9qyPEbUGCRZOxWDTi8fl6V6MpxOPzWCySqhOiGiQNtQlUp4r+eCuqQ8FQFBSLQuz9SNXKlxHF2jTL56QoCl5PBzOxWRKJJAB2m5W2VhfhyBRGs7wRQLfbsdmsYBgkU2kSyWRT1V+U1lTB4mvbtvHgQw+iKRpjgevEYrMceOopAoEAH3/ycUM0StWp4viTNtQ2s0eb/u8kif+YrXOtxEZ4PW6mZmZIpzOb+jqapmGzWvF53IQmJgHwdboxDANN00in0xsuW1VV7DYrNpsNq8WCbrcBEE8kSaXTJJNJEskU2Wy2ovfgdOi429vRtOJkRSaTYXJ6hrn5eEXl386yXXt5/vC9BE69w/lxpd7VKalpgoXH42H//v2oqtkY7/mjexgcHGRyapLt27v59a//nfDERF3ruDRQpH6XIH4pBjWOYdld3+bYAAy+/iGX2cV3XtrPdmV5IzSMAIOvf8ioopA1unjyyB5CJ8yfV7P70FEOdq9QXmCYi54e9viUhfJDXDz1DueCfp488kz+8VKM0DAnTwwRLPP6teLQ7eh2LzOxWaKx2U3rjKTTacKRKbq8Hrq8nvzj4chkRYEC4Ctb/Cs+7nToRT//75e3NvwarhYnno524okE4UiUZCqNYRjYrFbc7W14PW4mp2eIxurTaXrb176m414ITW9aHczz65mCc2Px3FsLf/9hnvWN8NoHV8uWt/vQUfpC73J8aLyq76FpgoXP15UPFDldfj8TExN43G7iifr2XBRdMVNPbYs58sx0puaBAkC98hHHxvfy/EtPw+sfcvqNhQa269scu+96vsEB5tKhEsweTw9dBcdc/+kbnP7gLUYxg8aOsZ9Br5eh/EX+AucXjt196DC+/DNvcOaHH3IZfz4omYFsO9dyQe2It4qfQnUoikJ7q4sWh4OpmSjz8eq3M4um0eleftudTreb8YkJUqnKAsZSX94KYrNZsVqtdLS1VlSW1WrF09FObHaOyJR5sVVVBd1uZz6eIBieoNPdgbu9jXgiUfX30gxy51Hk7Ju8esU8l7LGTr5zpJ/xE0MExy9w/I0LgJIPAr7hNzmdO7ZrLwe7b3DyxBVQlLLlXX7/XXxHBnjiWnVHKk0TLGZnY8sem5ubw6HrTE9NE6tTrwWWjygwAAX0h50oBiSv1X5CWh2/wPE3KAoGD9x3L4GxD83KFfD3H+ZI38Jl/eUXOQgYgbMcuwCERzixEAj8/Yfpxww6rz7VbR7fPQDA9pd7Gb/4o1V6M/dycKHswtcxn7vwmqFhhip835vFYtHwejqYjyeqlprKjSIsmrYsfQPmRber00NqYXQxHq7OvFcmm2U+nmA+nqg4WLS2OPOpphyb1Yqv05MfrUSmptHtdtpcLibusGXMWaOLJw+YF/bcxR9AVa5y+iSrdtZyHtjbQ2T4TYK5DECZ8lTGOTcc4djeXZwv7BhWqGmCxcTEBIZR/NmGw2E8bje/+fzz+lUM0Ptc+UBhZCA+NIPe24qiK9gfcQK1DRiFw9BlKaPuF3nlKfO/+aHr0Cle+cXOxV6+v5/n967+GkbgLIP04Lswgu+Al2uBe+krcayqjHP+5Fv5EQeYAao//E5RgwfWdPLUUzVTUxZNQ1GUZSPmQqqqYrVYNi0FVkn6CczPYz6eWLV+hmEwF4/j1O0VvVZT8t9HNyOcGWVpHy3PHCl4+dUPx9j58oCZMn7qRX7QO8yJ49fwecKExtdeHgDjYUK9XvyGwS1/f0VzIukdT2C5dr55gsX8/DyBGwG2d5s92vHQODabHWdLC7t37SIWm+XGjQCZTHGP77HHHqPnscdWLHPk0iUuXbpUcd3il2ZxfqsN7CrxX86Qvpli7tNpnN9qzwcMy1esJD6fIxPe/GH46AdvwaGjPNf/LscLUkZ9oXf5x/Ce4lTUhi/OXnyepY/5eOLZZ4rnLC4sGbkUWQxcOUbgbHGarAFVKzV1MxjCodvxetwABEMTJFMpwOyd+32dAExHY8Rm56pT+SU63R1MzUSXnTdrpWka6SXP1XWdbNYoKn9yaprJdZRbi/O2Jrq8+AjnfyxM7eY6a5cXfqcoV3nv9XBRGiqr7GSfN8K1IGZwWEN5o4oCwTAR73a6gMq6A5C5bx/QRCMLgCujV/LBIhC4wbZtWwHz9hd//md/Sv/evfz83M/54osv8s/JNaqlDa+aDS4bzTD36Qxqm0r6S/Nkz05nigKG5rfifLKNuXMzNQsYoyzkMl/aj2fYHGmofMRJ72F+8Ky39GRylxdCY0DpOQSlu5e+0DAng9Dv7eGgT2H8IuTmJsyJNnPOIpgbuRwpnNsoZs5/vLl8pHEba2t1YbUsnoItTgd61ux9awWjDYeuo6oqM9HlqdhKOR06ut3G1EyM2bn1B6RMJoOl4LYzra4W2lwt+XTTRsuvxXlbD+rC/IR5Xm4v/wS/F084TKnkbunyQoTCPfj8i8esPhRZXea+fc0RLGw2G9/4+td55JFH8o899OBDfPabz/jozCBb//irPHD//TidDvb09RYFC1je8DajwWWjGbLR4h5WdjpD6sY8tvvNVBRWpWYBY/eho+wIjeDpvZfAqTc5Pa4spn6GTnHs2l6ef+n7i7nPMo1yqfwIQIHTb1zF3394cT5iwegHpyhqoN4ejrzcW7LM62PrfZf1YRhGVdJQ7a3Fu8tdLc4Vj9PtNnS7bUPBIplMmfseVqGqKp6ONlqcOpNTM/k5krWYjydw6HYURcEwDHS7nYnJKWbnFtOuGy2/Fuftphu9TmCgh53+IYIbWZxUMEIIrqs8H77CEUkVNHSw0DSVnp5eHnrwQazW4gbvcrWwr7+fbDbL2NgYP3n/fbZu3VpyvXhhI6tlg0tenUfzW9H8C/WvQcDIGl1mnvPCEKeHLuDv/y7P7TjLGQBvP889C4HIkkmyLi++yPU1L1tVugd45aWBosfMkUVhPRZHE7egaLJ8qd2HjrJj3e+09qo5wX0zGEK32/B0mEs7S6WhZqIxYnMbm/OaicXyaa5CmqYtSz3ZbTb8vk6mo7E1L3ONzs7hanHibm8jMjVNaKL0JPxGyq/XeVstqnKVoeEenj38XdjwPgoPPj8wvo7y/F5yWeJq7eNo6GCxp29P0WhiJaqqsnPnTjweD//23nurHluPxmakYf78DI4n2moYMHz4uMFQELLspL83wsXXg7APCI8R6B6AsRE8A0+ze9RMGZVaKVXyfS2ZW1hpZFHYYIE1jyxyqTMWgtnuQ0c5wM947YOrRXtI1rpGvRrS6UzVl87mJrhzSqWhjIVjNzKvMDcfJxqbpdXVkn/Moet0utv5v1vBZccrikJHWysWTSta4VRKKpUiMjWNp6Mdq9XC5PQMqYV9FitZb/nQnEGiUDA3kj/8ffYU/L3HL/5oWRtWlXGuBsIcWZjgPnliiGs39rOjC3LD/jWV1+XFd+N6Vc+Rhg4W27ZtW/OxW7ZsweF0Mr+BvOtmKxUw9H2tzA5OQbrKK138XjyRMEFFYUt/D57hs4wqCub2rCBXA3DQO8aZ4QEO7vNzObyHA54RTi6ssNhSsDFs6QX++k/Nf0uPLBZ7QUWjFYOmHFlUK+W0ksINeFA6DdXe6oJW+P3NP2zodSanZ8hks7S3ulAUJb87fCWGYayr5w8Qm50jm83ibm/nLp93oRz4/c3lU6sbKf92sDhvUOp35BebBIdO8WpuDbmicOvCCH0H+vGPLp47q5WXNbp4stfDxcErgFKVOQsApW/vvvrfI6OERx99dNVlhUtd/u1vmZutbiOs5q2IFQuLASNjMPeLKJlbqXWVsW3rV/nP//qfVY8xe/ln83secvsicjuqC4ei5iagARh8h3NdTxcdd45+nj8AZwr3WYTf4T2eXra5L/eaZxgoWvk0NniKcN9flt29nVPtXdxr+bxK2ezbfbQ4HQCoikJ7W2vRKCNneiZKZiG1OrvBVFSO1WKho70NgKlpc+7gnrvvyv8+kUyue85iqfy9oTDTZ9Uuv1HU+hblS3dwr2azdnA3dLBoBNVuFIoF9MfbSI7NrztQQGUXvztRs3xeFouF9lZX/t5NyVSamWiURHL9bWQ97rn7LrLZ7IZXQ9W7/Hq5E7/PoqHTULejXEqqEorSPHdUracG399XJJ1O12V389x8vKJ9FvUuX9SOfJ9Fk0mnM+i6o97VaAq67tj0O8Y2u4nJqU29kG92+aJ2JFg0mVgshs/bie7Qm6rnXEuKArpDx+ftJBar/kY2Ie5EkoYqo9HykpNTU6Ao+H1eNE2+Ba6UTCZDNDZrfl5CVFmjXRdqQYJFkzEMiEQmiUTWc6cdIYSojASLTfL3yTgPV2EW+mNF5W3bHXi3TiFEQ5E5i03yY8vq9+NZixuKwvEqlCOEEJWyzEU376sE72SXgM80jW9WMK/wWiLBeCJRvUoJIcQGWZyta/t+WrF+/5rN8M1UckPP/QfNwpetDla+AYQQQtSWpKE2iSub5eAGb2vwS1VlUNJPQogGIhPcm+CBbIa/SSW5ewPPvQm8rUmgEEI0FgkWVfZcOslfVLBj9e+sNmLruHmiEELUggSLKvlaNsML6RTdFSyX/SfVwmVVNtoJIRqPBIsqOJBO8deZym67/Lmi8C9WST8JIRqTBIsK+I0s30smeYjKNt9FDXjFaqtSrYQQovokWGxQTybN99Ip2qpQ1t9arTJPIYRoaBIs1smVzfJCOsXjRnbNz7mFwoiq8omm8VfpVNFtQN7XNEY0+TMIIRqbXKXWYT1LYgsDxO8KJq1/bIGHFzbqmbfzkPSTEKLxSbBYo7UsiY0acFHTGFFVLpYYLVxWNT5XFL6RNWSeQgjRNCRYlFFuSexaAsRSP7ZY8Wez/EHmKYQQTUKCxSpWWxL7K0VlWNMYVtR1T05fVjWQ/RRCiCYiwWIFpZbEVhIghBCimUmwWGLpktgvgE80C8OaRlCRACGEuDNJsFjCZRiMA/8sAUIIIfIkWCzxqcXKp3J7cCGEKCLdZiGEEGVJsBBCCFHW/wM1uVi4Q/q1qwAAAABJRU5ErkJggg==" alt="image-20220520134940340"></p> <p><img src="/note-sites/assets/img/image-20220520135159779.2a3f8f20.png" alt="image-20220520135159779"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtQAAABrCAYAAABXLhV5AAAgAElEQVR4nO3da3Bb933m8e+BJd+6iSwYl7KT7m5tmSApYjQTJ/GUIpekh4mdmY4oUhdX7vSVTJopO5O+lUhZoixSb7eZdUlK1qvdtUpRN3qmE7dRJXBFMutNnFkOSIqAZbebZqLgYshKOpZsyTj74hxcDgheJPAm5/m8EQkcHPzPASg853d+5w+jtr7RREREREREHohrrQcgIiIiIvIwU6AWERERESmBArWIiIiISAkUqEVERERESqBALSIiIiJSAgVqEREREZESKFCLiIiIiJRAgVpEREREpAQK1CIiIiIiJVCgFhEREREpgQK1iIiIiEgJFKhFREREREqwYaWfIG1uZV/3DioMA4DZi73MVB6kNWA4ljPNCBeOnSVsL2c9robEyRNcjhtz1ptbv4+mjv3UeXPLzF7sJeRpp6PWm1t/YpzBgRAxY/51rYS0r57OtnIiedsR3HPAsf3xsbd56wpztqOYwv20GqxtqME3z3MuNqZ09S46PVfpD8VXcphLkvbV09kC5wdC3MBPU0cdiYGzsLcd72juNfI3tDnfP2aESLScisL3rf2+otH5fltIfOzt7L7I/H0w0sfQVO65X/dOcHR4esH1BPccoIV3F11utQX3HKA2ceq+X29/QxutjCz6uPzXMJb9/8KXfS2LvQ/Tvno665P0F+yrBx2riIhIvhUP1AAkJxiwQ0eDdQNXT+TCS+bDMN+2vVYIr2jvoq5gdaaZYMwRtKOcf9P6IPU3tNnPkQsuaXMr+zo8K7d9RRQGMp+9HWZinLGUFfqHpuzxJmOAP7sdk3lBz/lzNfu6K1Z1O7Ki79JTJLgVe+3Ws7KqcoiMWEHMzN0+ORqls60d7PdVLHSSnhD263MiG3bzpc2t7NuLtS57eet2X9HXLz/opat30bMzkFvZzi4O78xfezOHu5uB4geIxZbLMCMjqxqyC9/rAARe43Bt3pjsv9lLMf+cA8fsQckirAM7D2PHznI+0k5r47VcEPZXEiDJUra68IA2f6z5BzsiIiJLtTqBelFevB5I2L9ZlbcosybMFFQ+rfsmCqrW5bQe6qLV/m32ovWvrzb3QWkmxln8I3v5xEInOe9ty1Y9rUpkBTMDIdhbgxcrILQGopy/Unw7KPKzaUaYWcXtuF9zwkpWwBGwYPWDX9rcSsP2FGPHYlBQxXTFR3nrJHTWV3PZHlPa9LHVGyV0BTCKVEaDFXDtLGAUPVMy3+t34dhZwlPn6Jlyjm/+Cq0B5AJ7Zlv2de/APb4+qquZA8RirH1jhX6XEefy4HEu59/vq6ez+6B9BmT+cFtWVQ7jI4QNg/SVESIddbyIm7q8MN9xaLvjueNjbzPm3Z99T77RVcPYyT4GEu2OA6WlVsdFRESKWZ1A7anJftBlwi44K1vxsbezFebaxCmOZirL3QepGunjdLyBzrYaUiN9HM374C72Ae1vaKeVEQ6/6XW2jaxyu8fkmRGaOnYTHLiKt8MaR9gwCNr3b6svJ3LhBDHDwIVzO9LVuzhSOVs8cK7ydtyP8PBxwgW3rZuWj2AFgWQye2DlMuIkUm6q9rbTGsiFsh80JKyxBusIJK5yOX9/p5LZNoNtlW4So/lPsPQzDEUDOJAfKCFXvb0R3J19P2QPzo712etsJpGt/jbDhYXbpNYbV3yU/t5RR6i1fs6xDoYgcjIGGPbf/TkALl3J7I/52o6OM+lo+TBIx0ZIdOwmGD7LZHC33WKjMC0iIg9mjVo+LLGQs+qWua0/84vfgxvw7eyix74pVbDqoqebAXiNHjuYVOS1W6xGH/WcsHTIPrXf3kWtGSESBaimqtxDgFxFdO62BDjc3ZytarL34Nr1zJbvmNNakGGaES6s8nDuV9rcyr7mckgm8RX0O5uREXqOTRcs76Npezk+r1VZj4+9zVtJDySuZe/3ulMkrHxnW/wMAwBBCE8VOxCcp0pqGLimznGEXRzZAxew26EOddGSbaWoXtI1ByulYk7LipNpJhijSKuLbfZi78JnkIIVBJJRQjEI7rXOgmQq2Nv2Wj3o2ZaveVp0oMj1ANnXxf5bW6NrLURE5OG2Ri0fHuoKeqNNM8HVExcxWl/LBlEzMc7gsT7Hh1twz0EO77Tvj4xwdDi/dzV3GnzMu794+FyFD8piVfN8wT0HqGKKod5p/A1t2Ypo/gFGfoXa39BGx6EuZi/2Oqrzq2qJPdTzV14DRSuvqxVcyhprcEejJNwQv3KCnlD+qf7E3AcE66j1WL3+l3y76bRb8PPbiAA41EWtHewuDZyCvZVMj0KrfTYlP9hlLozL9M7PdyBY2BqTCY6uqXMMetpoSPbRM2wQ3NOGd3QCb301jHpw24GTNXiLLNTykWPgilutLnODr0Fwj4fUteIbsK2ynMj4WWKGQWz4OJPVu+j0WH/zVeVQEcgP9LmfHeMq38ER3uVo73FggYs/FaZFROQ+rVHLR5KrYykCXM1dNNhdQTIeJ1zYXxnc7WgXKGwpyO/ZtSq5ffZpX+tDtyevqrqaIa5wdhNrfFY1MT++3bgyQaqjkhrPfr5bUSSE5o0/UwVcz1W0woOJXHtCkdPxqzh+H1HOj0Jri/P2GzNRqPcCzqrwtkrsMwk5rnn6nq2LSg227W2G0RP46ttJRZNFq7ZmZAQofnZmIZkDlVomGLxSzSvdO2DkFImW/VR4DfZd6+V8pJ3Xu8sLLthdeT6vB5IL9c87Z4LJ9aZX84r93pjEj9edJFGk6yLtq6e2PMrYGeZkbZcxzVBvLhAXBvW0mbsI0oyMcORaheP/hMKLOle7r19ERL4a1q7lY2aWVFsdwStniTfW4M5cbFS0whkoOmPA5bjB5JlTeO3lDSNA66Euqi72cprdjlPLaxNCc7OPAFZFsXARu60lNNzHRGa56q2Ep4q0IOT3x67DMA354xyBFqt3+PRIBUf2VhPOXOy3Bj3V4dAoaV/93DtiSVLlFQTNKUfgDw+fA8frVckrXfudB0iJccZSuTBZda2PmfqDVF3rI+Rph2u9RSrUuaeev0qdk6lOlzU2E4ic4og9vWKFYWA2N5M42cfhmJ+mjt34Bk5wJLmbI3kXVq40q/XFDsKVztl78pdxzAQTrMN7zao2h8ZraAjCZLySAFHO5xWoU/aBSllVOd7oRNH+6OL7MHcgY0ZGODp4nEv2vndNneNw2Den19yq9j9cveciIrJ+rHygtgPjXFOcHqmg51CXHXatmRfyK5xzQiS5D2dn7+r6mzZvUZW7OWwH/tmLvfj2HqQjr7rXunNuv3KmD3Vd8+eC0Vb7JtfUOS5UHuCV6ilmKq3AOeZt50Xf2gcYlzHNTHQHtY1+wqG4YyYPp2sM9Y7OeXxwjzVjS3j4OOw5SIt7gsEw0Fi8rzhToc6YvdjL6XDehYv+htzzN7Zn+64z1xa4DHJ/H9W7suH58uC5bK/10YIq+sry4vWkmIktbWmrNx1mBnK90Gakmm2VNRA5lT3gzVS906aPrQEPkfEpirWCFFb6F+uhthby4sVDRXsXAXsWkNrEKfoVpkVE5AGteKDOn/fXX3ifx47annK2+kPE8gqWmYuHUiN9DDk+6JxT7FnW37R5xcZlmgnGMpns2ll6hnP9o0xZrSzzBYL8qcfWxBIvSsy83jfIBWqwAuek6adpu1XNnIxH6WxpYHodtK5MnnmXqu79vJLs4zQevKlZYoaBL6/XPz52dc7jrOqs9bO/oY1aoiQop7Xbuugt/0xKunoXR7YnGTwzdd9nF+bvS4fCtiBY5bMxwQoC0VmGDINgkWsjsmPKvEf8lQQ85dTZ1wQcPlPNvu4dtCQnGDwzdzpD6wBtgvNhsnk67auns7kcL25enLn/gzJXfJqhwWn7AsnXrOkMy62zZav5hUkiIvLVseKB2ueFyCi8+PoBaj1Jxk4CldYHb609u0Jmerw3khMMjHn4QUvAcUFi4ZX5mSn2ctZrhXoJLR9FzDdjwppWqJd4UWJ+JTWRKpj1AvsUfNzAxSj9g6yL1hWXMc3pY7Cv+yA9hsHsRWtu6cwXEOVflAjOmSrMxDiDYYgZJ3nLV09nS5Lzx07kvW8PUmcYdg+xFXKdAbmLnsxrnbevcvMpv8aRwDiDA33O6ftYH1Mrbqt0MzaaqR4v3vKRmSLPHiSQIJFMkrhgf3Pl63a/sxnhwhnYttdZuQZ7usmTfbwV89PUcZDDcw40nC0fF9iRnRUkv0XEmt3lnD1G6/+g2nUyr7eIiDxcjNr6RnPxxURkMVa7iIcU5VR4DUelOP8i1fV8Uel6Yu2ztZsKUEREZKkUqEVERERESuBa6wGIiIiIiDzMFKhFREREREqgQC0iIiIiUgIFahERERGREihQi4iIiIiUQIFaRERERKQEK//V4yIiIiICwJXPb6/1EOQ+NT72xKLL3Feg/vr3+x54MA+z3/744FoPQURERETWKbV8iIiIiIiUQC0fS/DZ726t9RBERETkq+DRR7M/vvDFF2s4EFnI+3mv01LcV6D+zZlOnvzapvt6gq+C38dtFhERkRWQ10OtfLE+PUghVS0fIiIiIiIlUKAWERERESmBArWIiIiISAkUqEVERERESqBALSIiIiJSAgVqEREREZESaB5qERERkYfF41/H+Pofw2ObYMOTYKz1gNYpE7j3GXx+C/O3/wZ3fruiT6dALfPauHEDZX4fTzz+BIb+YEVERB6IacLtO7e5EYvD5yWsaNN/xHCXK0QvhQFsfBI2PonxB2WYqSjc+uWKPZ0CtczrD31e0mmTj//1/3H33r21Ho6IiMhDyuCpTV/nD31e+PffPdgqHtuE4S7HcMGGRx/nkQ0bMQx17i7ENNN8ee8u9764A+5yzDu34POV+fZrBWqZ15NPPMFH//pL7ilMi4iIlMDk01u38HuffuA1GJu+AQY8svFxHnlkI67UdTbeuQHpL5dxnF8hrke4+3gZbN6CuRHufXEHY9M3MOMrE6h1aCPzMgxDYVpERGSZGKX0Tz72FAAbNj6K69PrbPzsVwrTC0l/ycbPfoXr0+ts2PiodZu9D1eCArWIiIjIerfBCoWGYbDh9o01HszDY8PtG7kDGXsfrgQFahEREZH1zngk96Mq00vm2Fd5+3C5KVCLiIiIiJRgVQJ1unoXb+zZuhpPJSIiIiKyqlZnlo/wLJHmGl70TXE5Prch39/QRketd8FVmGaEC8fOErb7YNK+ejrbamD8XSKBHdR5jQWXz5eu3sWR7UkGB0LECu5Pm1vZ172DCvv22Yu9zFQepDWw8Pqtx9WQOHmi6Dbm1u+jqWO/Y7yzF3sJedod+8BMjBcdn4iIiMj9Kn+5g+8/OzdTmB99wM82f5PvuK37TDPFz4b+nomkh5pX92Rvn4+Z+oB33nmf5O95XlmRQD1fQK5o76Iu7/f42Nv0h+Jzfk776umsT9I/PG39bvpo6qhzrNsKtH1M4qcpEOX8m4XhtiL7PME9B+YEYgjQcWi74xYzMc5AfwKSEwwMhKCxnQYAklw9kQvK+ePJ2LbXCuGF2whgmgnGHEE7N15/Q5v9HLl9kDa3sq/DM2efvu6d4OjwdNHQPzRlENxzgNrEqex+XEnF9ymYkRGO2q/bepY5IPMZRpHXJ2+5vH290HJgHaj17AwAzgMu5zrmP9ATERFZKdH3BohiBevnrl+Cb7t5PxuE/w8/tZcrf/kVcpP7/Qs//m/vEcFDzavf4pN33iPCc/xZ57N8+Jb986tux/N4XniFVzd/wI/euw6AaW7hzzqb2GJ/7pkf/YQfvXed8pc7+M7NYf7H+5+swtavvBWrUGdC3nKLhU5y+IozMC/neNLGUlpTvHg9kLB/C+45QAtRZk2YKQhL1n0TBSGsnNZDXbRmx2b966t9jcO11s9mYpxQZky+eloDUQYHpkhTzb7uHTDSR8+UYYf73QTDZ5k8cwpvRzMvzixcJV8O4eHjhMkdvBRu91rKnAXwjvcVfc3T5lb2tdWQGumjf8qwzli0NDBdcEbAWs8O3OOn6AnFreXadpMosq2Zsx4Db57NrcPIvD4VzBzrY8iwDnpa9lYTfggOOkRE5KvD3PISf/PSM9Yvz34XgC1//Tyf/PzMAqH2T/j+X/8V38/8mvfzFvtnM/UB72ee4+nv8PIz/8I773wIhpF9zuv/+Hf87XUjO46/fOEm//3Hwzz9ahN/ev3v+ekn6yM/lGJVWj4yFdeQHVjS1bs4UjnrqGTmh8mMw93N2Z9NM8J508eLHa9l2yUqDnVROzZCpCCgZpafKRjHfFVVyLVY3ADw1GSr15mwC87Ke3zs7WyFuTZxiqOZynL3QapG+jgdb6DTDm1H80Kdy4hzefA4l8lfbzutjHD4Ta+zbcQOZtvqa0iN91lBzefBnZzgfBgwMus7B4aBiziXxlMcqa/msgLb/IIVBJITDNr7kPBVxrY3s9UfIpZf3PdXEvBEGRuIWa9F+Cpj2/dTFYTwVG6xtOmjabubsQtn57To5L8+AJPXorRs9+A3TbXziIjIqjI/+gnv8TxP/+wD3N9z8+HHf8J35lnWMD7hp6cHspVrsKrPL3zy9/zDdaNwYQAC3/4mN3/WT9IwrMr09/6E6//4d47ljev/yP+4bj1k4mef8sNvP8dP7Wr2w2wFA3U1r3RZlctJEiSoyQaWMo+byLUp8r+MfiktH4YdRi/Zp9bNyAj9oWkITTsCalZBYAkPH2fS9FHmjxGLG9lKZi0TuX5lkyItH5ZY6CQ9IccqiYVO0p/5xe/BDfh2dtFj35QqGNL8/eKv0WMfUGTaRqwWlBm87iSJTNCLJUl5dtAQDDE0VWQ18SQJO7Dd8DfQ2VZOZJG+7pVQ2JYytwWihsRIlECz1XYxe7GX0+zOtkw43g8F68q2xuS1bYB1FuJ0uDq37M4u3ti+1F50D14fkB+ofR680dlsNdplxEmkIODxOxf0VxIgSqT+IIcDzjEW2lZZTiJyVWFaROQh9a3nv0XV1up575+ZnuLnH/x8FUd0P9w8vbnwts386b49zh7qn1nh+S++5Z6zBvgrfviS8xbzo5/wtz++ydObb5K6ad/43LM8e/MXvPMh+XHP6eZNUpvdeEzzoe/BXsFAPcVMdIddzYuTSHmo8kE65mNrIMXMFRw7OJWMMf8ed9rmcRM3I0QSFbzYUEFdbaDocrlQkxdI/V4aWvZT4c30xPZxNK8aXJyHuoLeaNNMcPXERYzWXMXcTIwzeKzPEZaCew5yeKd9f2SEo8O5UJ4Jiu7xU4x599PCu3P6j9PGVho9KWbs3eMypjk9UkHPzi7eaC7SjxtLkvJU4APWatr3/O3qyYTi6l0c6d4Nx84yCYCH2u1RBo/1cSO4m56dXRyJjNBz7JwdlOsIXjnLpN3ikr8u6zl8NNXDeXt/p6t3caR5N9vCZzl9LOFs+Sh8beNJEp6a3EFJsI46r8FswXaUeYr9R1KEz4PPGyA13kvPsGGPP9d6kx/8Zy/20r8CrVAiIrI6PvjFBzz+xJM888wzc+77+OOP+eAXH6zBqJbGePZ5vp36gHeS8MLmb/L9bxl88nPI9EpHDSPbQ518f4j/+r+38Gev5vdaO1n92P12BXoL7s2f8mGSpcY5SKa4uflZ3EByuTZyjaxIoPZ5ITEDk0RpqayGqWniiSS1Hr9VzUvNcrnghanY2cXhnc71FLZ8XMAKa16ipPCQuDJL1V7oOXYOsKq/rYwUrQx669s5HHBWhg3D6wjKZmSEI2co0vKR5OpYigBXcxcNdleQjMcJF7RvpIO76fRczY4h02uckd92krmw0grEx5ms3kVP/jYnxhk4D+5k0lE4dU2do2fKrnYf6qLFcSFggkSyBq8fXPFR+ntHWfo7e5lkWiquxHJhNq9dYjIMkGTsgl05Ds8y2+wmMWqftYglSVGO1w/4iqwLu5ViOI6/sZ3DdsXfNCNLGp4rPspbIx567PecmRjnasTtrE4DN5IpWHjymSwzMU4o04YTH2UsWkNtlZ/L8Xje62AdYL2xfUIzuIiIPKRM02RiYozHH3+cP/qjP8re/utf/5qJiTFM01zD0S0sc0EgBvzD313H88IrvFywTPS9IRy5YfM3+Yu/fn7edV7PdGt43Gy+eXPOmfmF3SR18yme9gAP+bWJyx6o06YPb6awF54l0lxB0JxiMpnCW+mlrKqc1LUQ+S+Wz+txXDS40CwfZY0VMDML2z3AFKfPVLOv+0C2HQCsXuzMjAyXYn687hQzA2cZyr/grKCPO7jnAFXXpoDq4i0fM7Ok7KppvLEG9/iI3b4wdxo8CDj6wfNnh7AuHLSWN4wArYe6qCpod4BcT/dvqM5WnGMF+zp3geYOXqmesvefF29eRXt9yTtTUKLctImn6DmWaf/wLP5AW+agBDIVdQ8zZ5i7z9y5fufMezt1rWDnxpPZC1QXM3nmXaq6a+b2a4uIyEMjnU4TCl3hpZdf5mn303yS+oRQ6ArpdHqth7Yg49nv8sPO7zpu+6SgO8U0c1XpBMDNX/A/F6pQZ34prDZ/+BEffe95nvO8T3LesLz5/qva69QKVKi9eIkSioGjWjp1jiNhH00dznYPK6REmQmzpJ3pI8l0jGzQdRnTDPVaoXhuhdoOmCRZ6BK9tK+eWrd9oZ/dBz3XlNVqcajLDrtWxTT/IkMrXDfDhblT7CUcGex+p81zW9Xa+NyDDUt+S0tu/FbIXIMe6vAskeYdtDZey70WwTpqiTJYeFSwxHVl2jPS5laaGhNcSnrw5lWuy6rK8d7ncXHGtr1WS0nYMBz77JJdVc9vDanFupgx7c9bLnaNCPuz25v21VNbniQyGiPta3C8XmWNNQSS9t/HQ/6fh4jI77N79+7yz//8E2q3/xfGxv8X9+7dXeshLSpbobYVq1DjceNos15qhRqAXLXZMK7z/gfP8+orfw5DuZk8zC0v8ZdP/9yaWSTvuTLT6/FPVgtJ+csdvMwlfvTedcwtL/HD78F7b1ltKevRsgfqssYaAqkJhuxZJy4PniSbHIq1ewTrqCXJ4BLXHw6Nkmbp37pY1liDOzKy4Ol1V3yU/kGywQx7eX/hujI9tZ7yORXGTMU0NdLHkCO8OqfYsyx92jyXMW31otsXzLnio5xPtDnaYWYv9uYCc8GFdGvBZUxz+hjs697P4dr89pa8Cz/vZ10nPXS2Wb3o1nqmACvsZlpz4pFIdh+7jDjTkSQd81yUWHhWYb4LCF1GnEsXJgqee26rhsuIc2ngXbx525t5TVw4X6/51iEiIg+fO7fvcOnSP631MJZs/gp1XtvF5s24b35kVaRNllyhNozrfPhxE89tJtu+kXx/iL/95CX+5s//KjubiBXq7QU2b8b98UdWSF6/nTJLYtTWNy55Ez773S2e/NqmBZd58fU2uHCC6ar2xb/9MDLCBXZQdc05X3CmCvvWqCf35Rt53xyYm/v4arZ9oph0/Bf8X+MP+NeB3IV7hVPfFQap4J42vKMj0LKfWk+SsZMnSNRb35SY+dKSzEV3geQEA2MeftAScI6vYPYJ54wVdsV6IK9CnTzBaXK913OmGfTV09kC5xfpuy1WIS9FxXPPMvvhRyWvR0RERKzP1f6p3BRdjY89seTHGs80AfDEf9jEo/9WdG6zBZlbXuKHWz4qUqG+xHs0OWb0+PC9IW5+Z++i35KYXbf9bYkJzwv85ffgvSV8c6JpPk3Nq03wTys/D/UXf/wit//9lvW8H19adPnPfneL9x99NPv7Ul6nZQ/UsjIy35RoBJrnXeZ8xFzWb0pUoBYREVk+axmoV0vmmxKNZ7+74HI//shctW9KXI1AvSpf7CKli4VOchRgwW5wHDOKiIiIiKym5PtD/AiAxb+sJbrSg1lFrrUegIiIiIgswvwy96PrkTUcyMPFsa/y9uFyU6AWERERWe/ufQFY82Dfe6JsjQfz8Lj3RFlubnB7H64EBWoRERGR9e7zTwG4d/cL0k9t4e6T3wBVqufneoS7T36D9FNbuHfXDtL2PlwJ6qGWeZmmyYYNG7h3795aD0VEROShV8q3KJq3foXxB2V8efeO9cXB7i18YZQv3+C+gkwzzZf37vLl3TtgWvtwpShQy7w+u32bP/R5icUT3FWoFhEReUAGT236Op/dvv3gq/j8FmYqCu5y7n5+h7uf31m+4X3VmVj77vNbK/YUCtQyr9/EE5T5fTzzn/8T+h4SERGRB2OacPvObW7ESpzW9tYvMT//FOPrfwyPbYINT+pbd+djAvc+sw5EfvtvcOe3K/p0CtQyr7t37/HLX/16rYchIiIiGXd+i3ln4Sl0ZfXpokQRERERkRIoUIuIiIiIlECBWkRERESkBArUIiIiIiIlUKAWERERESmBZvkQERERWQNXPi9hXmpZOY8+et8PUYVaRERERKQECtQiIiIiIiVQy4eIiIjIKml87Im1HoIs4rPf3eLJr226r8eoQi0iIiIiUgIFahERERGREihQi4iIiIiUQIFaRERERKQECtQiIiIiIiVQoBYRERERKYECtYiIiIhICRSoRURERERKsCJf7JI2fTR1NMOFE1yOGwsvW72Lnp2BJa139mIvp8PVNDUmuByKZx9/pHKWo8PTjmX9DW00JE9wOlzNvg4PoYEQN4K76fRcpT8Ux9/QRisj9NvrcY59P3Vew/G8IU87HbXe7G1mYpzBgRAxY+HtExEREZGvthX/psS0uZV93TuoKBI8zcgIR4fP0TNl/R7c04Z3NBfC0+bWbBi2gqsBQfB69/PGnnetEB2+ytj2OoLmFJP4s0F+es6zOcfUsN2Dz3iNw7XO8Rw5kwCinH/zLGHDsIK5fX987G36Q/HsuERERERElj1QB/ccoDVgh+f2LmoT4wwe62PIDtRpXz2d9Un6hxeKvPNzTU0zNDVtVba7m3N3HOqiJREhAiQWWUdZYw3u8Qlmt3uYOWYF5xwfUE7roS5a7VtmL9r31OEAdOMAAAMNSURBVOYCuJkYJ/RAWyAiIiIiXyXLHqjDw8eZLGz5WMa2iGwVeypX2c7dfhVamud/MIC3jlZ3lPMXrkGyjo5DXbRERrItIy4jzuXB41zOe4i/oZ1WRjj8ppd93TUkTi7/domIiIjIw2nFWz4WUqxfmUAXdQXLVRzaDlhV4YH+caoOHeQH46cY8+6nNnGKt654qSpPMXMGvAWPdRnTDA0ChoFr6hz9eSGcuBXK/Q1tvLEHjg5P429oc/RK57xGj12drmi3xqg+ahERERFZwUDtoa69i1ozwdjJ4hcnFlaDF++hBlww1Dtj338Kb0czTcko7ugsk0BTkZGkffV0ttXgmyf4mmaEC8emwDCIhU7SY/dyZPq/3XZ4b+HdORc/zlel9rqfWmjniIiIiMgaSKQ+XfZ1rlgPtWkmuHoiE44Xr+CmTR9e99KeI129lW3hKcJGnEvjKXp2bmf2Yi/gn/9B0XfpKdK3bYXmijnjh0zQ7rN7rI8zWdC3vVCFeiVeLBERERFZf5Z9Hurw8HEOv/k2Y8n7faQXrydFIrb4kmWeGqqC9i/xJHHTvK9nCu45wBtduwgWedzkmVNcTVi3G0aA1kNdvFJtzpneT+0eIiIiIgJr3EOdr6yxhkB0IjsbyHzSpo+tgRQzVyCNj6aWciIjEwS2N1AWDnF58CRg4K+a7/FbqSovcoe/gR+0wLn+GTRtnoiIiIgs1boI1P6GNl4PRBkcmFp85gx/JQGSTOOnqWM/gcgp+qfiJCoP0Np4bc4XtQC44qP0D9vPsx3GTr4LbVabh8uYZqjXmoavJTXLbwyDak2bJyIiIiJLtOyBOjNLhmlGuBADjLmzecTH3nYsb4XppbVPlFWVQ2QEGputMG0H6PDwccI4e7jHTjp7ouNjb3O0N26NJ7nDEZoBZi+exerDVoVaRERERJbGqK1vXHID8me/u8WTX9u0kuMREREREVkzD5J3l/2iRBERERGR3ycK1CIiIiIiJVCgFhEREREpgQK1iIiIiEgJFKhFREREREqgQC0iIiIiUoL/D8VoAIIAl4JDAAAAAElFTkSuQmCC" alt="image-20220520135244835"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWwAAACwCAYAAAArFFRZAAAdz0lEQVR4nO3da2xb953m8e9RGqeb+NJqeanT2U6bJiR1ITS7U3QWsgTJgQeD7mwjW7YU+E3nhSNFgYBFt/PKlhxZriW/2sF2AcOSHL+YKRaGr7IyXRQLBDa1poTdorszgmRJZLeX6U7j8lKijlPnYodnX5xD8vAiS7J1O8nzeWORPOT5H16e8zu/8ydtNLXsNfmUu/nRB5s9BNfY+8y/2OwhiMgSqjZ7ACIisjIKbBERl/jcZg9go+mQv5xaRiLuoApbRMQlFNgiIi6hwBYRcQkFtoiISyiwRURcQoEtIuISCmwREZd44nnYWbOOw/2vEDIMABavDzFfc4z2oFG0nGnGGD91hVl7Oet+jaTOjXEjaZQ9buHxfezrOUKzt7DM4vUhIp5uepq8hcdPTTE6EiFhLP1Y6yHra6G3K0DMsR3hjqNF25+MvsWZm5RtRyWlz9NGG+g/VnbdcmPK1h+k13OLs5Hkeg9vWVlfC70H4NpIhDv42dfTTGrkCnR2450svEb+1q7i948ZIxYPECp939rvK/YWv98eJRl9K/9c5D4fTAxzca6w7te905y8fPuRjxPuOMoB3l52uY0W7jhKU+r8ql9vf2sX7Uwsez/na5jI54Uv/1pWeh9mfS30tqQ5W/JcPe5Yt6q1+eJMepoR+03dal3BrbHChyP3ZDs1dFohH+ruo7nk4UwzRbQoyONc+771Qvlbu+x1FD4YWbOOwz2eNdmUlSr9wPvs7TBTU0Qz1k7l4pw93nQC8Oe3Y8YRJMV/13O4P7Sh21Fq8NRw0eVKr91Wtrs2ALEJ64Pu+JWcmck4vV3dYL+vEpFzDEawX5+xfJg6Zc06DndiPZa9vHW9r+Lr5wySbP1BBvcHCw+2v4+B/c5Hb2Ogvw2oXIBUWi7HjE1saIiXvtcBCL7GQJNjTPZn9p2Ev6wwye/0lmEVPx6ip65wLdZN+96FQtD6awiSZiVbXVowOcfq3Jm60QZ909GL1wMp+5JVOcRZNGG+pHKzbpsuqboDtB/vo92+tHjd+tfXVHghzNQUy78l1k4ico5r3q581WZVUiHmRyLQ2YgX6w3YHoxz7Wbl7aDC36YZY34Dt2O1yj4MecGiDzBsfLBkzTpa92SInkpASRVWlZzkzDnobannhj2mrOmjzhsnchMwKlR24RAsXAGMikd6S71+46euMDt3lcG54vEtXWEaQGGHkNuWw/2vUD21NarDXAFSifXcWDuVKiPJjdHT3HDe7muht/8YPsMAlg7P3bUBmJpg1jDI3pwg1tPMy1TT7NhZ9BzfU7TuZPQtot4j+ffkm32NRM8NM5LqLtoRr7S63+rWJrA9jfknMhemULxnTkbfylfITanznMxVxv3HqJ0Y5kKyld6uRjITw5x0vDEqvQH8rd20M8HA973FbZUNbiPMXJpgX88hwiO38PZY45g1DML27Q0tAWLjYyQMgyqKtyNbf5ATNYuVA22T2iErMXv5NLMl122Zlkg4RDCdzu+4q4wkqUw1tZ3dtAcLH/o3WlPWWMPNBFO3uOF8vjPp/GF4Q001qUnnClZ+hFQx4AFnYEGh+rwTPpR/P+R3/qeG7cdsI5WvXttg/NFtxK2mKjnJ2aHJotC0/i6wdrYQO5cADPtzfxWAd27mno+l2nKnmSlqiRhkExOkeg4Rnr3CTPiQ3YJyd1jDurVELIlIcdWQu+5s7oLfQzXg29/HoH1VpuShKx6OAfAag/YbP+RoR2xEH7vsw3jcPvTt7qPJjBGLA9RTG/AQpFDRlW9LkIH+tnxVRuexTe9ZLtnD3oSxrEbWrONwWwDSaXwl/WYzNsHgqdsly/vYtyeAz2sdGSSjb3Em7YHUQv52b3WGlJUftuWPkAAIw+xcpUJjiSrPMKiau8oJDnKiA8ax24XH+ziQbzXUr+icz3oJlbV0iplmiigVWkG2xetDjz4CDocIpuNEEhDutI7ichV4Q6d1DiDfEl2ihQW5tkqjXc3jeF3sz9omnetaK8aT/h52rn8cyQV2emyJk44pbo1dx2h/LR90lZ485yF36SG18zAx6j2y4nBz/rjRRvz4U7jjKLULw/kedqUPqbPCzgX5ow4719Ojnp/Skz1LV47FNvqD4W/tot2bgep00cmqRz7/bdVWGPoO0eu5xZl0c8WwKZwr8bGvs4bbk9BuHw06Xy/nia+lC41yztaAM5DCHV14J6fxtsCFSU/ZibiNslxIrvQ+j/pcOG+DwlHbmZveokkNpXKfmVxQe+OFTFjpyV03WaeWSJpb0QxBbhVOCvaHSCeTzJb2t8KHig6nSw+5iwLcjDF+atg+LDrNTP1BBh0nZDYyJEpnx1jjs6qhlGO5OzenyfTU0Og5wp+HSscVLDqhlKtitnIVUNqiKhy+Vzhc3cDx+4hzbRLaDxRff2c+Di1eoDiwG2qwj4QKqpboO1snjQ0aOttgcgxfSzeZeLpi1WnGJoDKR5ePktsRNjHN6M16Xu1/BSbOkzpwhJDX4PDCENdi3bzeHyg5Ib/+fF4PpB91/qJ4JlHh3EA9r9rvjRn8eKvTpCp0JbK+FpoCcaKXcBzNWKqM21wcKgRu6Y4gaxZOcpqxCU4shIoyofSk7UafV1lr69cSmV8k09VM+OYVknsbqc6dTKhYoQUrnnG+kTSYuXQer728YQRpP95H7fUhLnCoqBranJArzF4BrIqodBG77RO5PMx0brn6OmbnKhyiO/uTWzCswTnOCThgVd4XJkKc6KxnNncybxN62rORSbK+lvIbEmkygRBhc65ohzJ7+SoUvV41vNp3pHgHnJoimimEVe3CMPMtx6hdGCbi6YaFoQoVdmHVK6myc9X17r1tBGPnOWFP/wwZBmZbG6lzwwwk/OzrOYRvZIwT6UOccJw4XW9Wa8gO2pri2V/OZYpmEoWb8S5cIWEYRKYaaQ3DTLKGIHGuOVpMGXtHuLs2gDc+XbE/Xfk5LOwozdgEJ0dP84793FfNXWVg1lfW67eOVtzV+6/kyQPbDqRyc1yYCDF4vM8OU+vMvbNCKwspHIfgRb3DrTetb1k1hxiwdyiL14fwdR6jx1GdtO9vK7tLrg+4pfkLH7w6+6qquauM1xzl1fo55musQIt6u3nZt/kfkCrjNvPxV2ja62c2kiyaCVJsgYtDk2X3D3dYM35mL5+GjmMcqJ5mdBbYW7mvm6uwcxavD3Fh1nFi0t9aWP/e7nzfO3dup8qg8PmoP5gP5xujV/O97pMlRwHry4vXk2E+sbKlrXMDMD9S6EWbsXoaahohdj5fUOWq9qzpoy7oITY1R1l5TfmRyoraM34vXjyEuvsI2rNImlLnOevysIY1CGznvFd/6W0eO8o9Aer8ERKOgivXc8pMDHOx6IksngJo2XrT+iqNyzRTRHOf+YUrDF7ObZcBc1arZ6k3nHNq1GZa7qRj7vW+QyGwwQq0GdPPvj1WNTaTjNN7oJXbW6C1M3PpbWr7j/BqepgLePBmFkkYBj48NNsnrJPRW2X3s6pL629/axdNxEkRoL3fOqnlPBLM1h/kxJ40o5fmVn109OjzAsHyedgbeTQZDhGML3LRMAg7nq9S+feIv4agJ0Dz8T4Wrw8xcKmew/2vcCA9zeil8umWVgEwzbVZ8nmd9bXQ2xbASzUvz69+p1+VvM3F0dv2CdDXrOmWAetof7O+kLZWnjiwfV6ITcLLrx+lyZMmeg6osV7YJvvsfG763pvpaUaiHt44ELTedKeGSRhG2Znd3BTAgq1aYa+gJVLBUmfct0KFvdwXZ5yVYCpTMmsC+xA1aVDFJGdH2RKtnSrjNhdOweH+YwwaBovXrbnVuS94WScdC8s7ZzqYqSlGZyFhnOOMr4XeA2munRpzvG+P0WwYdg/XCtHiAO5jMPdaO56rwnzi1zgRnGJ0ZLh4eiFbY+pnQ0010clc9bt8SyQ3hc8eJJAilU6TGre/efq63W82Y4xfgobO4sob7Omw54Y5k/Czr+cYA2U7suKWyDiv5GeVOFso1uygq/YYrQxq2iLz2h/XE88ScYONniXiNnp+VsZqp3jIECDkNYoqXedJ6K180ngrWenPU0iBAlv0/Ii4hH6tT0TEJRTYIiIuocAWEXEJBbaIiEsosEVEXEKBLSLiEgpsERGX2KD/cWZr2/mt4eUXcoH3flz+tXIR+fRQhS0i4hJFFfb9e3c3axzra9u2/J+VtnHnRo5lHT3267fM8yMiW0NZS+TZHbs2Yxzry/HV60rb92lpJTz2a7fM8yMiW4NaIiIiLqHAFhFxCQW2iIhLKLBFRFxCgS0i4hIKbBERl1Bgi4i4xGfuq+nO/w5LRMRNVGGLiLiEAltExCU+Ey0R/U/gIvJpoApbRMQlFNgiIi6hwBYRcYkn6mFnTR/7etpgfIwbSWOJZeo43P8KIcO6ffH6EPM1x2gPFi9vmjHGT11h1l7Oul8jqXNLP3ZhDEdo9haWWbw+RMTTTU+Tt/D4qSlGRyIkjPLHCnccpSl1nrOR5Mo3HvC3dtHOxKrut9RzlvW10NsVIObY3nDH0aLnKRl9izM3KdveSkqfTxFxv1UHtr+1qygIAejuo7nCsmZqipGzKUhPMzISgb3dtAKQ5tZYIZisECt+hIZOK+RDFR7bNFNEi4I8zrXvW+Hkb+2y12EF3NlI0gr/Hs+jtyH4GgNN5et4J+EvC8hc+FeSrT/I4P5gYdnYBCcv3664bKWx+OztNVNTRDPWzufinL1d6QTgz2/vDH729TSTGin9u57D/aEl1yki7rTqwE5EzjFoZ1W44yi1C8NcnHtEBWzUreBRvXg9kKLwuAeIs2jCfEmVaN02XVJ1B2g/3ke7fWnxuvWvr6kQwmZqCmfE5oKw4phzVTBQZSS5MXqaG87bfS309h/DZxhAYR3J6FucSTt2FPUHOVET4tW+whFGXncfTakpRkfGuObtxjtp7YCsI4sQ8yMR6GzEa6+vPRjn2s3K20uFv00zxnzFrRMRt3rslkjW10JT9TTXZgGDQtBUOgz3NNJzfA9QCFMori6T0bfyFXJT6jwnc5Vx/zFqJ4a5kGylt6uRzMQwJx1BWylQ/a3dtDPBwPe9xW2VNWoPVCUnOTs0WdQSsf6uZJGLQ1fzl8paIobBnUsT7Os5RHjkFt4ea7yzhkHYvk9DS4DY+BgJw6CK4u21dgqLlat4tUNEPlUeK7Czpo99BxrJTA1X7AmXKWuJWJzVuvO6s7kLfg/VgG9/H4P2VZmSh67Y3gDgNQbtyjfkaDPkWhmh/X0M7F96yKaZIkp5iyNn8foQlZsiJZV9bJFs/UF6PbfKet1l/ffj9nq6+2gyY8TiAPXUBjwEqeeGHcrl2xxkoL8t37em8xgHePuRrRgRcZ/HCuzde9to8sQZn63n1f7iw/1Q/pA81wOu9Agemkt606aZ4tbYdYz21/IBZqamGD1VvFMIdxxjYL99e2yCk5cLoZ87wVk9dZ6o90jl0DIM/Dy6JeJYmKrkVQbnsHvIY477GIQ7PGQWEkDx4xS3RKBq7irRji5e9hU/H5WODpzCHUepZY6LQ7fxt3bxRmuKs5Fk0Y7OWWH7W7voOd7H4vWhoqOQSrzVX1hm20Vkq1l1YGd9LbTv8WDVulaYwFItEfvfspZImlvRDEFuFU4K9odIJ5PMlvaLw4eKqtPZy6eZddzunElhVZjD9vpPM1N/kMH+tvyyuQrb5/VAunwWhpNzlkXW9FHnjRO5Wc+r9jbO4MdbnSa1wgkiM5NxelvqeedSquj60lk01rqtnZ1zyTs3p8n01NDoOcKfh0rHbFXYObmjh0fNjEllfr+ygYvIlrHqwG5oCRA79zaZrlXMQqjUEplfJNPVTPjmFZJ7G6memsiHY/m0tWDFGRw3kgYzl87jtZc3jCDtx/uovT7EBQ4Vz9aww+sOfupyQVtTPFslp2zWSrgZ78IVEoZBZKqR1jDMJGsIEueao8DOpCseTgB23/sygK/CrYVZLgDhji7Kmjx2eyhyeZjp3HL1dczOFR9BVOqRi8inw6oDe/byOasqXOkd7KApN8eFiRCDx/vsME2AYRS1CSrNWc6FaaqoE7GaaX1evJ4M80tna5Gs6WPfHpgfgXCnVZGbsXoaahohdj5fveaqdijvYT+RmkMM2DuexetD+DqP0eM4Kmjf31Z2l1z/XUQ+Xdb9x5921wYgNkHC7h0X3eaxo9wToM4fIeFoL1hfJLFmhVwsqoCLpwBaVjGtLxwiGF/komEQrtBLzzHNGOMA/hqCngDNdm944FI9h/tf4UB6mtFLiYoVbGkPe3nF4zfNFNFJ+8LCFQYvO1pMc1ZLqLynbnFOSRSRT5cnCuzazvJvLIacwZOa4p3fQex/wMuvH6XJkyZ6DqixgrIpNsHgqdv56XtvpqcZiXp440Cw6IRjLrx9djjmpgAWrLzCbqipJjo5h1WeL98SyU3hsxhAilQ6TWrcaq/se91qx5hmjPFLUGVczc9yqZq7ysk562/nzA4zNcXoEkcIsERLpIKlZrqowhb5dDKaWvaauQv3793l2R27NnM8IiKyBP34k4iISyiwRURcQoEtIuISCmwREZdQYIuIuIQCW0TEJRTYIiIuocAWEXEJBbaIiEsosEVEXEKBLSLiEqv+8af79+6uxzhERGQZj/VrffqBKBGRjaeWiIiISyiwRURcQoEtIuISCmwREZdY9//TUdxn547t7NqxnXvv/4Hfv3dvs4cjIjZV2FLkuWef5Qs7d2AYBjt3bOeLu3Zu9pBExLYhgf3X3/sef/29723EquQJVFVV8cGHH/Lg4cP8ddufe24TRyQiTqqwBbDaILt9Hp6qqiKR+l0+tN97//1NHpmI5KiH/Rh27dwBwN017O/u2rmDXTu2r2jZu/feX9N179yxnS/Y2+TzVJNMZ0ikfsf2557lvXsKbJGtQhX2KuWCddeO7fngXgt337vH3RWE41qH9S5HWAM89dRT+DzVGAYKa5EtZl0q7KX61aXX/6e/+ZsnWs9Xvrx7Rcv9+jd3nmg9OaVVcO7vtQrQ3OMsVWmvR2Vdaafzh/sf8Mkn2TVbj4isDbVEVmiplsVGhfZ6VNaVwvo9TeUT2bKMppa9Zu7C/Xt3l/1hp5UsUypXWT9pRb1ZVtJfXvNAdaxzo8J6rdcjImtLFfYyVnoycL0q7bV8TFh6e95TWItseQrsZdx9796mBdl6rLdSWKuyFnEHzRL5jFNlLeIeG1Jhu7V3/Wm30qmEIrI1qCXyGbNWUxxFZOOpJSIi4hIKbBERl1Bgi4i4hAJbRMQlVn3SsaGhYT3GIevoZ7/41WYPQUTWwGPNElEAuMdLL3yV+/fubvYwRGQNaFrfZ8Bqf/tFRLYm9bBFRFxCgS0i4hKP1RLZ1fAf1nocsl7uvb3ZIxCRNaIKW0TEJRTYIiIusemBHfwjg9AfbfYoRES2vk2d1vfi8xD6VwAGRhUs/Npc7i5FTPNzfPvbz/CiYSyz3AN+/PcfEreXM59/hu/seMAPY4X/aNZ8/hm++/wn/OCnD1e7GSIiG2LTAvuFL0HdHxeCNvBlqDIMbv/TykPbMB7yox8VB6wn+Hm+xcdFYWwvnP8z+LzBzxc/AQwC3/g8nsUPmHqsrRAR2Tib0hIxDAN/dXlV/MzT1m3rydz+NH/23CfE71kVesD+W0Rkq9vwCvvjF7+EufNZ/tfML/nmS+D/onX9b34H//Bz+LDhjzHuf8y2+Lvrsn7vl5+i+g8PSRsGPP8UL+58mhdfeca+9Wm++23rr9/F75dX6SIim2hDA/vjF/w8eHE3AB80fI2fzPySb75kkjUN/vfP4MPwV3j4JTvBqwy2Lf5mTddvmp/j3770FPz2IaZZxZ6XDH5y8x7T7xvqYYvIlrdhgf3gqz4eBJ7PX37o28X9P3mBn/zjL8A0+bDuKzx8vrpoeTDYtvjPazYGb+hzfPG3D8kA7HiKr//hIT98f31bMCIia2XDetjm57eVXWd89ABMEwwDc1v5vsP48OM1HUM1n/DjRavNYbz/gB+qmhYRF9mwCnvb4j+DafLgaz5rxe9m+Pzt/8c3AgZVhslPZn7J/Yav8YnP+mW5p+Pv8vSvkms6hnjsAeb2pwFrGt9//NOnS5Yo9LDN9z7iv0Y+tnrdIiJbwIb2sLfFfgOmifnsNj4/+2v+9CXYXQ1g8M2X4Cczv+SDhq9hvHefbb9IrOtYjHc/4j+/+1H+cqUetsnTfPvfPwP/531+9K5B4BvP8S0+4gc/fWgt/28omt8tIrKeNnyWyLb4uxiGwb/+Onz5Xxau938R/iwI//Mffolpru4LNCIinwWb8sUZ0zT56EF5VZrImKwmqwPfeI5/t7tSdfs5vhsoWeedD1c9A6TwxRxrHfGf/oF47rZ3P+IH71L0hRwRkfW0ad90vP1P1nS+wJcLl3/x29U9hjNAV8o62Vjh+lwAi4hsUZv6WyILvzYxs2Bi8H8VliIij7Tp/6ejNc1aPWsRkeVs+s+riojIyiiwRURc4rFaIndn/staj0PWie+Fr272EERkjajCFhFxCQW2iIhLbPgskb88dDj/93+7cgG2f4GnvjOA+fN/5Fs7Pi6+TURE8jZ1Wl/VX/wVxtf/hE/+bhDe/z04wnw1svUHOVGzyMnLt/PX+Vu7aGeCs5HyH5DK+lro7QoQOzfGjaT1TcVwx1Hag4VvLSajb3Fmvia/3Du+QwzuDy45BjM1xehIhIS++Sgi62RTAzv73/8Wtk/kK2x4vJ9TbagJEFu4Qu4r5Evxt3bR0+TNX/Z199GMFbbRDCxeH+LinIG/tYvWdIKqZJIz56C3qxumMpixifxOwVpmjItzjnUqrEVkHbm+ws6addQGIBTsY2C/dd3i9SEiFZZNRM5xzduFd9KqrLNmHYf7Q8yPRKCzES9W9d0ejHPtJmBAVXKSs0OTZOsP0uQtDX1rnaaZIuqo1kVE1oP7K+xwiOqp8wzarY9wRxfeJOCpvPjMpQn29RwiPHILb08jqXNjzBoGYfv2hpYAsfExEoZBuOMoB3i7qNUCVrsk12rJmj729bStftwiIqvk6go7a/rYt6ea2HgCMMiaPrzVGVIJoBZ8Ta/xBla4WsF6hGavXQUft/vR3X00mTFicYB6agMegtRz4/JtZi+fho6jvNkBJxYK6/U1vcZAU+GyaaaIPsHzICKyEu6usMPNNGWmGa3t5s2WaU5MegiSJlcPJ6NvEfUe4c3XpxkdiXBj9DQ3lnqojqPUMsfFodv4W7t4ozXF2UiS2cunmQWoD+WXVYUtIpvB1RV2Qw2MX5oDf4rR2jYGu70sXh8iYRj47WVmL59mpv4gJzrrOXEJDve/QshxcjDXf045HvfOzWkyPTX4bybwdR6jdmGYC0AqZS2lCltENoOrK+zZy1etmRnJJFlfBjMVJzJL2WSRqrmrnJwDqAPiXPv+FWaN3HS+Lrwlj4vfQzVgmj681WlSSau3nVm4QmLuHIMRe2rgAbiWn8qnE44isr429ZuOVX/xVzz1nQE++btBK7wfU9bXQm9bNdHxJ5wHXXOIgf5jDHbvITMV4beGDy9xbifqqQ1YwZ0163i17yAN9l3qOo/xar3187DWbUfzl8MdR3mzo866rf4gb/YdJKz//kxEHpOrK2ywvzTTVr2KaXUB2o/30W5fMs0U0Un7wsIVBi/nHsOAcIhgZpHI3kaC6TiRBDR0WjNLZmilCbh96Tx1Pd28nBzjnfX9f4NF5DPO1T1sK6xh/NRYvsWxvBW0RGy7PdWkUil8XoiOR2BvN7ULY0Rquxls8mLGJkgYSe6Mx+ltsWaWXBy6Ta49kj9hiaMtoy/XiMhjMppa9uaP0e/fu8uzO3Y98g4vvfBVfvaLXz32CvVbIhvrSV8vEdk6XF1hi4h8lmx4YJdXzn/7iNtERCRHv4ctIuISCmwREZdQYIuIuIQCW0TEJRTYIiIuocAWEXGJx5rW99ILX13rcYiIyDJWHdgzMzPLfhtSRETWnloiIiIuocAWEXEJBbaIiEsosEVEXEKBLSLiEgpsERGXUGCLiLiEAltExCUU2CIiLqHAFhFxCQW2iIhLKLBFRFxCgS0i4hIKbBERl1Bgi4i4hAJbRMQlFNgiIi6hwBYRcQkFtoiISyiwRURcQoEtIuISCmwREZdQYIuIuIQCW0TEJRTYIiIuocAWEXEJBbaIiEsosEVEXEKBLSLiEv8ftTVFJPIxxvQAAAAASUVORK5CYII=" alt="image-20220520135535162"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAsIAAAHdCAYAAAAXeh8KAAAgAElEQVR4nO3da3Dd5WHn8d/xnYtD4+gCptu0MUjyrWwLhMSI2s6ws81OEm6BTKbd7M4kUHd4sWn7KgFKSAJ5td3MznS4JS9220wHSACHTDOzS0EE2+ESsmVsjGTqtElriC4oNaL4rv++OJKsqy3bkoV5Pp831jnnf3n+B2fy9aPn/E+tff3GKkPeGdibs5eeFwAAeC8a3bvz5ngsAAAwJxacys6DVVOu3nRN8tgDeaqnNsU2q/PZ2z+Vtlr99c7H787OlV/O9a1jt6+qrjz29e9m+9B29f3WpffBqY99dAyfz1WNR7fpfPzudDTckk3tjUeP37s199/Xke7axGOtvfFLae/9du7t6Jn+xSdp3nBzrs/mE9pvqvdssGl9br25JV2jrnftjV8a8z71bPlW/vLpTLjeyYx/PwEAGOuEQ7h5w81jAjNJcsttuWqSbaverbnv3t6kb1vuu68j2XhLNiRJ+vLsA0eDrx6HY49wyU31eG6b5NhV1ZstYwJ5Vx79Wj36mjfcPHSOejje29FTj+pNDce+htYv5M72ied4srt5QngOR/VkBtfckLuubT26bdfmfPWRVybddrKxNA1db9W7NVv661H/0I6h6+rrTtI8cr0vpzlXb7oqvfeN/3lNPnt725TnBADgJEK4u+PB3DXUgGtv/FJWvXpPHtpxjBnb2uppHLUxjQ1Jb44e97rsSmeV7Bw3q1l/bdu4WeKWXH/Hbbl+6FHn4/U/m9qPxm3VuzWj03U4MCcd8/CsbZJ5tZ48df838tTo15vW59bbv5ymWi3J0XP0bPlW/rJvVICvuSFfWdmWz9x2dEZ8xC23pb13a+6/74E82nhLGp+ph319JrwtO+/rSG5al8ah813fuiuPPj359WaSn6uqKzsnvToAAJJTWBox2LQ+7cu25dHtSWo5GnCT/Tq+YV023XFlkqORmoydDe3Z8q2RGd323m/nq8Mzubd/Oas235O/6dmQW29el/7N9+SrowJ2slBt3nBLrs/m3Pm1xrHLK2ZomcC8nmdy793PjFkaUf95Mp156O7vjTyasDSiVssbD2/O1Zs+nbX3PZvGTfXxbq/VsnZon0vWt6TrsQfSXatlXsZebz22OyefdbYsAgBgSicVwoNVU66+bl36t94z6ZrbCSYsjagbPbs8+rl7hx80N2RZkqZrb8tdQ0/1jzv0pMsckiRfyF1DM7Vto5YbDC9paLv2ttx57dRDrqrebMnEpQ7DOh+/O5Mvjhg3E93VmcE1N+TWhmcnrCWesL75jqHz3HJb2quudO1KkjVZ1dKQ1qzJU0OxO/GaW3Pn7deMrAvOTV/Odfn+MZdkAACU7qRC+IKN16S9YVce274mn7l97K/920Z+NT+8xnayIzTkqnFrf6uqN88+8Hhq139hJAyr3q25/+tjY3vtjV/OndcOvd61OV995GhMD38wb9nWb2dL4+cnj8FaLc059tKIURtnXs/3cteODK3RfWDUPrWsvbEh/a92Jxl7nLFLI5J5O76XLTfenI81jX0/JpvNHm3tjV/KquzIQ3e/kuYNN+ePN/Tm3o6eMf+AGD0j3Lzh5my647Z0Pn73mFnzyTQu+7XjXDsAwJmnt/9fp73tCYfwYNP6XH9lQ+pzs/VIS6ZaGjH054SlEX15dkt/WvPs0Q+z3d6Wvp6ebB+/Hnftp8fMpm5/5BvZPur10XdWqM+I3jN0/m/k5TU35K7brxnZdnhGuKmxIembeFeG0UbfdWGwasrqxl3peHpNPjN0jS+nOY3L+tI7zRtGvPzMrty6fk2efLh3zPPj76pRP3f9HxGjt3zj6W3p37Qy6xo+n//QNn7M9RnhYcOz3ce6U8aJ/CUBAHgvOuEQvmR9S7oe/H76bz6BuxJMtjRiZ2f6b74qa5/+bno2rsuyrZtHonPi7cFaJ72jw1M9tbz88LfTOLR9rdaa6++4Lasevzt/k0+PvXvDUBS+keasHg7YlWPvXjFswl0s1l6Vxle/m+5aLR1b12XD2uTlnpVpza48OmpCuL9v0unvJEPrih9JkqZJXj1614skWXvjzZmw2GNomUjHI/dk2/B2a1Zn+46xM96TrUEGAGCiEw7h7Y88WJ/FnO4OQwE30Y78zea23HXHbUOR2p3UamOWC0x2z93hSO0dsyLhRG6f1pjGhv7snLpZxxismnL1lcnO+5K1N9VnkKuuNblk5bqk69sjs63Ds8zJxDXCp2Tlp3PnUNB3Pn53mm76cjaNmsW+/tprJuwyvL4ZAICpndIXakzHBatakq7N6R5amzvmtYahRG5oyermjnSPWmZQ/4KJ+l0iHhozYzv2Vmt1J3D7tLVtad3VmYdqtaydZK3ysKrqymNJ0rwyrQ0tuWpo7e2dD6/JZ2//VK7r25b7H+6edMZ1/Brh4xs7/qrqzZZnhh68+t3c9ciopSY76ktDJq5Zrht96zcAAKZ2SiG86qaJ3xDXNjroerfmyTeTrh8lH/ujL6W9oS9bHkyysh6g7V2bc9fXXxm5Tdqf923LfVsa8sfXtY75oNxwFDcNRefwrdaOmv6M8CUrl2XLMztSn04+/tKI4Vul1dWS9Ka3ry+9j9WXWVz9R/VlGVXVlcceTubVvjdy14t5O76Xr+6o/zz6Tg9V79bcP8WMdjLF0ohJTHXnCzPCAADHV2tfv7EafvDOwN6cvfS8uRwPAADMmtG9O2+OxwIAAHNCCAMAUCQhDABAkYQwAABFEsIAABRJCAMAUCQhDABAkYQwAABFEsIAABRJCAMAUCQhDABAkRac6A7vDOydjXEAAMApO3vpedPe9oRD+ERPAAAAp8OJTthaGgEAQJGEMAAARRLCAAAUSQgDAFCkk/qwHO9tl112Wa5qvzIvvfTT/OjZZ+d6OAAAs0IIM8baNWuz/vd+L0ly+eWXp1ar5Zkf/WiORwUAMPNOy9KIP/vTP82f/emfno5TcQqWLFmS3f/4s/T39488d+mll6VWq83hqAAAZoc1wiSpz/7+1//yuSxZtCgPPfLISAy/8OILqapqjkcHADDzLI04Cee9b2mSZO9bAzN6zPOWnjutbfcOvD2j5/7whz+cq9rbkyQ33XRjHn74kTz0yCNZtXJlfvKTn8zYeQAA3k3MCJ+g4WA9b+m5I0E8E/a+NZC9A28ff7sZjuArRkVwkpxzzrm56aYbk2pQBAMA72mzMiM81Xrg8c//97/4i1k5z3inep5h42dth3+eqTAdPs5UM8MzHsFXXJH2K6+c8PzOna/mnXf2zdh5AADejSyNmKapli6crhie6Qj+yBVX5MpJIviFF1/Ms26ZBgAUoNa+fuPIJ6HeGdibs5eed8wdprPNeMMztzM1M3u6TWf97kyH6uhzzvSxP/qRj2TdunUTnn/+hReyZcuWGTsPAMDpdKIta0b4OKb7IbbZmhmeyWMmyUc/+tGs++hHJzz//PPPZ8vWrTN2HgCAdzshfBx73xqY0RA90XPPtMki+Lnnn89WEQwAFEYIF+65557L1m3b5noYAACn3WkJ4TN1bfB73Y9//ONs+/GP53oYAABzwoxwYfyjBACgzhdqAABQJCEMAECRhDAAAEUSwgAAFEkIAwBQpJO6a8Q7A3tnehwAAHBanVQIX9B+x0yPAwAATskbW752QttbGgEAQJGEMAAARTqtIdz667W0/frpPCMAAEzutH3F8kXLk7Z/lyS11OYlr/6iOl2nBgCACU7LjPCHzk9Wf7A28rjlwrGPj6WqFuQTn1iclmpuw7k6d2H+8yeWZN25Z0bAV9W8rFt/Tj6x/MwY78k41b8b1fLF+W/rF6bhJPY/lX0BgHeHWQ/hWq2W5mUTo3fxwvprAAAwF2Y1hA9edH72/85v5fmupPtXR5/f82by/3Yn+y/5YA62LJ/NIcyY2tuH8lc/2J9tb4t3AID3gllbI3zwQ805dNEFSZJ9l/xWXnj5H/Phi6sMVrW89Fqyf+1v5PD5769vPK+WRZ17ZmsoAAAwwayE8KHfbMqhUTO9h5vOyzv//kN54e9/llRVDl2wLAte78+iV/cktWTwfWflSNN5md9z/G+sq6oF+eQnF+eioWUVb+56J3/VNVh/7dyF+dyGRfnA0Gv/8NJAfvB6LVU1L1duOCvLXjuQ/O7irBg4mL9+ejAf/dTC9L9W5cMtCycca8J5z12Yz22Yl+ef2J9dtdqk53piz/xcueGsrPjlvpHjNLQuyR+cfyTf6TiY3qWLJh3fZFouOydXDNSPM3zN+enb9etZvjhfvHiwfswsnPL9qFuYT3zi6Osj78m5C/O5DfOzu2Nf+trOnd65phj/ZO/vdzoOpm/c0pep/ts1tC7JH1xc5YdD723LZefk4zmQb744OOa446/heH83qurQyDEnez1JqrcOHHd809kXADjzzEoIV0sWTXiuduBQUlWpqlqW9vVn1QdrafjN+mt9e9/Ozp9X2Xe841YL8slPLkh/x9v55ttHA+wTA2/XI7Qt+eETb6evNhRwv7skLXv2p2to/xW/Oz8/fOLt/KBWS1VbkGR+Ll96IN984sBI2K7bs++4yx+qat6k52rdsz9bXzucyy+en4bOI+nN/LScPz+7X9uX3kw9vl2TrJXuHziSZUvnJRlMLpyf9w8cSZbOTzKY1uUL0v/LfUMRPNX7Mck1T/KeTP9cJ/b+ZtIInnysP+janx8uPSdXtM1P18DCfPycg/lOx6Ek86d9DcOh+v7X9uWbw/G6fHG++MklyRP70zX0D4b89O18cyiiWy47Jx8/Zzp/t469LwBwZpqVEF7U+S/1md/faqqf5PX+LHnln/Ob59fyxptVNl5Sy8KhMx86nOzpq3LFylqef7XKvoPHOPCF83NRbUGycWk+POrpN5fOT602mG0/GUxD21n5Ykv94FV1aMzuu386PjqP5MXOQ0lqycCR7B6YP7Tf0dm/qjqcFzv2ZeuovY55rj1Hsvt3F6RladKb+Vmx9HCe33PsfSY9354j6d8wPy3VoWR5LbtfOpxll85PQ2fScM6R7O48kly4cMr3Y9Jr3nMoL158VlouTHa9fih/9YP6tVfTOFetVjuJ93d6/+2SwXS9eCAtnzwrX8yRvDg8m1wd+xq69ow9/oqBg/lO55GjET562wy9vqf+nztJul4/nI9fPI3xXXicfQGAM9KsrRFe1LWnPgN89qIs2f6LXHpx8ovuKqs+eDSC/6m7yss/q/988HCy6oO1vPTasW9HVb11YPJfuw/N6Oa1ffnmE/tHljKcjFrtcH7wg8Ojn0nOnd65arXD2fXLxbniwvnZlfnJawfHLKWYap8J56vqYd6wdGGWnXMkzw0MpiWL0nJhsiJH8sOBJO+b+v04oc9BDhz/XNXSU39/px7rbDqS/reSvO/4W045vjPj85wAwAma1btGLNr1epa8/PP8zorkwg8ke99Jzl1S5a13kt1vJJ3/fHTb/oEq5yw5zgH3HMnupYvykQuPPtVy2dB9ZN83L8sGDuaHnUeSJI0Xzs+ymb+kuuOcq6vzYHL+wnzk/GT3niPT2me8Wm0wu36ZrLh0QVb8W5W+4ccXz09+eaQea8d6P4asWL5w5OfGtkW5fOnh7Noz9r7I0zrXqb6/xxlr6+X1ZQ3feS25/NJFY+7PO9U1THb8j7cdnQ3PhQtzeY5k18DE81fVvFx58YIJ+086vuPtCwCckWb9/82rqsqBQ2Nn2La+UuXK1bWsuKD+/N/9ffL2viq1HHs2uFY7nCc6avnchnPzxUtHfXCqVhv5NfgffmpxkuTNNw6lfxauJ8nxzzVwJLuzKJf/24H84O3a9PaZRO+eI8nFi7L7tX1JakOP52f3S0eS1I79fgwvK8j8+jrZTPzw2Imc61Tf32ONtb7e9mC+8+KR9OZgXjz/rPzB5VW++eLgsa+hGnf8J5JPfvKsfLFl9Ifl6jO8tRzOEz+dnz+5dGm+eGnqS1BeO5ycf/zxHW9fAODMVGtfv3EkJ94Z2Juzl553zB3eGdibC9rvOOETrfyNWvreqvIbjbX8U3dy6EiVjb9dD45X/zn51dv11463NGKujL9rBLPv6N0o3p7y7hoAAMPe2PK1abXs8Dan5SuWk+TVX1QZHEx2/rzKb/9msmBe8rM36tG78t8ll15Uy86fvzsjOBlaCjAwOHuzzAAAnFandaHjm2/V/3yus/6hufefm+w/lPTtrQfyMe8YMUeq5YvzJ5cuHPNrdgAAznxz8omffQfzrl0CMV7t9QP55utDX5wggk+rWm0w2575t4zcswwAYAadtqURAADwbnJSM8J7X/6fMz0OAAA4rcwIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEUSwgAAFEkIAwBQJCEMAECRhDAAAEVacDI7vTOwd6bHwTjPL1o010OgIFccPDjXQwCA0+6EQ/jspefNxjgY78C+uR4BBfG/awBKZGkEAABFOqmlEZxeGxefNddD4D3oab91AKBwZoQBACiSEAYAoEhCGACAIglhAACKJIQBACiSEAYAoEhCGACAIglhAACKJIQBACiSEAYAoEi+YvkMt2jRwiw/vzlLFi+e66FwptmxY+THtotXzOFAAODk7D9wIK//sjsHDx46qf2F8BnuguamVFWVPb/szuEjR+Z6OJyhfr7n9bkeAgDvcR+8cHk6X9s9Y8er1Wr5tV87Lxc0N+Xn/7znpI5hacQZbsnixXnzX/eKYACgKFVV5Ve/2ntKvxUXwme4Wq2WIyIYAChSlVqtdtJ7C2EAAIo0IyE8uOaG/PmNq2fiUAAAcFrMzIfltnem65p1+VjTjjzVM3F6unnDzdnU3njMQ1RVVx77+nezfWh6e7BpfW69eV2y9fvpav1UrmqsHXP70QbX3JCvXNmX++/rSPdxpssHq9X57O1t2TnFsdbe+KVc3zq9Kfeqa3O++sgr447flKs3fT6NW+/JQztOfuoeAICZdVIhPFXYtt1yW64a9bhny7dyb0fPhJ8Hm9bn1vV9uXcoGuuxeNWYY9dD9568nOZc3borj35tVCQPxeuwyWO1NZvuuHLMM1Xv1mnF8WjbH/lGto96fLxwHm9erSdP3vf9fPb2W/Kxngcm/YfCbKsa1+Xzf/iBPPcX38/OU1hHAwDwXnLSM8Kdj989KzOc3R0P5s6nx4bujI5nFkNwePZ3/Oz1sPH/UDiZMD8ZTS0XJS/8rQgGABhlRpZGDFar89lNDekYirrBNTfkKys7xywTaGr/Qu5sH7vfnbdfM/JzVXXl0aopH9v0hZGQbLvjtrRv2ZyutOT6O27L9aP2raqu7Bw3jmMtYzgd0Tmv1pOn7v9Gnkp9ZntD3wMT4nxwzQ25teHZkdnx2QzzJKmqlrR/OHntr3uTCGEAgGGnEMJr8pnb6ksEXk5verMuq5s70t2TXNCwLF2v7sjo8JrO0ojaUEg+ueaG3HVta6quzbm345Wk45U8NdkQxkXk9ke+kZerplzQ3J3untrIDG17th0ngicJ7WOG87K0b/py2ru+fTRox3lj564sW78m2TF2zfAlK5el65nukfemvha6JV0PztKyibbWXPTmP2RLT3QwAPCudNmll2XV6jVTvr7zlR35yUs/mfHznkII78jOXZ/KqrXJ9h096e1vyKqmZLC7Katb+7Pz6YwJr/6+7ky3xC5pWJaeqitdvW352Ia2XNXeOul2R+O6L73DPdrcmA3XfT5tjbVUVW+2PHhPvtpTO87M69g1yCOOsU/XY99Orvt8/rx1isjufjVdy64Z8wHCwab1aV+2K49O/604ZatbV+Qfnv9+ei2LAADepV766UtZctbZ+dCHPjThtZ/97Gd56acvzcp5TyqEmxqT3p3Jy9mV61bWZz17evvS3tCcNK9Ma39nnhoXXm3X3pY7rx17nPFLIx5LfZlFY3alPw3pfbozq25K7vr695LUlxtcn82TzsI2rr8ld7aO/QBfrdaYq0aty53srg4npz+93d3Zfv838sqGm/NHt7dky7gZ3Xm1njz52K7cet2GvHJfR97Imnx2aOZ3dDTP63km9979TGajjKvGdfnIit15bvOsHB4AYEZUVZVt27ZkyZIlWb58+cjzr7/+erZt25KqqmblvCccwoNVUxqXDT3Y3pmua9qyttqRl/v607iyMResakn/qx0ZXV5NjQ1jPsx2rLtGXLCxLdnZmVzZkGRH/ubhNfns7V9K20g81tca12d7H8iT3c1pXNafnfd9Nw+NCszx65TX3vilrBq3XGMmdHc8mK/sXD8SvOMj9y+33pC77rhtZLyn864RTS0X5QO7n/MhOQDgXW9wcDAdHU/nP/7+7+cDyz6QN/vfTEfH0xkcHJy1c57EjHBjGrMrHd1J0pvevnVpbE7m7fhevrK9KVdvGrssoh7Ou7Jze6bVoE3pyyvdyYahx/Nqr+Shu+sxO3FGuDY0nr4ca563viRhWx6d5hhO1LyeZ3Lv/TnmUoparTGNTUnGTWbP1hrhqmpI24pl+Yfnu2I6GAA4Exw+fCh/93f/N+1X/l62bP1RDh8+NKvnO+EQvmDjurT2b8tDtVrmpSdP3f9gRkJrsmURa69Ke/py/zSPv6qM7EgAAAJOSURBVL3jmQxm+t9Sd8HGdVnWtfmYd4OYTqjOtOE7WFRdm0eWdqy98cu589ramA8OzpqmllycF/JEZ3QwAHDG2L9vf5588v+clnOdcAivbk22PLYjzRtumfLb4obX/lZdm/NYWtK19buThurwt8c11Wr1uzRM2KI5H/uj8fflPXobtsGen+bva/3Zcl/3SOSO/rKPni3PTjjiVLdYaxt314jh8Z/ImuLR9xHufPzu3PXIxLtabB8a4523N47cmWI21giv/uiHk91/7UNyAABTqLWv3ziy+vidgb05e+l5czkehjx9YN/IzxsXnzXldm0Xr8jP97w+4fnr/uRz6fvr/5Vne4Uwk/vbX/WP/Pyf3r/sGFsCwKn74IXL0/na7hk/btvFK07ouKN7d0a+UIN3n8f+x/+ONREAAFObN9cDAACAuSCEAQAokhA+w1VVlfnz58/1MAAA5kDtlL5sQwif4fYfOJAP/Np5WSCGAYCC1Gq1vP/952X/gQMnfQwfljvDvdHdk+XnN+fC85vneiicaUbdNeKDFy4/xoYAMDPaLl4xo8fbf+BAXv9l90nvL4TPcAcPHso//eJf5noYnOFm43Y2APBuZ2kEAABFEsIAABTJ0ogzwOhvmQMAYGaYEQYAoEhCGACAIlka8S61cfFZcz0EAID3NDPCAAAUSQgDAFAkIQwAQJGEMAAARRLCAAAUSQgDAFAkIQwAQJGEMAAARRLCAAAUSQgDAFAkIQwAQJEWjH/inYG9czEOAAA4rcaE8NlLz5urcQAAwGn1/wHzWN61fIPXwwAAAABJRU5ErkJggg==" alt="image-20220520135619158"></p> <p>启动然后, 浏览器输入http://localhost:8080/hello即可</p> <h3 id="servlet进阶"><a href="#servlet进阶" class="header-anchor">#</a> Servlet进阶</h3> <p>一个Web App就是由一个或多个Servlet组成的，每个Servlet通过注解说明自己能处理的路径:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 处理 /hello 这个路径的请求</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>根据不同的请求需要重写HttpServlet类中的不同方法处理GET请求就重写<code>doGet()</code>方法, POST就重写<code>doPost()</code>方法:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> res<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如果没有重写相对应的请求方法, 那么HttpServlet会默认会直接返回405或400错误</p> <p>一个Webapp完全可以有多个Servlet，分别映射不同的路径。例如：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/signin&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SignInServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="httpservletrequest"><a href="#httpservletrequest" class="header-anchor">#</a> HttpServletRequest</h3> <p><code>HttpServletRequest</code>封装了一个HTTP请求，它实际上是从<code>ServletRequest</code>继承而来, 该对象可以拿到HTPP请求的几乎全部数据, 常用的方法如下:</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/4/6 23:05:40</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-bac73764 data-v-c0d124fa><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#java-体系" class="sidebar-link reco-side-java-体系" data-v-bac73764>Java 体系</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#java-se" class="sidebar-link reco-side-java-se" data-v-bac73764>Java SE</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#java-ee" class="sidebar-link reco-side-java-ee" data-v-bac73764>Java EE</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#java-me" class="sidebar-link reco-side-java-me" data-v-bac73764>Java ME</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#环境搭建" class="sidebar-link reco-side-环境搭建" data-v-bac73764>环境搭建</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#jdk下载" class="sidebar-link reco-side-jdk下载" data-v-bac73764>JDK下载</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#helloword" class="sidebar-link reco-side-helloword" data-v-bac73764>HelloWord</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#编译运行" class="sidebar-link reco-side-编译运行" data-v-bac73764>编译运行</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#执行流程" class="sidebar-link reco-side-执行流程" data-v-bac73764>执行流程</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#jvm、jre和jdk" class="sidebar-link reco-side-jvm、jre和jdk" data-v-bac73764>JVM、JRE和JDK</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#集成开发工具" class="sidebar-link reco-side-集成开发工具" data-v-bac73764>集成开发工具</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#idea中的项目结构" class="sidebar-link reco-side-idea中的项目结构" data-v-bac73764>IDEA中的项目结构</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#数据类型" class="sidebar-link reco-side-数据类型" data-v-bac73764>数据类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#计算机的数据单位" class="sidebar-link reco-side-计算机的数据单位" data-v-bac73764>计算机的数据单位</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#基本数据类型" class="sidebar-link reco-side-基本数据类型" data-v-bac73764>基本数据类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#引用数据类型" class="sidebar-link reco-side-引用数据类型" data-v-bac73764>引用数据类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#变量使用" class="sidebar-link reco-side-变量使用" data-v-bac73764>变量使用</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#类型转换" class="sidebar-link reco-side-类型转换" data-v-bac73764>类型转换</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#自动类型转换" class="sidebar-link reco-side-自动类型转换" data-v-bac73764>自动类型转换</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#强制类型转换" class="sidebar-link reco-side-强制类型转换" data-v-bac73764>强制类型转换</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#内置包装类" class="sidebar-link reco-side-内置包装类" data-v-bac73764>内置包装类</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#装箱和拆箱" class="sidebar-link reco-side-装箱和拆箱" data-v-bac73764>装箱和拆箱</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#包装类的应用" class="sidebar-link reco-side-包装类的应用" data-v-bac73764>包装类的应用</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#运算" class="sidebar-link reco-side-运算" data-v-bac73764>运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#数值类型的运算" class="sidebar-link reco-side-数值类型的运算" data-v-bac73764>数值类型的运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#整数溢出" class="sidebar-link reco-side-整数溢出" data-v-bac73764>整数溢出</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#浮动数溢出" class="sidebar-link reco-side-浮动数溢出" data-v-bac73764>浮动数溢出</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#hellowrold" class="sidebar-link reco-side-hellowrold" data-v-bac73764>HelloWrold</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#数组" class="sidebar-link reco-side-数组" data-v-bac73764>数组</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#数组的初始化" class="sidebar-link reco-side-数组的初始化" data-v-bac73764>数组的初始化</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#多维数组" class="sidebar-link reco-side-多维数组" data-v-bac73764>多维数组</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#数组工具类arrays" class="sidebar-link reco-side-数组工具类arrays" data-v-bac73764>数组工具类Arrays</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#方法" class="sidebar-link reco-side-方法" data-v-bac73764>方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#方法重载" class="sidebar-link reco-side-方法重载" data-v-bac73764>方法重载</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#方法参数传递" class="sidebar-link reco-side-方法参数传递" data-v-bac73764>方法参数传递</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#debug" class="sidebar-link reco-side-debug" data-v-bac73764>Debug</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#查看方法源码位置" class="sidebar-link reco-side-查看方法源码位置" data-v-bac73764>查看方法源码位置</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#scanner" class="sidebar-link reco-side-scanner" data-v-bac73764>Scanner</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#random" class="sidebar-link reco-side-random" data-v-bac73764>Random</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#math" class="sidebar-link reco-side-math" data-v-bac73764>Math</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#求最大值、最小值和绝对值" class="sidebar-link reco-side-求最大值、最小值和绝对值" data-v-bac73764>求最大值、最小值和绝对值</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#求整运算" class="sidebar-link reco-side-求整运算" data-v-bac73764>求整运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#三角函数运算" class="sidebar-link reco-side-三角函数运算" data-v-bac73764>三角函数运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#指数运算" class="sidebar-link reco-side-指数运算" data-v-bac73764>指数运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#数字格式化" class="sidebar-link reco-side-数字格式化" data-v-bac73764>数字格式化</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#大数字计算" class="sidebar-link reco-side-大数字计算" data-v-bac73764>大数字计算</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#system" class="sidebar-link reco-side-system" data-v-bac73764>System</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#string" class="sidebar-link reco-side-string" data-v-bac73764>String</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#string的构造方法" class="sidebar-link reco-side-string的构造方法" data-v-bac73764>String的构造方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#string的特点" class="sidebar-link reco-side-string的特点" data-v-bac73764>String的特点</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#string比较" class="sidebar-link reco-side-string比较" data-v-bac73764>String比较</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#string遍历" class="sidebar-link reco-side-string遍历" data-v-bac73764>String遍历</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#常用方法-2" class="sidebar-link reco-side-常用方法-2" data-v-bac73764>常用方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#stringbuilder" class="sidebar-link reco-side-stringbuilder" data-v-bac73764>StringBuilder</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#日期处理" class="sidebar-link reco-side-日期处理" data-v-bac73764>日期处理</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#date" class="sidebar-link reco-side-date" data-v-bac73764>Date</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#simpledateformat" class="sidebar-link reco-side-simpledateformat" data-v-bac73764>SimpleDateFormat</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#calendar" class="sidebar-link reco-side-calendar" data-v-bac73764>Calendar</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#正则表达式" class="sidebar-link reco-side-正则表达式" data-v-bac73764>正则表达式</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#pattern-和-matcher" class="sidebar-link reco-side-pattern-和-matcher" data-v-bac73764>Pattern 和 Matcher</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#集合" class="sidebar-link reco-side-集合" data-v-bac73764>集合</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#collection" class="sidebar-link reco-side-collection" data-v-bac73764>Collection</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#list" class="sidebar-link reco-side-list" data-v-bac73764>List</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#arraylist" class="sidebar-link reco-side-arraylist" data-v-bac73764>ArrayList</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#并发修改异常" class="sidebar-link reco-side-并发修改异常" data-v-bac73764>并发修改异常</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#listiterator" class="sidebar-link reco-side-listiterator" data-v-bac73764>ListIterator</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#forearch循环" class="sidebar-link reco-side-forearch循环" data-v-bac73764>forEarch循环</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#数据结构" class="sidebar-link reco-side-数据结构" data-v-bac73764>数据结构</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#linkedlist" class="sidebar-link reco-side-linkedlist" data-v-bac73764>LinkedList</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#set" class="sidebar-link reco-side-set" data-v-bac73764>Set</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#linkedhashset" class="sidebar-link reco-side-linkedhashset" data-v-bac73764>LinkedHashSet</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#treeset" class="sidebar-link reco-side-treeset" data-v-bac73764>TreeSet</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#map" class="sidebar-link reco-side-map" data-v-bac73764>Map</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#treemap" class="sidebar-link reco-side-treemap" data-v-bac73764>TreeMap</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#collections" class="sidebar-link reco-side-collections" data-v-bac73764>Collections</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#泛型" class="sidebar-link reco-side-泛型" data-v-bac73764>泛型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#泛型约束集合类型" class="sidebar-link reco-side-泛型约束集合类型" data-v-bac73764>泛型约束集合类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#泛型类" class="sidebar-link reco-side-泛型类" data-v-bac73764>泛型类</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#泛型方法" class="sidebar-link reco-side-泛型方法" data-v-bac73764>泛型方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#泛型接口" class="sidebar-link reco-side-泛型接口" data-v-bac73764>泛型接口</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#类型通配符" class="sidebar-link reco-side-类型通配符" data-v-bac73764>类型通配符</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#可变参数" class="sidebar-link reco-side-可变参数" data-v-bac73764>可变参数</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#object" class="sidebar-link reco-side-object" data-v-bac73764>Object</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#tostring" class="sidebar-link reco-side-tostring" data-v-bac73764>toString()</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#equals" class="sidebar-link reco-side-equals" data-v-bac73764>equals()</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#getclass" class="sidebar-link reco-side-getclass" data-v-bac73764>getClass()</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#hashcode" class="sidebar-link reco-side-hashcode" data-v-bac73764>hashCode()</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接收任意引用类型的对象" class="sidebar-link reco-side-接收任意引用类型的对象" data-v-bac73764>接收任意引用类型的对象</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#类和对象" class="sidebar-link reco-side-类和对象" data-v-bac73764>类和对象</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#类" class="sidebar-link reco-side-类" data-v-bac73764>类</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#修饰符" class="sidebar-link reco-side-修饰符" data-v-bac73764>修饰符</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#构造方法" class="sidebar-link reco-side-构造方法" data-v-bac73764>构造方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#标准类的制作" class="sidebar-link reco-side-标准类的制作" data-v-bac73764>标准类的制作</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#继承" class="sidebar-link reco-side-继承" data-v-bac73764>继承</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#重写" class="sidebar-link reco-side-重写" data-v-bac73764>重写</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#多态" class="sidebar-link reco-side-多态" data-v-bac73764>多态</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#抽象类" class="sidebar-link reco-side-抽象类" data-v-bac73764>抽象类</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#内部类" class="sidebar-link reco-side-内部类" data-v-bac73764>内部类</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接口" class="sidebar-link reco-side-接口" data-v-bac73764>接口</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接口的成员特点" class="sidebar-link reco-side-接口的成员特点" data-v-bac73764>接口的成员特点</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接口和抽象类的一起使用" class="sidebar-link reco-side-接口和抽象类的一起使用" data-v-bac73764>接口和抽象类的一起使用</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#类和接口的关系" class="sidebar-link reco-side-类和接口的关系" data-v-bac73764>类和接口的关系</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#抽象类和接口的区别" class="sidebar-link reco-side-抽象类和接口的区别" data-v-bac73764>抽象类和接口的区别</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接口中的默认方法" class="sidebar-link reco-side-接口中的默认方法" data-v-bac73764>接口中的默认方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接口的静态方法" class="sidebar-link reco-side-接口的静态方法" data-v-bac73764>接口的静态方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接口中的私有方法" class="sidebar-link reco-side-接口中的私有方法" data-v-bac73764>接口中的私有方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#函数式接口" class="sidebar-link reco-side-函数式接口" data-v-bac73764>函数式接口</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#形参和返回值" class="sidebar-link reco-side-形参和返回值" data-v-bac73764>形参和返回值</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#类名作为形参和返回值" class="sidebar-link reco-side-类名作为形参和返回值" data-v-bac73764>类名作为形参和返回值</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#抽象类名作为形参和返回值" class="sidebar-link reco-side-抽象类名作为形参和返回值" data-v-bac73764>抽象类名作为形参和返回值</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#接口名作为形参和返回值" class="sidebar-link reco-side-接口名作为形参和返回值" data-v-bac73764>接口名作为形参和返回值</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#包" class="sidebar-link reco-side-包" data-v-bac73764>包</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#java-包的命名规则" class="sidebar-link reco-side-java-包的命名规则" data-v-bac73764>Java 包的命名规则</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#导包" class="sidebar-link reco-side-导包" data-v-bac73764>导包</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#编译器查找类的规则" class="sidebar-link reco-side-编译器查找类的规则" data-v-bac73764>编译器查找类的规则</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#默认导入的包" class="sidebar-link reco-side-默认导入的包" data-v-bac73764>默认导入的包</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#系统包" class="sidebar-link reco-side-系统包" data-v-bac73764>系统包</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#异常" class="sidebar-link reco-side-异常" data-v-bac73764>异常</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#异常处理" class="sidebar-link reco-side-异常处理" data-v-bac73764>异常处理</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#throwable" class="sidebar-link reco-side-throwable" data-v-bac73764>Throwable</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#编译时异常和运行时异常" class="sidebar-link reco-side-编译时异常和运行时异常" data-v-bac73764>编译时异常和运行时异常</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#常见异常类型" class="sidebar-link reco-side-常见异常类型" data-v-bac73764>常见异常类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#自定义异常-2" class="sidebar-link reco-side-自定义异常-2" data-v-bac73764>自定义异常</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#throws-和-throw" class="sidebar-link reco-side-throws-和-throw" data-v-bac73764>throws 和 throw</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#枚举" class="sidebar-link reco-side-枚举" data-v-bac73764>枚举</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#枚举类" class="sidebar-link reco-side-枚举类" data-v-bac73764>枚举类</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#file" class="sidebar-link reco-side-file" data-v-bac73764>File</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#file的字段" class="sidebar-link reco-side-file的字段" data-v-bac73764>File的字段</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#创建文件或目录的方法" class="sidebar-link reco-side-创建文件或目录的方法" data-v-bac73764>创建文件或目录的方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#file类的判断和获取功能" class="sidebar-link reco-side-file类的判断和获取功能" data-v-bac73764>File类的判断和获取功能</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#file删除方法" class="sidebar-link reco-side-file删除方法" data-v-bac73764>File删除方法</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#io流" class="sidebar-link reco-side-io流" data-v-bac73764>IO流</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#字节流" class="sidebar-link reco-side-字节流" data-v-bac73764>字节流</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#字符流" class="sidebar-link reco-side-字符流" data-v-bac73764>字符流</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#字节流复制文件目录" class="sidebar-link reco-side-字节流复制文件目录" data-v-bac73764>字节流复制文件目录</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#io流操作的异常处理" class="sidebar-link reco-side-io流操作的异常处理" data-v-bac73764>IO流操作的异常处理</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#标准输入输出流" class="sidebar-link reco-side-标准输入输出流" data-v-bac73764>标准输入输出流</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#特殊操作流" class="sidebar-link reco-side-特殊操作流" data-v-bac73764>特殊操作流</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#多线程" class="sidebar-link reco-side-多线程" data-v-bac73764>多线程</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#进程" class="sidebar-link reco-side-进程" data-v-bac73764>进程</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#线程" class="sidebar-link reco-side-线程" data-v-bac73764>线程</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#继承thread实现多线程" class="sidebar-link reco-side-继承thread实现多线程" data-v-bac73764>继承Thread实现多线程</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#设置和获取线程名称" class="sidebar-link reco-side-设置和获取线程名称" data-v-bac73764>设置和获取线程名称</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#线程调度" class="sidebar-link reco-side-线程调度" data-v-bac73764>线程调度</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#线程控制" class="sidebar-link reco-side-线程控制" data-v-bac73764>线程控制</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#线程的生命周期" class="sidebar-link reco-side-线程的生命周期" data-v-bac73764>线程的生命周期</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#实现runnable接口实现多线程" class="sidebar-link reco-side-实现runnable接口实现多线程" data-v-bac73764>实现Runnable接口实现多线程</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#线程同步" class="sidebar-link reco-side-线程同步" data-v-bac73764>线程同步</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#lock锁" class="sidebar-link reco-side-lock锁" data-v-bac73764>Lock锁</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#生产者消费者模式" class="sidebar-link reco-side-生产者消费者模式" data-v-bac73764>生产者消费者模式</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#网络编程" class="sidebar-link reco-side-网络编程" data-v-bac73764>网络编程</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#网络编程三要素" class="sidebar-link reco-side-网络编程三要素" data-v-bac73764>网络编程三要素</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#udp协议的使用" class="sidebar-link reco-side-udp协议的使用" data-v-bac73764>UDP协议的使用</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#tcp协议的使用" class="sidebar-link reco-side-tcp协议的使用" data-v-bac73764>TCP协议的使用</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#lambda表达式" class="sidebar-link reco-side-lambda表达式" data-v-bac73764>Lambda表达式</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#简单例子" class="sidebar-link reco-side-简单例子" data-v-bac73764>简单例子</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#lambda和匿名内部类的区别" class="sidebar-link reco-side-lambda和匿名内部类的区别" data-v-bac73764>Lambda和匿名内部类的区别</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#变量作用域" class="sidebar-link reco-side-变量作用域" data-v-bac73764>变量作用域</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#方法引用" class="sidebar-link reco-side-方法引用" data-v-bac73764>方法引用</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#函数式接口-2" class="sidebar-link reco-side-函数式接口-2" data-v-bac73764>函数式接口</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#stream" class="sidebar-link reco-side-stream" data-v-bac73764>Stream</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#体验stream流" class="sidebar-link reco-side-体验stream流" data-v-bac73764>体验Stream流</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#stream流的使用" class="sidebar-link reco-side-stream流的使用" data-v-bac73764>Stream流的使用</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#stream流的生成方式" class="sidebar-link reco-side-stream流的生成方式" data-v-bac73764>Stream流的生成方式</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#stream常用操作方法" class="sidebar-link reco-side-stream常用操作方法" data-v-bac73764>Stream常用操作方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#stream常用终结方法" class="sidebar-link reco-side-stream常用终结方法" data-v-bac73764>Stream常用终结方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#stream收集方法" class="sidebar-link reco-side-stream收集方法" data-v-bac73764>Stream收集方法</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#反射" class="sidebar-link reco-side-反射" data-v-bac73764>反射</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#类加载" class="sidebar-link reco-side-类加载" data-v-bac73764>类加载</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#反射概述" class="sidebar-link reco-side-反射概述" data-v-bac73764>反射概述</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#获取class类的对象" class="sidebar-link reco-side-获取class类的对象" data-v-bac73764>获取Class类的对象</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#反射构造方法" class="sidebar-link reco-side-反射构造方法" data-v-bac73764>反射构造方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#反射字段" class="sidebar-link reco-side-反射字段" data-v-bac73764>反射字段</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#反射方法" class="sidebar-link reco-side-反射方法" data-v-bac73764>反射方法</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#反射获取继承关系" class="sidebar-link reco-side-反射获取继承关系" data-v-bac73764>反射获取继承关系</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#动态代理" class="sidebar-link reco-side-动态代理" data-v-bac73764>动态代理</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#注解" class="sidebar-link reco-side-注解" data-v-bac73764>注解</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#注解的作用" class="sidebar-link reco-side-注解的作用" data-v-bac73764>注解的作用</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#模块化" class="sidebar-link reco-side-模块化" data-v-bac73764>模块化</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#模块服务" class="sidebar-link reco-side-模块服务" data-v-bac73764>模块服务</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#maven" class="sidebar-link reco-side-maven" data-v-bac73764>maven</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#maven项目结构" class="sidebar-link reco-side-maven项目结构" data-v-bac73764>Maven项目结构</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#安装maven" class="sidebar-link reco-side-安装maven" data-v-bac73764>安装Maven</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#依赖关系" class="sidebar-link reco-side-依赖关系" data-v-bac73764>依赖关系</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#唯一id" class="sidebar-link reco-side-唯一id" data-v-bac73764>唯一ID</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#maven镜像" class="sidebar-link reco-side-maven镜像" data-v-bac73764>Maven镜像</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#web开发" class="sidebar-link reco-side-web开发" data-v-bac73764>WEB开发</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#新建web项目" class="sidebar-link reco-side-新建web项目" data-v-bac73764>新建web项目</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#servlet" class="sidebar-link reco-side-servlet" data-v-bac73764>Servlet</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#servlet进阶" class="sidebar-link reco-side-servlet进阶" data-v-bac73764>Servlet进阶</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Java/Java.html#httpservletrequest" class="sidebar-link reco-side-httpservletrequest" data-v-bac73764>HttpServletRequest</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-2a01419c data-v-2a01419c><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-2a01419c><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-2a01419c></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-2a01419c></path></svg></div></div></div>
    <script src="/note-sites/assets/js/app.f337d569.js" defer></script><script src="/note-sites/assets/js/5.2f78da70.js" defer></script><script src="/note-sites/assets/js/1.9e97c91a.js" defer></script><script src="/note-sites/assets/js/6.36a59bb1.js" defer></script>
  </body>
</html>
