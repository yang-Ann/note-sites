<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell | An的个人笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/note-sites/favicon.ico">
    <script type="module" src="/note-sites/js/index.js"></script>
    <meta name="description" content="记录学习笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/note-sites/assets/css/0.styles.a5e0cdd4.css" as="style"><link rel="preload" href="/note-sites/assets/js/app.43cc6558.js" as="script"><link rel="preload" href="/note-sites/assets/js/5.2f78da70.js" as="script"><link rel="preload" href="/note-sites/assets/js/1.9e97c91a.js" as="script"><link rel="preload" href="/note-sites/assets/js/39.eff591f2.js" as="script"><link rel="prefetch" href="/note-sites/assets/js/10.85cb6931.js"><link rel="prefetch" href="/note-sites/assets/js/11.bae2598b.js"><link rel="prefetch" href="/note-sites/assets/js/12.85fe81ac.js"><link rel="prefetch" href="/note-sites/assets/js/13.cc79bc08.js"><link rel="prefetch" href="/note-sites/assets/js/14.a66e5b91.js"><link rel="prefetch" href="/note-sites/assets/js/15.fd29e764.js"><link rel="prefetch" href="/note-sites/assets/js/16.e65aa2d8.js"><link rel="prefetch" href="/note-sites/assets/js/17.a9bd7734.js"><link rel="prefetch" href="/note-sites/assets/js/18.f869e88a.js"><link rel="prefetch" href="/note-sites/assets/js/19.61f852e8.js"><link rel="prefetch" href="/note-sites/assets/js/20.5d618384.js"><link rel="prefetch" href="/note-sites/assets/js/21.a40609b0.js"><link rel="prefetch" href="/note-sites/assets/js/22.e802a34b.js"><link rel="prefetch" href="/note-sites/assets/js/23.fe0e18f1.js"><link rel="prefetch" href="/note-sites/assets/js/24.efde5ee9.js"><link rel="prefetch" href="/note-sites/assets/js/25.8fadd557.js"><link rel="prefetch" href="/note-sites/assets/js/26.8dea59c8.js"><link rel="prefetch" href="/note-sites/assets/js/27.1b0ff5ff.js"><link rel="prefetch" href="/note-sites/assets/js/28.5b48d810.js"><link rel="prefetch" href="/note-sites/assets/js/29.2c4643d4.js"><link rel="prefetch" href="/note-sites/assets/js/3.2ab39145.js"><link rel="prefetch" href="/note-sites/assets/js/30.211768af.js"><link rel="prefetch" href="/note-sites/assets/js/31.a814529e.js"><link rel="prefetch" href="/note-sites/assets/js/32.2847840b.js"><link rel="prefetch" href="/note-sites/assets/js/33.37812b81.js"><link rel="prefetch" href="/note-sites/assets/js/34.4a5b7210.js"><link rel="prefetch" href="/note-sites/assets/js/35.248eaa86.js"><link rel="prefetch" href="/note-sites/assets/js/36.7572fb32.js"><link rel="prefetch" href="/note-sites/assets/js/37.b1b086c1.js"><link rel="prefetch" href="/note-sites/assets/js/38.7011321b.js"><link rel="prefetch" href="/note-sites/assets/js/4.0e073a57.js"><link rel="prefetch" href="/note-sites/assets/js/40.6bed602e.js"><link rel="prefetch" href="/note-sites/assets/js/41.ffae0666.js"><link rel="prefetch" href="/note-sites/assets/js/42.6a797844.js"><link rel="prefetch" href="/note-sites/assets/js/43.aa021ac5.js"><link rel="prefetch" href="/note-sites/assets/js/44.db30e153.js"><link rel="prefetch" href="/note-sites/assets/js/6.070a649e.js"><link rel="prefetch" href="/note-sites/assets/js/7.79588309.js"><link rel="prefetch" href="/note-sites/assets/js/8.fe1371a3.js"><link rel="prefetch" href="/note-sites/assets/js/9.a9dfe185.js">
    <link rel="stylesheet" href="/note-sites/assets/css/0.styles.a5e0cdd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-c0d124fa><div data-v-c0d124fa><div class="password-shadow password-wrapper-out" style="display:none;" data-v-30dff670 data-v-c0d124fa data-v-c0d124fa><h3 class="title" data-v-30dff670>An的个人笔记</h3> <p class="description" data-v-30dff670>记录学习笔记</p> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-c0d124fa><header class="navbar" data-v-c0d124fa><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-sites/" class="home-link router-link-active"><!----> <span class="site-name">An的个人笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c0d124fa></div> <aside class="sidebar" data-v-c0d124fa><div class="personal-info-wrapper" data-v-5c49c935 data-v-c0d124fa><img src="/note-sites/assets/img/logo.png" alt="author-avatar" class="personal-img" data-v-5c49c935> <h3 class="name" data-v-5c49c935>
    An
  </h3> <div class="num" data-v-5c49c935><div data-v-5c49c935><h3 data-v-5c49c935>33</h3> <h6 data-v-5c49c935>文章</h6></div> <div data-v-5c49c935><h3 data-v-5c49c935>26</h3> <h6 data-v-5c49c935>标签</h6></div></div> <ul class="social-links" data-v-5c49c935><li class="social-item" data-v-5c49c935><i class="iconfont reco-github" style="color:#f47e60;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-mayun" style="color:#3498db;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-juejin" style="color:#f26d6d;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-npm" style="color:#849b87;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-bilibili" style="color:#3498db;" data-v-5c49c935></i></li></ul> <hr data-v-5c49c935></div> <nav class="nav-links"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-30dff670 data-v-c0d124fa><h3 class="title" data-v-30dff670>Shell</h3> <!----> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-c0d124fa><div data-v-c0d124fa><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Shell</h1> <div data-v-7b22c628><i class="iconfont reco-account" data-v-7b22c628><span data-v-7b22c628>An</span></i> <i class="iconfont reco-date" data-v-7b22c628><span data-v-7b22c628>2022/7/27</span></i> <!----> <i class="tags iconfont reco-tag" data-v-7b22c628><span class="tag-item" data-v-7b22c628>Linux</span><span class="tag-item" data-v-7b22c628>Shell</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h1> <p>Shell 是一个用 C 语言编写的程序, 它是用户使用 Linux 的桥梁; Shell 既是一种命令语言, 又是一种程序设计语言</p> <p>Shell 是指一种应用程序, 这个应用程序提供了一个界面, 用户通过这个界面访问操作系统内核的服务</p> <p></p><div class="table-of-contents"><ul><li><a href="#shell-脚本">Shell 脚本</a></li><li><a href="#shell-环境">Shell 环境</a><ul><li><a href="#vscode中修改终端类型">VSCode中修改终端类型</a></li></ul></li><li><a href="#注释">注释</a><ul><li><a href="#eof">EOF</a></li></ul></li><li><a href="#打印输出">打印输出</a><ul><li><a href="#echo">echo</a><ul><li><a href="#输出颜色和光标操作">输出颜色和光标操作</a></li></ul></li><li><a href="#printf">printf</a></li><li><a href="#单引号和双引号">单引号和双引号</a></li></ul></li><li><a href="#变量">变量</a><ul><li><a href="#变量的定义和使用">变量的定义和使用</a></li><li><a href="#只读变量">只读变量</a></li><li><a href="#删除变量">删除变量</a></li><li><a href="#变量类型">变量类型</a><ul><li><a href="#环境变量">环境变量</a></li></ul></li><li><a href="#特殊变量">特殊变量</a><ul><li><a href="#和-的区别">$*和$@的区别</a></li><li><a href="#退出状态">退出状态</a></li><li><a href="#shift">shift</a></li></ul></li><li><a href="#变量替换">变量替换</a><ul><li><a href="#name-张三">${name:-&quot;张三&quot;}</a></li><li><a href="#name-张三">${name:=&quot;张三&quot;}</a></li><li><a href="#name-message">${name:?&quot;message&quot;}</a></li><li><a href="#name-张三">${name:+&quot;张三&quot;}</a></li></ul></li><li><a href="#变量名参数展开">变量名参数展开</a></li></ul></li><li><a href="#字符串">字符串</a><ul><li><a href="#转义字符">转义字符</a></li><li><a href="#字符串拼接">字符串拼接</a></li><li><a href="#获取字符串长度">获取字符串长度</a></li><li><a href="#截取字符串">截取字符串</a></li><li><a href="#清除开头的字符串">清除开头的字符串</a></li><li><a href="#清除结尾的字符串">清除结尾的字符串</a></li><li><a href="#替换字符串">替换字符串</a></li><li><a href="#大小写转换">大小写转换</a><ul><li><a href="#declare-命令">declare 命令</a></li><li><a href="#参数展开">参数展开</a></li></ul></li><li><a href="#查找子字符串">查找子字符串</a></li></ul></li><li><a href="#条件判断">条件判断</a><ul><li><a href="#if语句">if语句</a></li><li><a href="#test语句">test语句</a></li><li><a href="#文件测试符">文件测试符</a></li><li><a href="#字符串运算符">字符串运算符</a></li><li><a href="#整型表达式">整型表达式</a></li><li><a href="#test复合命令">test复合命令[[]]</a><ul><li><a href="#在if中使用正则表达式">在if中使用正则表达式</a></li></ul></li><li><a href="#整数复合命令">整数复合命令(())</a></li><li><a href="#控制操作符">控制操作符</a></li></ul></li><li><a href="#read">read</a><ul><li><a href="#读取多个输入">读取多个输入</a></li><li><a href="#ifs">IFS</a></li><li><a href="#重定向操作符">重定向操作符&lt;&lt;&lt;</a></li></ul></li><li><a href="#case语句">case语句</a><ul><li><a href="#匹配模式">匹配模式</a></li><li><a href="#匹配多个条件">匹配多个条件</a></li></ul></li><li><a href="#基本运算符">基本运算符</a><ul><li><a href="#数学运算">数学运算</a></li><li><a href="#布尔运算">布尔运算</a></li></ul></li><li><a href="#数组">数组</a><ul><li><a href="#在数组末尾添加元素">在数组末尾添加元素</a></li><li><a href="#循环数组">循环数组</a></li><li><a href="#数组排序">数组排序</a></li><li><a href="#替换指定的数组项">替换指定的数组项</a></li><li><a href="#删除数组或指定索引">删除数组或指定索引</a></li><li><a href="#克隆数组">克隆数组</a></li><li><a href="#关联数组">关联数组</a></li></ul></li><li><a href="#循环">循环</a><ul><li><a href="#for循环">for循环</a></li><li><a href="#while循环">while循环</a></li><li><a href="#until循环">until循环</a></li><li><a href="#循环读取文件">循环读取文件</a></li></ul></li><li><a href="#函数">函数</a><ul><li><a href="#函数接受数组参数">函数接受数组参数</a></li><li><a href="#局部变量">局部变量</a></li><li><a href="#函数的退出码">函数的退出码</a></li></ul></li><li><a href="#命令替换">命令替换</a></li><li><a href="#组命令和子shell">组命令和子shell</a><ul><li><a href="#进程替换">进程替换</a></li></ul></li><li><a href="#异步执行">异步执行</a></li><li><a href="#命令管道">命令管道</a><ul><li><a href="#设置一个命名管道">设置一个命名管道</a></li><li><a href="#使用命名管道">使用命名管道</a></li></ul></li></ul></div><p></p> <h2 id="shell-脚本"><a href="#shell-脚本" class="header-anchor">#</a> Shell 脚本</h2> <p>Shell 脚本 (shell script) , 是一种为 shell 编写的脚本程序.</p> <p>Unix/Linux上常见的Shell脚本解释器有bash, sh, csh, ksh等, 习惯上把它们称作一种Shell.</p> <p>我们常说有多少种Shell, 其实说的是Shell脚本解释器.</p> <h2 id="shell-环境"><a href="#shell-环境" class="header-anchor">#</a> Shell 环境</h2> <p>Shell 编程跟 JavaScript, php 编程一样, 只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了.</p> <p>Linux 的 Shell 种类众多, 常见的有:</p> <ul><li>Bourne Shell (<code>/usr/bin/sh</code>或<code>/bin/sh</code>)</li> <li>Bourne Again Shell (<code>/bin/bash</code>)</li> <li>C Shell (<code>/usr/bin/csh</code>)</li> <li>K Shell (<code>/usr/bin/ksh</code>)</li> <li>Shell for Root (<code>/sbin/sh</code>)</li> <li>……</li></ul> <p>Bourne Again Shell(简称Bash), 由于易用和免费, Bash 在日常工作中被广泛使用. 同时, Bash 也是大多数Linux 系统默认的 Shell</p> <p>在一般情况下, 人们并不区分 Bourne Shell 和 Bourne Again Shell</p> <p>所以, 像 <strong>#!/bin/sh</strong>, 它同样也可以改为 <strong>#!/bin/bash</strong></p> <blockquote><p>**#!**是一个约定的标记, 它告诉系统这个脚本需要什么解释器来执行, 即使用哪一种 Shell</p></blockquote> <p><strong>hello world</strong>例子</p> <p>创建一个<code>.sh</code>文件, 输入如下代码, 使用<code>git Base Here</code>,<code>cmder</code>或其他支持Linux的终端</p> <p>输入<code>sh xxx.sh</code>, 就会在控制台输出 hello world!</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># echo 表示输出到控制台</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;hello world!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="vscode中修改终端类型"><a href="#vscode中修改终端类型" class="header-anchor">#</a> VSCode中修改终端类型</h3> <p>vscode中的终端默认是cmd, 不支持linux的一些命令, 可以手动进行修改</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// settings.json</span>

<span class="token property">&quot;terminal.integrated.profiles.windows&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;cmder&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;D:\\cmder\\Cmder.exe&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gitBash&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;D:\\Git\\git-bash.exe&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token property">&quot;terminal.integrated.defaultProfile.windows&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cmder&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 默认使用的终端配置</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h2> <p>以<code>#</code>开头的行就是注释, 会被解释器忽略. sh里没有多行注释, 只能每一行加一个<code>#</code>号</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 这是行注释</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="eof"><a href="#eof" class="header-anchor">#</a> EOF</h3> <p>EOF是END Of File的缩写, 表示自定义终止符, 可以用来定义块注释</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 这是块注释, 开始符号必须和结束符号对应</span>
<span class="token operator">&lt;&lt;</span> <span class="token string">EOF
这是注释1
这是注释2
这是注释3
...
EOF</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>利用EOF可以实现输出多行文本</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 将文本块重定向到 cat 命令中</span>
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF
文本行1
文本行2
文本行3
EOF</span>

<span class="token comment"># 还可以直接重定向到文件中, &gt;&gt; 一样可以用</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> file.txt <span class="token operator">&lt;&lt;</span><span class="token string">EOF
文本行1
文本行2
文本行3
EOF</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="打印输出"><a href="#打印输出" class="header-anchor">#</a> 打印输出</h2> <h3 id="echo"><a href="#echo" class="header-anchor">#</a> echo</h3> <p><strong>echo</strong>: 是Shell的一个内部指令, 用于在屏幕上打印出指定的字符串, 使用<code>-n</code>可以不在最后输出一个换行符,</p> <p>使用<code>-e</code>可以转义其中的特殊字符, 使用<code>&gt;</code>将内容重定向到文件, 或使用<code>&gt;&gt;</code>将内容追加到文件</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;hello<span class="token entity" title="\n">\n</span>world!&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token variable">$msg</span>

<span class="token comment"># 执行变量msg里的转义字符, echo加了 -e 默认会换行</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token variable">$msg</span> 

<span class="token comment"># 两次输入不会换行</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token number">123</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token number">456</span> 

<span class="token comment"># 将输出重定向(&gt;)至文件, 会生成myFile文件</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$msg</span> <span class="token operator">&gt;</span> myFile.txt 

<span class="token comment"># 将输出转义并追加(&gt;&gt;)文件内容, 同样文件不存在时会生成文件</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token variable">$msg</span> <span class="token operator">&gt;&gt;</span> myFile.txt 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="输出颜色和光标操作"><a href="#输出颜色和光标操作" class="header-anchor">#</a> 输出颜色和光标操作</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash </span>


<span class="token comment"># 下面是字体输出颜色及终端格式控制 </span>
<span class="token comment"># 字体色范围: 30-37 </span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[30m 黑色字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[31m 红色字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[32m 绿色字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[33m 黄色字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[34m 蓝色字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[35m 紫色字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[36m 天蓝字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[37m 白色字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>

<span class="token comment"># 字背景颜色范围: 40-47 </span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[40;37m 黑底白字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[41;30m 红底黑字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[42;34m 绿底蓝字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[43;34m 黄底蓝字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[44;30m 蓝底黑字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[45;30m 紫底黑字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[46;30m 天蓝底黑字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[47;34m 白底蓝字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>

<span class="token comment"># 控制选项说明 </span>
<span class="token comment"># \033[0m 关闭所有属性 </span>
<span class="token comment"># \033[1m 设置高亮度 </span>
<span class="token comment"># \033[4m 下划线 </span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[4;31m 下划线红字 <span class="token entity" title="\033">\033</span>[0m&quot;</span>

<span class="token comment"># 闪烁 </span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[5;34m 红字在闪烁 <span class="token entity" title="\033">\033</span>[0m&quot;</span>

<span class="token comment"># 反影 </span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[8m 消隐 <span class="token entity" title="\033">\033</span>[0m &quot;</span>

<span class="token comment"># \033[30m-\033[37m 设置前景色 </span>
<span class="token comment"># \033[40m-\033[47m 设置背景色 </span>
<span class="token comment"># \033[nA光标上移n行 </span>
<span class="token comment"># \033[nB光标下移n行 </span>

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[4A 光标上移4行 <span class="token entity" title="\033">\033</span>[0m&quot;</span>

<span class="token comment"># \033[nC光标右移n行 </span>
<span class="token comment"># \033[nD光标左移n行 </span>
<span class="token comment"># \033[y;xH设置光标位置 </span>
<span class="token comment"># \033[2J清屏 </span>
<span class="token comment"># \033[K清除从光标到行尾的内容 </span>

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[K 清除光标到行尾的内容 <span class="token entity" title="\033">\033</span>[0m&quot;</span>

<span class="token comment"># \033[s 保存光标位置 </span>
<span class="token comment"># \033[u 恢复光标位置 </span>
<span class="token comment"># \033[?25| 隐藏光标 </span>
<span class="token comment"># \033[?25h 显示光标 </span>

<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[?25l 隐藏光标 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[?25h 显示光标 <span class="token entity" title="\033">\033</span>[0m&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><h3 id="printf"><a href="#printf" class="header-anchor">#</a> printf</h3> <p><strong>printf</strong>: 格式化输出语句, <code>printf</code>命令用于格式化输出, 是<code>echo</code>命令的增强版</p> <p>它是C语言<code>printf()</code>库函数的一个有限的变形, 并且在语法上有些不同</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># format-string 为格式控制字符串, arguments 为参数列表, 功能和用法与c语言的 printf 命令类似</span>
<span class="token builtin class-name">printf</span> format-string  <span class="token punctuation">[</span>arguments<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>shell的printf与C语言printf()函数的不同:</p> <ul><li>shell <code>printf</code>命令不用加括号</li> <li>format-string 可以没有引号, 但最好加上, 单引号双引号均可</li> <li>参数比格式控制符(<code>%</code>)多时, 格式控制符可以重用, 可以将所有参数都转换</li> <li>arguments(参数)使用<strong>空格分隔</strong>, 不使用逗号分割</li></ul> <p>基本使用如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 也可以输出简单的字符串</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;hello<span class="token entity" title="\n">\n</span>world&quot;</span>
<span class="token comment"># hello</span>
<span class="token comment"># world</span>


<span class="token comment"># 双引号</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%d %s<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token number">999</span> <span class="token string">&quot;abc&quot;</span>
<span class="token comment"># 999 abc</span>


<span class="token comment"># 单引号与双引号效果一样 </span>
<span class="token builtin class-name">printf</span> <span class="token string">'%d %s\n'</span> <span class="token number">999</span> <span class="token string">&quot;abc&quot;</span> 
<span class="token comment"># 999 abc</span>


<span class="token comment"># 没有引号也可以输出</span>
<span class="token builtin class-name">printf</span> %s abc
<span class="token comment"># abc</span>


<span class="token comment"># 下面的会出错, 因为系统分不清楚哪个是参数, 这时候最好加引号了</span>
<span class="token comment"># printf %d %s 999 abc  </span>


<span class="token comment"># 格式只指定了一个参数, 但多出的参数仍然会按照该格式输出(重用格式)</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\t">\t</span>%s<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;你&quot;</span> <span class="token string">&quot;好&quot;</span> <span class="token string">&quot;啊&quot;</span>
<span class="token comment"># ----</span>
<span class="token comment">#   你</span>
<span class="token comment">#   好</span>
<span class="token comment">#   啊</span>
<span class="token comment"># ----</span>


<span class="token comment"># 如果没有 arguments, 那么 %s 用NULL代替, %d 用 0 代替</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%s and %d <span class="token entity" title="\n">\n</span>&quot;</span> 
<span class="token comment"># and 0</span>


<span class="token comment"># 如果以 %d 的格式来显示字符串, 那么会有警告, 提示无效的数字, 此时默认置为 0</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;错误的格式: '%s, %d'<span class="token entity" title="\n">\n</span>&quot;</span> Hello Shell
<span class="token comment"># printf: Shell: invalid number</span>
<span class="token comment"># 错误的格式: 'Hello, 0'</span>


<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4s<span class="token entity" title="\n">\n</span>&quot;</span> 姓名 性别 体重kg  
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%10s %8s %4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 郭靖 男 <span class="token number">66.1234</span> 
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 杨过 男 <span class="token number">48.6543</span> 
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 郭芙 女 <span class="token number">47.9876</span> 
<span class="token comment"># %s, %c, %d, %f 都是格式替换符</span>
<span class="token comment"># %-10s 指一个宽度为10个字符, 左对齐(默认为右对齐), 若字符串不足以0填充, 超出则全部显示</span>
<span class="token comment"># %-4.2f指格式化为float类型, 左对齐, 且只保留2位小数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><blockquote><p><code>printf</code>不像<code>echo</code>那样会自动换行, 必须显式添加换行符<code>\n</code></p></blockquote> <h3 id="单引号和双引号"><a href="#单引号和双引号" class="header-anchor">#</a> 单引号和双引号</h3> <p>单引号内的内容将会被原样输出</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">'&quot;hello&quot; &quot;world&quot;'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>双引号的内容需要使用转义字符才可以输出特殊的字符</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token entity" title="\&quot;">\&quot;</span>hello<span class="token entity" title="\&quot;">\&quot;</span> <span class="token entity" title="\&quot;">\&quot;</span>world<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h2> <h3 id="变量的定义和使用"><a href="#变量的定义和使用" class="header-anchor">#</a> 变量的定义和使用</h3> <p>注意, <code>=</code>前后不能有空格</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;张三&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$name</span> <span class="token comment"># 使用变量</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;我叫<span class="token variable">${name}</span>&quot;</span> <span class="token comment"># 或者用大括号包起来使用变量</span>

<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;李四&quot;</span> <span class="token comment"># 修改变量</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;我改名字了, 现在我叫<span class="token variable">${name}</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>推荐使用<code>${变量名}</code>, 有的时候使用<code>$变量</code>, shell脚本无法判断出变量名, 加花括号是为了帮助解释器识别变量的边界, 比如下面这种情况:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 循环 每次的值都填充到 skill 变量中</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">skill</span> <span class="token keyword">in</span> C PHP Python Java JavaScript
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;I am <span class="token variable">${skill}</span>Shell&quot;</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="只读变量"><a href="#只读变量" class="header-anchor">#</a> 只读变量</h3> <p>使用<code>readonly</code>命令可以将变量定义为只读变量, 语法: <code>readonly 变量名=变量值</code></p> <h3 id="删除变量"><a href="#删除变量" class="header-anchor">#</a> 删除变量</h3> <p>使用<code>unset</code>命令可以删除变量, 语法: <code>unset 变量名</code></p> <h3 id="变量类型"><a href="#变量类型" class="header-anchor">#</a> 变量类型</h3> <p>运行shell时, 会同时存在三种变量:</p> <ul><li><strong>局部变量</strong>局部变量在脚本或命令中定义, 仅在当前shell实例中有效, 其他shell启动的程序不能访问局部变量.</li> <li><strong>环境变量</strong>所有的程序, 包括shell启动的程序, 都能访问环境变量, 有些程序需要环境变量来保证其正常运行. 必要的时候shell脚本也可以定义环境变量.</li> <li><strong>shell变量</strong>shell变量是由shell程序设置的特殊变量; shell变量中有一部分是环境变量, 有一部分是局部变量, 这些变量保证了shell的正常运行</li> <li>**位置参数变量:**这种变量主要是用来向脚本当中传递参数或数据的, 变量名不能自定义, 变量作用是固定的.</li> <li>**预定义变量:**是Bash中已经定义好的变量, 变量名不能自定义, 变量作用也是固定的.</li></ul> <h4 id="环境变量"><a href="#环境变量" class="header-anchor">#</a> 环境变量</h4> <p>使用<code>set</code>可以查看所有的的变量, 使用<code>unset</code>删除变量</p> <p>使用<code>env</code>可以查看所有的环境变量, 使用<code>export</code>可以定义环境变量</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">set</span> <span class="token comment"># 查看所有变量</span>
<span class="token function">env</span> <span class="token comment"># 查看所有的环境变量</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span><span class="token string">&quot;production&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="特殊变量"><a href="#特殊变量" class="header-anchor">#</a> 特殊变量</h3> <p><strong>变量名只能包含数字, 字母和下划线</strong>, 而某些包含其他字符的变量有特殊含义, 这样的变量被称为<strong>特殊变量</strong>, 如下:</p> <table><thead><tr><th>变量</th> <th>含义</th></tr></thead> <tbody><tr><td><strong>$0</strong></td> <td>当前脚本的文件名</td></tr> <tr><td><strong>$n</strong></td> <td>传递给脚本或函数的参数, <code>n</code>是一个数字, 表示第几个参数, 例如, 第一个参数是<code>$1</code>, 第二个参数是<code>$2</code>, 当出现大于9的参数时需要使用<code>${nn}</code>来获取参数</td></tr> <tr><td><strong>$#</strong></td> <td>传递给脚本或函数的参数个数, 常用于循环</td></tr> <tr><td><strong>$</strong>*</td> <td>传递给脚本或函数的所有参数, 被双引号<code>&quot;&quot;</code>包含时, 展开成一个由双引号引起来的字符串, 包含了所有的位置参数, 每个位置参数由 shell 变量 IFS 的第一个字符 (默认为一个空格) 分隔开</td></tr> <tr><td><strong>$@</strong></td> <td>传递给脚本或函数的所有参数, 被双引号<code>&quot;&quot;</code>包含时, 会把每个位置参数都使用<code>&quot;&quot;</code>包裹</td></tr> <tr><td><strong>$?</strong></td> <td>上个命令的退出状态码(为0表示命令正常执行, 非0表示异常)或函数的返回值</td></tr> <tr><td><strong>$$</strong></td> <td>当前Shell进程ID, 对于 Shell 脚本, 就是这些脚本所在的进程ID</td></tr> <tr><td><strong>$!</strong></td> <td>后台运行的最后一个进程的进程号(PID)</td></tr></tbody></table> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;文件名称: <span class="token variable">$0</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数1: <span class="token variable">$1</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数2: <span class="token variable">${2}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;收到了<span class="token variable">$#</span>个参数&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;收到的所有参数为(\<span class="token variable">$*</span>): <span class="token variable">$*</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;收到的所有参数为(\<span class="token variable">$@</span>): <span class="token variable">$@</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;上一个命令的退出状态码: <span class="token variable">$?</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;shell 的进程id: <span class="token variable">$$</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>结果:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>λ <span class="token function">sh</span> index.sh 你好 <span class="token number">999</span> abc ttt

文件名称: index.sh
参数1: 你好
参数2: <span class="token number">999</span>
收到了4个参数
收到的所有参数为<span class="token punctuation">(</span><span class="token variable">$*</span><span class="token punctuation">)</span>: 你好 <span class="token number">999</span> abc ttt
收到的所有参数为<span class="token punctuation">(</span><span class="token variable">$@</span><span class="token punctuation">)</span>: 你好 <span class="token number">999</span> abc ttt
上一个命令的退出状态码: <span class="token number">0</span>
shell 的进程id: <span class="token number">1803</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="和-的区别"><a href="#和-的区别" class="header-anchor">#</a> <code>$*</code>和<code>$@</code>的区别</h4> <p><code>$*</code>和<code>$@</code>都表示传递给函数或脚本的所有参数, 不被双引号<code>&quot;&quot;</code>包含时, 都以<code>&quot;$1&quot; &quot;$2&quot; ~ &quot;$n&quot;</code>的形式输出所有参数</p> <p>但是当它们被双引号<code>&quot;&quot;</code>包含时, <code>&quot;$*&quot;</code>会将所有的参数作为一个整体, 以<code>&quot;$1 $2 ~ $n&quot;</code>的形式输出所有参数, <code>&quot;$@&quot;</code>会将各个参数分开, 以<code>&quot;$1&quot; &quot;$2&quot; ~ &quot;$n&quot;</code>的形式输出所有参数</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token builtin class-name">echo</span> <span class="token string">'$*='</span> <span class="token variable">$*</span>
<span class="token builtin class-name">echo</span> <span class="token string">'&quot;$*&quot;='</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">'&quot;$@&quot;='</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">'$@='</span> <span class="token variable">$@</span>


<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">'参数格式为 $*输出如下: '</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token variable">$*</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>
<span class="token keyword">done</span>


<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">'参数格式为 &quot;$*&quot; 输出如下: '</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>
<span class="token keyword">done</span>


<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">'参数格式为 $@ 输出如下: '</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token variable">$@</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">'参数格式为 &quot;$@&quot; 输出如下: '</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>结果如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>λ <span class="token function">sh</span> index.sh 你好 <span class="token number">999</span> abc ttt

<span class="token variable">$*</span><span class="token operator">=</span> 你好 <span class="token number">999</span> abc ttt
<span class="token string">&quot;<span class="token variable">$*</span>&quot;</span><span class="token operator">=</span> 你好 <span class="token number">999</span> abc ttt

<span class="token string">&quot;<span class="token variable">$@</span>&quot;</span><span class="token operator">=</span> 你好 <span class="token number">999</span> abc ttt
<span class="token variable">$@</span><span class="token operator">=</span> 你好 <span class="token number">999</span> abc ttt

参数格式为 <span class="token variable">$*</span>输出如下:
你好
<span class="token number">999</span>
abc
ttt

参数格式为 <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span> 输出如下:
你好 <span class="token number">999</span> abc ttt

参数格式为 <span class="token variable">$@</span> 输出如下:
你好
<span class="token number">999</span>
abc
ttt

参数格式为 <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span> 输出如下:
你好
<span class="token number">999</span>
abc
ttt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="退出状态"><a href="#退出状态" class="header-anchor">#</a> 退出状态</h4> <p><code>$?</code>可以获取上一个命令的退出状态, 所谓退出状态, 就是上一个命令执行后的返回结果</p> <p>大部分命令执行成功会返回<code>0</code>, 返回<code>非0</code>的表示执行不成功</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;error&quot;</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;success exit code&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>可以使用<code>exite</code>命令来退出脚本, 可以跟一个数字(0~255)表示退出状态码, 不跟数字则默认退出码为<code>0</code></p></blockquote> <h4 id="shift"><a href="#shift" class="header-anchor">#</a> shift</h4> <p>如果给一个程序添加大量的命令行参数, 那么通过<code>${xxx}</code>的方式去获取很不方法, shell 提供了一种方法, 尽管笨拙, 但可以解决这个问题, 执行一次 shift 命令, 就会导致所有的位置参数<strong>向前移动一个位置</strong>(除了其值永远不会改变的变量<code>$0</code>), <code>$#</code>的值也会相应的减1</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$0</span>共接受到<span class="token variable">$#</span>个参数&quot;</span>

<span class="token comment"># 当命令行的参数个数不小于0则进入循环 </span>
<span class="token keyword">while</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-gt</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>

  <span class="token comment"># 每次的参数(注意: $0不变)</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前剩余参数个数为: <span class="token variable">$#</span>, 值为: <span class="token variable">$1</span>&quot;</span>

  <span class="token comment"># 参数向前移动</span>
  <span class="token builtin class-name">shift</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>结果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>λ sh idx.sh *
idx.sh共接受到10个参数
当前剩余参数个数为: 10, 值为: file.txt
当前剩余参数个数为: 9, 值为: idx.sh
当前剩余参数个数为: 8, 值为: node_modules
当前剩余参数个数为: 7, 值为: out
当前剩余参数个数为: 6, 值为: package.json
当前剩余参数个数为: 5, 值为: ren.sh
当前剩余参数个数为: 4, 值为: rep.sh
当前剩余参数个数为: 3, 值为: src
当前剩余参数个数为: 2, 值为: test.md
当前剩余参数个数为: 1, 值为: tsconfig.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>利用<code>shift</code>可以实现一个简单的命令行参数解析</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;参数非法, 请参考如下帮助使用<span class="token entity" title="\n">\n</span>&quot;</span>
  <span class="token function">sh</span> <span class="token variable">$0</span> <span class="token parameter variable">--help</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token comment"># 目录不存在, 则默认为当前目录</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-d</span> <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">dir</span><span class="token operator">=</span><span class="token variable">$1</span>
  <span class="token builtin class-name">shift</span>
<span class="token keyword">else</span>
  <span class="token assign-left variable">dir</span><span class="token operator">=</span>.
<span class="token keyword">fi</span>


<span class="token comment"># 是否递归子目录</span>
<span class="token assign-left variable">isRecursion</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">while</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token operator">!=</span> <span class="token number">0</span>  <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span> 
  <span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>
    <span class="token parameter variable">--help</span> <span class="token operator">|</span> -h<span class="token punctuation">)</span> <span class="token comment"># 匹配指定的选项</span>
      <span class="token builtin class-name">shift</span> <span class="token comment"># 跳过这个选项匹配下一个</span>
      <span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token comment"># 输出帮助文档</span></span>
<span class="token variable">$0</span> 脚本使用帮助....
    选项: 
    参数:
    模式
EOF</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token parameter variable">--type</span> <span class="token operator">|</span> -t<span class="token punctuation">)</span>
      <span class="token builtin class-name">shift</span> <span class="token comment"># 跳过这个选项</span>
      <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token variable">$1</span> <span class="token comment"># 获取选项对应的值</span>
      <span class="token builtin class-name">shift</span> <span class="token comment"># 跳过这个选项值, 继续匹配下一个</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token parameter variable">--regexp</span> <span class="token operator">|</span> -r<span class="token punctuation">)</span>
      <span class="token builtin class-name">shift</span>
      <span class="token assign-left variable">reg</span><span class="token operator">=</span><span class="token variable">$1</span>
      <span class="token builtin class-name">shift</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token parameter variable">--recursion</span> <span class="token operator">|</span> -rec<span class="token punctuation">)</span>
      <span class="token builtin class-name">shift</span>
      <span class="token assign-left variable">isRecursion</span><span class="token operator">=</span><span class="token number">1</span> 
      <span class="token builtin class-name">shift</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;未识别的参数<span class="token variable">$1</span>&quot;</span>
      <span class="token builtin class-name">exit</span> <span class="token number">1</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token keyword">esac</span>
<span class="token keyword">done</span>


<span class="token builtin class-name">echo</span> <span class="token string">&quot;dir = <span class="token variable">$dir</span>, type = <span class="token variable">$type</span>, reg = <span class="token variable">$reg</span>, isRecursion = <span class="token variable">$isRecursion</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h3 id="变量替换"><a href="#变量替换" class="header-anchor">#</a> 变量替换</h3> <p>变量替换可以根据变量的状态 (是否为空, 是否定义等) 来改变它的值.</p> <h4 id="name-张三"><a href="#name-张三" class="header-anchor">#</a> ${name:-&quot;张三&quot;}</h4> <p>如果变量<code>name</code>没有设置或不存在, 那么返回 &quot;张三&quot;, 否则返回<code>name</code>的值</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 等价于 newName = name || &quot;张三&quot;</span>
<span class="token assign-left variable">newName</span><span class="token operator">=</span><span class="token variable">${name<span class="token operator">:-</span>&quot;张三&quot;}</span>

<span class="token builtin class-name">echo</span> <span class="token variable">$newName</span>
<span class="token comment"># 张三</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="name-张三-2"><a href="#name-张三-2" class="header-anchor">#</a> ${name:=&quot;张三&quot;}</h4> <p>如果变量<code>name</code>没有设置或不存在, 那么返回 &quot;张三&quot;, 并将<code>name</code>的值设置为 &quot;张三&quot;, 否则返回<code>name</code>的值</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;李四&quot;</span>

<span class="token comment"># 等价于 newName = name = name || &quot;张三&quot;</span>
<span class="token assign-left variable">newName</span><span class="token operator">=</span><span class="token variable">${name<span class="token operator">:=</span>&quot;张三&quot;}</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;newName=<span class="token variable">$newName</span>, name=<span class="token variable">$name</span>&quot;</span>
<span class="token comment"># newName=李四, name=李四</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="name-message"><a href="#name-message" class="header-anchor">#</a> ${name:?&quot;message&quot;}</h4> <p>如果变量<code>name</code>没有设置或不存在, 那么将<code>message</code>送到标准错误输出, 否则返回<code>name</code>的值</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">newName</span><span class="token operator">=</span><span class="token variable">${name?=&quot;未定义的变量name&quot;}</span>
<span class="token comment"># idx.sh: line 3: name: 未定义的变量name</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="name-张三-3"><a href="#name-张三-3" class="header-anchor">#</a> ${name:+&quot;张三&quot;}</h4> <p>如果变量<code>name</code>被定义, 那么返回&quot;张三&quot;, 但不改变<code>name</code>的值, 否则返回空</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;张三&quot;</span>
<span class="token assign-left variable">newName</span><span class="token operator">=</span><span class="token variable">${name<span class="token operator">:+</span>&quot;李四&quot;}</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;newName=<span class="token variable">$newName</span>, name=<span class="token variable">$name</span>&quot;</span>
<span class="token comment"># newName=李四, name=张三</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="变量名参数展开"><a href="#变量名参数展开" class="header-anchor">#</a> 变量名参数展开</h3> <p>shell 具有返回变量名的能力, 这会用在一些相当独特的情况下</p> <ul><li><code>${!prefix*}</code></li> <li><code>${!prefix@}</code></li></ul> <p>这种展开会返回以prefix开头的已有变量名, 两种方式展开的结果是等价的, 如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">bName</span><span class="token operator">=</span><span class="token string">&quot;小红&quot;</span>
<span class="token assign-left variable">bAge</span><span class="token operator">=</span><span class="token number">18</span>
<span class="token assign-left variable">bSex</span><span class="token operator">=</span><span class="token string">&quot;女&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>b*}</span> 
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>b@}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>结果</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>λ <span class="token function">sh</span> idx.sh
bAge bName bSex
bAge bName bSex
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h2> <p>单引号:</p> <ul><li><p>单引号里的任何字符都会原样输出, 单引号字符串中的变量是无效的</p></li> <li><p>单引号字串中不能出现单独一个的单引号 (对单引号使用转义符后也不行) , 但可成对出现, 作为字符串拼接使用</p></li></ul> <p>双引号</p> <ul><li>双引号里可以有变量</li> <li>双引号里可以出现转义字符</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;张三&quot;</span>

<span class="token assign-left variable">str1</span><span class="token operator">=</span><span class="token string">'this is a ${name}'</span>
<span class="token assign-left variable">str2</span><span class="token operator">=</span><span class="token string">&quot;this is a <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">${name}</span><span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${str1}</span> <span class="token comment"># this is a ${name}</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${str2}</span> <span class="token comment"># this is a &quot;张三&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="转义字符"><a href="#转义字符" class="header-anchor">#</a> 转义字符</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">\</span><span class="token punctuation">\</span>	反斜杠
<span class="token punctuation">\</span>a	输出警报声
<span class="token punctuation">\</span>b	退格 <span class="token punctuation">(</span>删除键<span class="token punctuation">)</span> 
<span class="token punctuation">\</span>f	换页<span class="token punctuation">(</span>FF<span class="token punctuation">)</span>, 将当前位置移到下页开头
<span class="token punctuation">\</span>n	换行
<span class="token punctuation">\</span>r	回车
<span class="token punctuation">\</span>t	水平制表符 <span class="token punctuation">(</span>tab键<span class="token punctuation">)</span> 
<span class="token punctuation">\</span>v	垂直制表符
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>echo</code>命令默认是不转义上面的字符的, 需要加<code>-e</code>选项, <code>-E</code>选项禁止转义, 默认也是不转义的, 使用 <code>-n</code>选项可以禁止插入换行符</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 默认不转义或使用-E</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;哈<span class="token entity" title="\n">\n</span>哈&quot;</span> 
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-E</span> <span class="token string">&quot;哈<span class="token entity" title="\n">\n</span>哈&quot;</span> 
<span class="token comment"># 哈\n哈</span>
<span class="token comment"># 哈\n哈</span>

<span class="token comment"># 开启转义</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;哈<span class="token entity" title="\n">\n</span>哈&quot;</span> 
<span class="token comment"># 哈</span>
<span class="token comment"># 哈</span>

<span class="token comment"># 禁止输出换行符</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;哈<span class="token entity" title="\n">\n</span>哈&quot;</span> 
<span class="token comment"># 哈\n哈</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="字符串拼接"><a href="#字符串拼接" class="header-anchor">#</a> 字符串拼接</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">hi</span><span class="token operator">=</span><span class="token string">&quot;hello&quot;</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;张三&quot;</span>
<span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token string">&quot;18&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${hi}</span>, 我叫<span class="token variable">${name}</span>, 今年<span class="token variable">${age}</span>岁 <span class="token comment"># hello, 我叫张三, 今年18岁</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="获取字符串长度"><a href="#获取字符串长度" class="header-anchor">#</a> 获取字符串长度</h3> <p><code>${#parameter}</code>展开成由 parameter 所包含的字符串的长度(等价于一些编程语言中的<code>.length</code>). 通常, parameter 是一个字符串; 如果 parameter 是<code>@</code>或者是<code>*</code>的话, 则展开结果是位置参数的个数(同<code>$#</code>或者<code>$*</code>)</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;hello shell&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$msg</span>变量为: <span class="token variable">${msg}</span>, 长度为: <span class="token variable">${<span class="token operator">#</span>msg}</span>&quot;</span>
<span class="token comment"># $msg变量为: hello shell, 长度为: 11</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="截取字符串"><a href="#截取字符串" class="header-anchor">#</a> 截取字符串</h3> <ul><li><p><code>${parameter:offset}</code>: 从parameter中提取始于第 offset 个字符直到字符串的末尾的字符串</p></li> <li><p><code>${parameter:offset:length}</code>: 从parameter中提取的字符始于第 offset 个字符长度为 length 的字符串</p></li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;hello shell&quot;</span>

<span class="token comment"># 从第6个字符开始提取到结尾</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${msg<span class="token operator">:</span>6}</span>&quot;</span>
<span class="token comment"># shell</span>

<span class="token comment"># 从第6个字符开始提取3个长度</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${msg<span class="token operator">:</span>6<span class="token operator">:</span>3}</span>&quot;</span>
<span class="token comment"># she</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>若 offset 的值为负数, 则认为 offset 值是从字符串的末尾开始算起, 而不是从开头. 注意负数前面必须有一个空格, 为防止与 <code>${parameter:-word}</code>展开形式混淆. length, 若出现, 则必须不能小于零</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;hello shell&quot;</span>

<span class="token comment"># 提取倒数4个长度的字符串(注意 -号之前的空格)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${msg<span class="token operator">:</span> -4}</span>&quot;</span>
<span class="token comment"># hell</span>

<span class="token comment"># 从倒数4个长度的字符串中提取2个长度的字符串(注意 -号之前的空格)</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${msg<span class="token operator">:</span> -4<span class="token operator">:</span>2}</span>&quot;</span>
<span class="token comment"># he</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="清除开头的字符串"><a href="#清除开头的字符串" class="header-anchor">#</a> 清除开头的字符串</h3> <p><code>${parameter#pattern}</code>和<code>${parameter##pattern}</code></p> <p>根据<code>pattern</code>来删除左边, 保留右边, <code>%</code>格式为从右起最短匹配, <code>%%</code>格式则是最长匹配</p> <p><code>#</code>形式清除<strong>最短的匹配结果</strong>, 而该<code>##</code>模式清除<strong>最长的匹配结果</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">text</span><span class="token operator">=</span><span class="token string">&quot;aaa---bbb---ccc&quot;</span><span class="token punctuation">;</span>
<span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token variable">${text<span class="token operator">#</span>*---}</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$var</span> <span class="token comment"># bbb---ccc</span>


<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;http://localhost:3000/test/index.html&quot;</span><span class="token punctuation">;</span>
<span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token variable">${url<span class="token operator">##</span>*<span class="token operator">/</span>}</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$var</span> <span class="token comment"># index.html</span>


<span class="token comment"># 获取文件扩展名</span>
<span class="token assign-left variable">ext</span><span class="token operator">=</span><span class="token variable">${file<span class="token operator">##</span>*\.}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="清除结尾的字符串"><a href="#清除结尾的字符串" class="header-anchor">#</a> 清除结尾的字符串</h3> <p><code>${parameter%pattern}</code>和<code>${parameter%%pattern}</code></p> <p>根据<code>pattern</code>来删除右边, 保留左边, <code>%</code>格式为从右起最短匹配, <code>%%</code>格式则是最长匹配</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>


<span class="token assign-left variable">text</span><span class="token operator">=</span><span class="token string">&quot;aaa---bbb---ccc&quot;</span>
<span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token variable">${text<span class="token operator">%</span>---*}</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$var</span> <span class="token comment"># aaa---bbb</span>


<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;http://localhost:3000/test/index.html&quot;</span>
<span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token variable">${url<span class="token operator">%%</span><span class="token operator">/</span>*}</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$var</span> <span class="token comment"># http:</span>

<span class="token comment"># 获取文件名</span>
<span class="token assign-left variable">fileNname</span><span class="token operator">=</span><span class="token variable">${file<span class="token operator">%%</span>\.*}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="替换字符串"><a href="#替换字符串" class="header-anchor">#</a> 替换字符串</h3> <ul><li><code>${parameter/pattern/string}</code>: 对<code>parameter</code>的内容执行查找和替换操作, 将第一个<code>pattern</code>匹配项会被替换为<code>string</code></li> <li><code>${parameter//pattern/string}</code>: 同上不过是将所有的匹配项都会被替换掉</li> <li><code>${parameter/#pattern/string}</code>: 要求匹配项出现在字符串的开头</li> <li><code>${parameter/%pattern/string}</code>: 要求匹配项出现在字符串的末尾</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">foo</span><span class="token operator">=</span>ABC---ABC---ABC

<span class="token comment"># 将变量 foo 中的的第一个 ABC 替换为 abc</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">/</span>ABC<span class="token operator">/</span>abc}</span>
<span class="token comment"># abc---ABC---ABC</span>

<span class="token comment"># 将变量 foo 中的的所有的 ABC 替换为 abc</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">/</span><span class="token operator">/</span>ABC<span class="token operator">/</span>abc}</span>
<span class="token comment"># abc---abc---abc</span>

<span class="token comment"># 将变量 foo 中的的开头的 ABC 替换为 abc</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">/</span><span class="token operator">#</span>ABC<span class="token operator">/</span>abc}</span>
<span class="token comment"># abc---ABC---ABC</span>

<span class="token comment"># 将变量 foo 中的的结尾的 ABC 替换为 abc</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">/</span><span class="token operator">%</span>ABC<span class="token operator">/</span>abc}</span>
<span class="token comment"># ABC---ABC---abc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="大小写转换"><a href="#大小写转换" class="header-anchor">#</a> 大小写转换</h3> <p>bash 有四个参数展开和<code>declare</code>命令的两个选项来支持大小写转换</p> <h4 id="declare-命令"><a href="#declare-命令" class="header-anchor">#</a> declare 命令</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;The is a Test TEXT&quot;</span>

<span class="token builtin class-name">declare</span> <span class="token parameter variable">-u</span> upper
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-l</span> lower

<span class="token assign-left variable">upper</span><span class="token operator">=</span><span class="token variable">$msg</span>
<span class="token assign-left variable">lower</span><span class="token operator">=</span><span class="token variable">$msg</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$msg</span> = <span class="token variable">$msg</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$upper</span> = <span class="token variable">$upper</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$lower</span> = <span class="token variable">$lower</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="参数展开"><a href="#参数展开" class="header-anchor">#</a> 参数展开</h4> <p>字符串的大小写转换的参数如下:</p> <table><thead><tr><th style="text-align:left;">格式</th> <th style="text-align:left;">结果</th></tr></thead> <tbody><tr><td style="text-align:left;">${parameter,,}</td> <td style="text-align:left;">把 parameter 的值全部展开成小写字母.</td></tr> <tr><td style="text-align:left;">${parameter,}</td> <td style="text-align:left;">仅仅把 parameter 的第一个字符展开成小写字母.</td></tr> <tr><td style="text-align:left;">${parameter^^}</td> <td style="text-align:left;">把 parameter 的值全部转换成大写字母.</td></tr> <tr><td style="text-align:left;">${parameter^}</td> <td style="text-align:left;">仅仅把 parameter 的第一个字符转换成大写字母 (首字母大写) .</td></tr></tbody></table> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;The is a Test TEXT&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$msg</span> = <span class="token variable">$msg</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;全部小写 = <span class="token variable">${msg<span class="token operator">,,</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个字符变成小写 = <span class="token variable">${msg<span class="token operator">,</span>}</span>&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;全部大写 = <span class="token variable">${msg<span class="token operator">^^</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个字符变成大写 = <span class="token variable">${msg<span class="token operator">^</span>}</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="查找子字符串"><a href="#查找子字符串" class="header-anchor">#</a> 查找子字符串</h3> <p>使用反引号**`**, 索引从1开始</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;hello&quot;</span>
<span class="token assign-left variable">e</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> e<span class="token variable">`</span></span><span class="token comment"># 查找 e</span>
<span class="token assign-left variable">lo</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> lo<span class="token variable">`</span></span><span class="token comment"># 查找 i 或 o</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$e</span> <span class="token comment"># 2</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$lo</span> <span class="token comment"># 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="条件判断"><a href="#条件判断" class="header-anchor">#</a> 条件判断</h2> <h3 id="if语句"><a href="#if语句" class="header-anchor">#</a> if语句</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token number">30</span>

<span class="token comment"># 条件表达式必须要放到方括号之间, 并且要有空格</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a=b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$c</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token comment"># 如果 then 放到一行就要加分号分隔</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a=c&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$b</span> <span class="token operator">==</span> <span class="token variable">$c</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;b=c&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;都没有匹配上&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>shell中不允许出现空的if块, 例如:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token comment"># 这里会报错不能为空</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;都没有匹配上&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="test语句"><a href="#test语句" class="header-anchor">#</a> test语句</h3> <p><code>test</code>语句很像<code>if</code>语句, 它有两种等价模式:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">test</span> expression

<span class="token comment"># or</span>

<span class="token punctuation">[</span> expression <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这里的expression是一个表达式, 其执行结果是 true 或者是 false. 当表达式为真时, 这个 test 命令返回一个零退出状态, 当表达式为假时, test 命令退出状态为1</p> <h3 id="文件测试符"><a href="#文件测试符" class="header-anchor">#</a> 文件测试符</h3> <table><thead><tr><th style="text-align:left;">表达式</th> <th style="text-align:left;">下列条件为真则返回true</th></tr></thead> <tbody><tr><td style="text-align:left;">file1 -ef file2</td> <td style="text-align:left;">file1 和 file2 拥有相同的索引号 (通过硬链接两个文件名指向相同的文件) .</td></tr> <tr><td style="text-align:left;">file1 -nt file2</td> <td style="text-align:left;">file1新于 file2.</td></tr> <tr><td style="text-align:left;">file1 -ot file2</td> <td style="text-align:left;">file1早于 file2.</td></tr> <tr><td style="text-align:left;">-b file</td> <td style="text-align:left;">file 存在并且是一个块 (设备) 文件.</td></tr> <tr><td style="text-align:left;">-c file</td> <td style="text-align:left;">file 存在并且是一个字符 (设备) 文件.</td></tr> <tr><td style="text-align:left;">-d file</td> <td style="text-align:left;">file 存在并且是一个<strong>目录</strong>.</td></tr> <tr><td style="text-align:left;">-e file</td> <td style="text-align:left;">file <strong>是否存在</strong>(包括目录).</td></tr> <tr><td style="text-align:left;">-f file</td> <td style="text-align:left;">file 存在并且是一个<strong>普通文件</strong>.</td></tr> <tr><td style="text-align:left;">-g file</td> <td style="text-align:left;">file 存在并且设置了组 ID.</td></tr> <tr><td style="text-align:left;">-G file</td> <td style="text-align:left;">file 存在并且由有效组 ID 拥有.</td></tr> <tr><td style="text-align:left;">-k file</td> <td style="text-align:left;">file 存在并且设置了它的&quot; sticky bit &quot;.</td></tr> <tr><td style="text-align:left;">-L file</td> <td style="text-align:left;">file 存在并且是一个符号链接.</td></tr> <tr><td style="text-align:left;">-O file</td> <td style="text-align:left;">file 存在并且由有效用户 ID 拥有.</td></tr> <tr><td style="text-align:left;">-p file</td> <td style="text-align:left;">file 存在并且是一个命名管道.</td></tr> <tr><td style="text-align:left;">-r file</td> <td style="text-align:left;">file 存在并且<strong>可读</strong>(有效用户有可读权限) .</td></tr> <tr><td style="text-align:left;">-s file</td> <td style="text-align:left;">file 存在且其长度大于零.</td></tr> <tr><td style="text-align:left;">-S file</td> <td style="text-align:left;">file 存在且是一个网络 socket.</td></tr> <tr><td style="text-align:left;">-t fd</td> <td style="text-align:left;">fd 是一个定向到终端／从终端定向的文件描述符. 这可以被用来决定是否重定向了标准输入／输出错误.</td></tr> <tr><td style="text-align:left;">-u file</td> <td style="text-align:left;">file 存在并且设置了 setuid 位.</td></tr> <tr><td style="text-align:left;">-w file</td> <td style="text-align:left;">file 存在并且<strong>可写</strong>(有效用户拥有可写权限) .</td></tr> <tr><td style="text-align:left;">-x file</td> <td style="text-align:left;">file 存在并且<strong>可执行</strong>(有效用户有执行／搜索权限) .</td></tr></tbody></table> <blockquote><p>权限几个判断, 如果只有一个部分符合, 则认为是有权限的</p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token builtin class-name">echo</span> 你输入的文件名是: <span class="token variable">$1</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个文件存在&quot;</span>
<span class="token keyword">else</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个文件不存在&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个文件是一个目录&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-r</span> <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个文件可以读取&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="字符串运算符"><a href="#字符串运算符" class="header-anchor">#</a> 字符串运算符</h3> <table><thead><tr><th style="text-align:left;">表达式</th> <th style="text-align:left;">如果下列条件为真则返回True</th></tr></thead> <tbody><tr><td style="text-align:left;">string</td> <td style="text-align:left;">string 不为 null.</td></tr> <tr><td style="text-align:left;">$string</td> <td style="text-align:left;">检测字符串是否不为空</td></tr> <tr><td style="text-align:left;">-n string</td> <td style="text-align:left;">字符串 string 的长度大于零.</td></tr> <tr><td style="text-align:left;">-z string</td> <td style="text-align:left;">字符串 string 的长度为零.</td></tr> <tr><td style="text-align:left;">string1 = string2<br>string1 == string2</td> <td style="text-align:left;">string1 和 string2 相同. 单或双等号都可以, 不过双等号更受欢迎.</td></tr> <tr><td style="text-align:left;">string1 != string2</td> <td style="text-align:left;">string1 和 string2 不相同.</td></tr> <tr><td style="text-align:left;">string1 &gt; string2</td> <td style="text-align:left;">sting1 排列在 string2 之后.</td></tr> <tr><td style="text-align:left;">string1 &lt; string2</td> <td style="text-align:left;">string1 排列在 string2 之前.</td></tr></tbody></table> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">&quot;efg&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$a</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span>: 字符串长度为 0&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span>: 字符串长度不为 0&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>注意: 当与<code>test</code>一块使用的时候, <code>&gt;</code>和<code>&lt;</code>表达式操作符必须用引号引起来 (或者是用反斜杠转义) . 如果不这样, 它们会被 shell 解释为重定向操作符, 造成潜在的破坏结果</p></blockquote> <h3 id="整型表达式"><a href="#整型表达式" class="header-anchor">#</a> 整型表达式</h3> <p>关系运算符只支持数字, 不支持字符串, 除非字符串的值是<strong>数字</strong></p> <table><thead><tr><th style="text-align:left;">表达式</th> <th style="text-align:left;">如果为真则返回true</th></tr></thead> <tbody><tr><td style="text-align:left;">integer1 -eq integer2</td> <td style="text-align:left;">integer1 等于 integer2.</td></tr> <tr><td style="text-align:left;">integer1 -ne integer2</td> <td style="text-align:left;">integer1 不等于 integer2.</td></tr> <tr><td style="text-align:left;">integer1 -le integer2</td> <td style="text-align:left;">integer1 小于或等于 integer2.</td></tr> <tr><td style="text-align:left;">integer1 -lt integer2</td> <td style="text-align:left;">integer1 小于 integer2.</td></tr> <tr><td style="text-align:left;">integer1 -ge integer2</td> <td style="text-align:left;">integer1 大于或等于 integer2.</td></tr> <tr><td style="text-align:left;">integer1 -gt integer2</td> <td style="text-align:left;">integer1 大于 integer2.</td></tr></tbody></table> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-eq</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -eq <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-gt</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 大于 b&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 小于 b&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="test复合命令"><a href="#test复合命令" class="header-anchor">#</a> test复合命令[[]]</h3> <p>目前的 bash 版本包括一个复合命令, 作为加强的 test 命令替代物. 它使用以下语法:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">[</span><span class="token punctuation">[</span> expression <span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">2</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">&gt;</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a大于b&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;b大于a&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="在if中使用正则表达式"><a href="#在if中使用正则表达式" class="header-anchor">#</a> 在if中使用正则表达式</h4> <p>还有类似于 test expression 是一个表达式, 其计算结果为真或假. 这个<code>[[ ]]</code>命令非常相似于<code>test</code>命令 (它支持所有的表达式) , 但是增加了一个重要的新的字符串表达式:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 如果 string1匹配扩展的正则表达式 regex, 其返回值为真</span>
string1 <span class="token operator">=~</span> regex
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">&quot;a&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=~</span> <span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a是一个数字&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=~</span> <span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;a是一个字母&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>[[ ]]</code>添加的另一个功能是<code>==</code>操作符支持类型匹配, 正如路径名展开所做的那样:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">FILE</span><span class="token operator">=</span>foo.txt

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$FILE</span> <span class="token operator">==</span> foo.*<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;yes&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;no&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><code>[[ ]]</code>对于计算文件和路径名很有帮助</p></blockquote> <h3 id="整数复合命令"><a href="#整数复合命令" class="header-anchor">#</a> 整数复合命令(())</h3> <p><code>(( ))</code>复合命令是专门为整数设计的, 被用来执行算术真测试. 如果算术计算的结果是非零值, 则其测试值为真,</p> <p><code>(())</code>里面是可以执行常规运算符, 一元运算符, 赋值运算符, 位运算符, 逻辑运算符, 三元运算符的,</p> <p>因为它只处理整数, 所以可以不加<code>$</code>使用变量, 它能够通过名字识别出变量</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token comment"># if (( (($a + $b)) &gt; 10 )); then</span>

<span class="token comment"># 可以不加 $ 使用变量</span>
<span class="token keyword">if</span> <span class="token variable"><span class="token punctuation">((</span> <span class="token punctuation">((</span>a <span class="token operator">+</span> b<span class="token punctuation">))</span></span> <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token punctuation">))</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> a + b 大于 <span class="token number">10</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> a + b 不大于 <span class="token number">10</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>也可以用于计算变量</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span> a <span class="token operator">+</span> b<span class="token variable">))</span></span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;sum = <span class="token variable">$sum</span>&quot;</span> <span class="token comment"># 21</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="控制操作符"><a href="#控制操作符" class="header-anchor">#</a> 控制操作符</h3> <p>bash 支持两种可以执行分支任务的控制操作符. <code>&amp;&amp; (AND)</code>和<code>|| (OR)</code>操作符作用如同 复合命令<code>[[ ]]</code>中的逻辑操作符. 这是语法:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># command1命令 执行成功时才会执行 command2命令</span>
command1 <span class="token operator">&amp;&amp;</span> command2 

<span class="token comment"># command1命令 执行失败时才会执行 command2命令</span>
command1 <span class="token operator">||</span> command2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>利用控制操作符可以写出一些有趣的命令如:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 创建一个叫 temp 的目录成功后, 进入该目录</span>
<span class="token function">mkdir</span> temp <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> temp

<span class="token comment"># 判断当前目录下有没有叫 temp 的目录, 没有则会创建</span>
<span class="token punctuation">[</span> <span class="token parameter variable">-d</span> temp <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token function">mkdir</span> temp

<span class="token comment"># 当没有 temp 目录时, 退出脚本退出码为1</span>
<span class="token punctuation">[</span> <span class="token parameter variable">-d</span> temp <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="read"><a href="#read" class="header-anchor">#</a> read</h2> <p><code>read</code>命令从标准输入读取单行数据. 这个命令可以用来读取键盘输入, 当使用重定向的时候, 读取文件中的一行数据语法如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># options 是选项</span>
<span class="token comment"># variable 来存储输入数值的一个或多个变量名</span>
<span class="token builtin class-name">read</span> <span class="token punctuation">[</span>-options<span class="token punctuation">]</span> <span class="token punctuation">[</span>variable<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>如果不指定变量名, 会把输入保存入默认变量<code>REPLY</code></p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 这里会读取用户的输入并赋值给 name 这个变量</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入你的姓名: &quot;</span> name
<span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的名字是: <span class="token variable">${name}</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="读取多个输入"><a href="#读取多个输入" class="header-anchor">#</a> 读取多个输入</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入参数: &quot;</span> a b c d

<span class="token builtin class-name">echo</span> <span class="token string">&quot;a = <span class="token variable">$a</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b = <span class="token variable">$b</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;c = <span class="token variable">$c</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;d = <span class="token variable">$d</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>参数不足时多余的参数则为空</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>λ <span class="token function">sh</span> idx.sh
请输入参数: <span class="token number">1</span> <span class="token number">2</span>
a <span class="token operator">=</span> <span class="token number">1</span>
b <span class="token operator">=</span> <span class="token number">2</span>
c <span class="token operator">=</span>
d <span class="token operator">=</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>参数多余时多余的参数则会被保存到最后一个变量中</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>λ <span class="token function">sh</span> idx.sh
请输入参数: <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span>
a <span class="token operator">=</span> <span class="token number">1</span>
b <span class="token operator">=</span> <span class="token number">2</span>
c <span class="token operator">=</span> <span class="token number">3</span>
d <span class="token operator">=</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>选项</p> <ul><li><code>-a</code>: 后跟一个变量, 该变量会被认为是个数组, 然后给其赋值, 默认是以空格为分割符</li> <li><code>-p &quot;message&quot;</code>: 在等待read输入时, 输出提示信息</li> <li><code>-t 秒数</code>: read命令会一直等待用户输入, 使用此选项可以指定等待时间</li> <li><code>-n 数字</code>: read命令只接受指定的字符数, 就会执行</li> <li><code>-s</code>: 隐藏输入的数据, 适用于机密信息的输入</li> <li><code>-d delimiter</code>: 用字符串 delimiter 中的第一个字符指示输入结束, 而不是一个换行符</li> <li><code>-e</code>: 在输入的时候可以使用命令补全功能</li> <li><code>-r</code>: 不把反斜杠字符解释为转义字符</li> <li><code>-u fd</code>: 使用文件描述符fd中的输入, 而不是标准输入</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token builtin class-name">read</span> <span class="token parameter variable">-t</span> <span class="token number">10</span> <span class="token parameter variable">-n</span> <span class="token number">6</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入你的密码: &quot;</span> <span class="token parameter variable">-s</span> <span class="token builtin class-name">pwd</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;你的密码是: <span class="token variable">$pwd</span>&quot;</span>
  <span class="token comment"># echo 你的密码是: $REPLY</span>
<span class="token keyword">else</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;超时未输入&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>如果不指定变量名, 会把输入保存入默认变量<code>REPLY</code></p></blockquote> <h3 id="ifs"><a href="#ifs" class="header-anchor">#</a> IFS</h3> <p>shell 对提供给 read 的输入按照单词进行分离, 这种行为由 shell 变量__IFS__ (内部字符分隔符) 配置. <strong>IFS</strong>的默认值包含一个空格, 一个 tab, 和一个换行符, 每一个都会把字段分割开, 可以调整<strong>IFS</strong>的值来控制输入字段的分离:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">FILE</span><span class="token operator">=</span>/etc/passwd

<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入你的用户名:  &quot;</span> user_name
<span class="token assign-left variable">file_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">grep</span> <span class="token string">&quot;^<span class="token variable">$user_name</span>:&quot;</span> $FILE<span class="token variable">)</span></span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$file_info</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token comment"># 指定 : 为分割符(会自动恢复为原来的值)</span>
    <span class="token assign-left variable"><span class="token environment constant">IFS</span></span><span class="token operator">=</span><span class="token string">&quot;:&quot;</span>

    <span class="token comment"># 从 file_info 文件中读取出对应的字段并赋值给 user pw uid gid name home shell</span>
    <span class="token builtin class-name">read</span> user pw uid gid name home shell <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">$file_info</span>&quot;</span>

    <span class="token builtin class-name">echo</span> <span class="token string">&quot;用户名为: '<span class="token variable">$user</span>'&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;UID为: '<span class="token variable">$uid</span>'&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;GID为: '<span class="token variable">$gid</span>'&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;全称用户名为: '<span class="token variable">$name</span>'&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;家目录为: '<span class="token variable">$home</span>'&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell目录为: '<span class="token variable">$shell</span>'&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有获取到该 '<span class="token variable">$user_name</span>' 用户的信息&quot;</span> <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;2</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="重定向操作符"><a href="#重定向操作符" class="header-anchor">#</a> 重定向操作符&lt;&lt;&lt;</h3> <p>上面例子中的<code>&lt;&lt;&lt;</code>操作符的作用是等价于管道符的<code>|</code>, 但是不能把管道用在<code>read</code>上, 如下: :</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 这个命令将显示成功, 但是 REPLY 变量 总是为空</span>
<span class="token builtin class-name">echo</span> <span class="token string">'hello'</span> <span class="token operator">|</span> <span class="token builtin class-name">read</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这与shell处理管道线的方式有关系. 在 bash (和其它 shells) 中, 管道符会创建子 shell, 这个子 shell 是为了执行执行管线中的命令而创建的shell和它的环境的副本, 上面示例中, <code>read</code>命令将在子 shell 中执行正常赋值<code>REPLY</code>, 但是当命令退出后, <strong>子 shell 和它的环境将被破坏掉</strong></p> <h2 id="case语句"><a href="#case语句" class="header-anchor">#</a> case语句</h2> <p>Shell中case语句以<code>case</code>开头, 以<code>esac</code>结尾, 以<code>;;</code>作为分割效果和一些编程中的<strong>switch</strong>语句相同</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>


<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入字符串, 并按enter确认: &quot;</span> key

<span class="token keyword">case</span> <span class="token variable">${key}</span> <span class="token keyword">in</span>
  <span class="token number">999</span><span class="token punctuation">)</span> <span class="token comment"># 比较不区分字符串和数字 </span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的值是: 999&quot;</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token comment"># ;; 号等价于 break, 在shell中没有 case语句穿透</span>
  <span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;您输入的是数字&quot;</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>a-z<span class="token punctuation">]</span><span class="token operator">|</span><span class="token punctuation">[</span>A-Z<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;您输入的是字母&quot;</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
  *<span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;您输入的了其他字符: <span class="token variable">${key}</span>&quot;</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="匹配模式"><a href="#匹配模式" class="header-anchor">#</a> 匹配模式</h3> <p>case 语句使用的模式和路径展开中使用的那些是一样的, 如下:</p> <table><thead><tr><th style="text-align:left;">模式</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">a)</td> <td style="text-align:left;">若单词为&quot; a &quot;, 则匹配</td></tr> <tr><td style="text-align:left;">a | A)</td> <td style="text-align:left;">若单词为&quot; a &quot;或者 &quot;A&quot;, 则匹配</td></tr> <tr><td style="text-align:left;">[[:alpha:]])</td> <td style="text-align:left;">若单词是一个字母字符, 则匹配</td></tr> <tr><td style="text-align:left;">???)</td> <td style="text-align:left;">若单词只有3个字符, 则匹配</td></tr> <tr><td style="text-align:left;">*.txt)</td> <td style="text-align:left;">若单词以&quot; .txt &quot;字符结尾, 则匹配</td></tr> <tr><td style="text-align:left;">*)</td> <td style="text-align:left;">匹配任意单词. 把这个模式做为 case 命令的最后一个模式, 是一个很好的做法, 可以捕捉到任意一个与先前模式不匹配的数值; 也就是说, 捕捉到任何可能的无效值.</td></tr></tbody></table> <h3 id="匹配多个条件"><a href="#匹配多个条件" class="header-anchor">#</a> 匹配多个条件</h3> <p>默认case语句是匹配到一个时则会终止退出, 如果要case语句匹配多个条件则使用<code>;;&amp;</code>结尾而不是<code>;;</code>, 如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span>a

<span class="token keyword">case</span> <span class="token variable">$a</span> <span class="token keyword">in</span>
  a<span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$a</span>等于a&quot;</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$a</span>是一个字母&quot;</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>
  *<span class="token punctuation">)</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;default&quot;</span>
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="基本运算符"><a href="#基本运算符" class="header-anchor">#</a> 基本运算符</h2> <h3 id="数学运算"><a href="#数学运算" class="header-anchor">#</a> 数学运算</h3> <p>shell中的可以使用<code>expr</code>, <code>awk</code>命令来进行数学运算</p> <p>乘号*****前边必须加反斜杠才能实现乘法运算</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;a和b的值分别为: <span class="token variable">$a</span> <span class="token variable">$b</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a+b=<span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a-b=<span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a*b=<span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>*$b<span class="token variable">`</span></span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a/b=<span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a / $b<span class="token variable">`</span></span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a%b=<span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a % $b<span class="token variable">`</span></span>&quot;</span>

<span class="token comment"># 代码块中[]可以执行基本的算术运算</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a+b=&quot;</span>$<span class="token punctuation">[</span>a + b<span class="token punctuation">]</span>

<span class="token comment"># 双括号计算法</span>
<span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">+</span> b<span class="token variable">))</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$count</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>结果如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>λ <span class="token function">sh</span> index.sh

a和b的值分别为: <span class="token number">10</span> <span class="token number">20</span>
a+b<span class="token operator">=</span><span class="token number">30</span>
a-b<span class="token operator">=</span>-10
a*b<span class="token operator">=</span><span class="token number">200</span>
a/b<span class="token operator">=</span><span class="token number">0</span>
a%b<span class="token operator">=</span><span class="token number">10</span>
a<span class="token operator">!=</span>b
a+b<span class="token operator">=</span><span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="布尔运算"><a href="#布尔运算" class="header-anchor">#</a> 布尔运算</h3> <ul><li><code>!</code>非运算</li> <li><code>-o</code>或运算(<strong>||</strong>)</li> <li><code>-a</code>与运算(<strong>&amp;&amp;</strong>)</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> == <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h2> <p>bash支持一维数组 (不支持多维数组) , 并且没有限定数组的大小, 其值应大于或等于0</p> <p>在 Shell 中, 用括号来表示数组, 数组元素用&quot;空格&quot;分割开</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 索引为 4 的值为 999(超过最大长度的索引会默认添加到最后)</span>
<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">999</span><span class="token punctuation">)</span>
arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">4</span>

<span class="token comment"># 超过最大长度的索引会默认添加到最后</span>
arr<span class="token punctuation">[</span><span class="token number">99</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">5</span>

<span class="token comment"># 同样是使用数组下标读取对应索引的数据</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>4<span class="token punctuation">]</span>}</span> <span class="token comment"># 999</span>

<span class="token comment"># 使用 *和 @ 下标符号可以被用来访问数组中的每一个元素, 与位置参数一样</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 1 2 3 4 999 5</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span> <span class="token comment"># 1 2 3 4 999 5</span>

<span class="token comment"># 获取数组长度</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 6</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>arr<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span> <span class="token comment"># 6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>使用<code>declare -a arr</code>命令也可以创建数组</p></blockquote> <h3 id="在数组末尾添加元素"><a href="#在数组末尾添加元素" class="header-anchor">#</a> 在数组末尾添加元素</h3> <p>除了通过超过最大索引来向数组的末尾添加元素, 也可以通过<code>+=</code>赋值运算符就够自动地把值附加到数组末尾</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 1 2 3</span>

<span class="token comment"># 向 arr 数组的末尾添加指定的元素</span>
<span class="token assign-left variable">arr</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 1 2 3 4 5 6 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="循环数组"><a href="#循环数组" class="header-anchor">#</a> 循环数组</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d<span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;var = <span class="token variable">$var</span>&quot;</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;---------&quot;</span>

<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ${#arr[@]}<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token assign-left variable">item</span><span class="token operator">=</span><span class="token variable">${arr<span class="token punctuation">[</span>${i}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$i</span>: <span class="token variable">$item</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="数组排序"><a href="#数组排序" class="header-anchor">#</a> 数组排序</h3> <p>可以通过for循环加管道和<code>sort</code>命令将排好序的数据重新赋值给新的数组即可</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>f e d c b a<span class="token punctuation">)</span>

<span class="token comment"># 注意: 外面的括号是定义数组, 里面的$()是执行命令</span>
<span class="token assign-left variable">sortArr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">$(</span><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token builtin class-name">echo</span> $var<span class="token punctuation">;</span> <span class="token keyword">done</span> <span class="token operator">|</span> <span class="token function">sort</span><span class="token variable">)</span></span><span class="token punctuation">)</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;arr: <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># arr: f e d c b a</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;sortArr: <span class="token variable">${sortArr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># sortArr: a b c d e f</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="替换指定的数组项"><a href="#替换指定的数组项" class="header-anchor">#</a> 替换指定的数组项</h3> <p>默认是替换所以匹配的元素</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span>a f e d c b a<span class="token punctuation">)</span>

<span class="token assign-left variable">newArr</span><span class="token operator">=</span><span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">/</span>a<span class="token operator">/</span>AAAA}</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;arr: <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># arr: a f e d c b a</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;newArr: <span class="token variable">${newArr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># newArr: AAAA f e d c b AAAA</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="删除数组或指定索引"><a href="#删除数组或指定索引" class="header-anchor">#</a> 删除数组或指定索引</h3> <p>使用<code>unset</code>就可以删除数组或者对应的数组项</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 1 2 3</span>

<span class="token comment"># 删除索引为0的元素</span>
<span class="token builtin class-name">unset</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 2 3</span>

<span class="token comment"># 删除数组</span>
<span class="token builtin class-name">unset</span> arr

<span class="token builtin class-name">echo</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="克隆数组"><a href="#克隆数组" class="header-anchor">#</a> 克隆数组</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 创建一个新的数组, 使用 *下标符号也可以</span>
<span class="token assign-left variable">newArr</span><span class="token operator">=</span><span class="token punctuation">(</span>-1 <span class="token number">0</span> <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token number">4</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;arr = <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># arr = 1 2 3</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;newArr = <span class="token variable">${newArr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># newArr = -1 0 1 2 3 4 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="关联数组"><a href="#关联数组" class="header-anchor">#</a> 关联数组</h3> <p>关联数组可以使用其他类型来作为数组的下标, 有点像其他编程语言中对象的用法, 注意关联数组必须使用<code>declare -A</code>命令来创建数组, 其他使用方式不变, 如下</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 创建一个关联数组</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> colors

<span class="token comment"># 关联数组可以使用其他类型来作为数组的下标</span>
colors<span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;#ff0000&quot;</span>
colors<span class="token punctuation">[</span><span class="token string">&quot;green&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;#00ff00&quot;</span>
colors<span class="token punctuation">[</span><span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;#0000ff&quot;</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>colors<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># 3</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${colors<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token comment"># #ff0000 #0000ff #00ff00</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${colors<span class="token punctuation">[</span>&quot;red&quot;<span class="token punctuation">]</span>}</span> <span class="token comment"># #ff0000</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${colors<span class="token punctuation">[</span>&quot;green&quot;<span class="token punctuation">]</span>}</span> <span class="token comment"># #00ff00</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${colors<span class="token punctuation">[</span>&quot;blue&quot;<span class="token punctuation">]</span>}</span> <span class="token comment"># #0000ff</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="循环"><a href="#循环" class="header-anchor">#</a> 循环</h2> <p>循环中支持使用<code>break</code>,<code>countinue</code>关键字类退出或跳过循环</p> <h3 id="for循环"><a href="#for循环" class="header-anchor">#</a> for循环</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 传统 shell 格式</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前的值是: <span class="token variable">${var}</span>&quot;</span>
<span class="token keyword">done</span>

<span class="token comment"># or</span>

<span class="token comment"># C 语言格式</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前的值是: <span class="token variable">${i}</span>&quot;</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="while循环"><a href="#while循环" class="header-anchor">#</a> while循环</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;请输入一个大于10的数字&quot;</span>

<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token variable">$msg</span> num<span class="token punctuation">;</span>

<span class="token comment"># 输入的值小于10则进入 while 循环</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-le</span> <span class="token number">10</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token variable">$msg</span> num<span class="token punctuation">;</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字是: <span class="token variable">${num}</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="until循环"><a href="#until循环" class="header-anchor">#</a> until循环</h3> <p><code>until</code>循环跟<code>while</code>循环<strong>相反,<strong>只要条件判断式</strong>不成立则进行循环</strong>, 语法是一样的</p> <h3 id="循环读取文件"><a href="#循环读取文件" class="header-anchor">#</a> 循环读取文件</h3> <p><code>while</code>和<code>until</code>能够处理标准输入也能够处理文件:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 写入需要操作的文件数据</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;张三 18 男 170<span class="token entity" title="\n">\n</span>李四 20 女 180&quot;</span> <span class="token operator">&gt;</span> file.txt

<span class="token comment"># 获取文件文本管道给 while 循环</span>
<span class="token function">cat</span> file.txt <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> name age sex height<span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token builtin class-name">printf</span> <span class="token string">&quot;姓名:%s, 年龄:%s, 性别:%s, 身高:%s<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token variable">$name</span> <span class="token variable">$age</span> <span class="token variable">$sex</span> <span class="token variable">$height</span>
<span class="token keyword">done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>λ <span class="token function">sh</span> idx.sh
姓名:张三, 年龄:18, 性别:男, 身高:170
姓名:李四, 年龄:20, 性别:女, 身高:180
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>使用管道将会在子shell中执行<code>while</code>循环, 当循环终止的时候, 循环中创建的任意变量或赋值的变量都会消失</p></blockquote> <h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <p>函数的定义有两种语法:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">function</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment"># or</span>

函数名<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>基本使用如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token keyword">function</span> <span class="token function-name function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment"># 函数的参数也是通过`$n`来获取的在函数内获取的就是该函数的参数, 在脚本中就是获取这个脚本的参数</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;函数接受到了<span class="token variable">$#</span>个参数&quot;</span>
  <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>
	<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> $#<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">))</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span>
      <span class="token comment"># 函数的参数会存在到 $n 这个变量中, 每次累加值</span>
			<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span> $i <span class="token operator">+</span> $sum <span class="token variable">))</span></span>
	<span class="token keyword">done</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;sum函数计算的总和为: <span class="token variable">${sum}</span>&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment"># 调用函数, 后面跟着的就是传递给给函数的参数</span>
<span class="token function">sum</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="函数接受数组参数"><a href="#函数接受数组参数" class="header-anchor">#</a> 函数接受数组参数</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token assign-left variable">arr</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token function-name function">fn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;传入所有参数为: <span class="token variable">$@</span>&quot;</span>

  <span class="token comment"># 将接收到所有的参数展开后重新赋值为新数组</span>
  <span class="token assign-left variable">newarr</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $@<span class="token variable">)</span></span>
  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;newarr = <span class="token variable">${newarr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token punctuation">}</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;arr = <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>

fn <span class="token variable">${arr<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="局部变量"><a href="#局部变量" class="header-anchor">#</a> 局部变量</h3> <p>只需要在定义的变量前添加<code>local</code>关键字即可, 需要注意的是<code>local</code>关键字只能在函数中使用</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 全局变量</span>
<span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">1</span>

<span class="token keyword">function</span> <span class="token function-name function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin class-name">echo</span> foo <span class="token operator">=</span> <span class="token variable">$foo</span> <span class="token comment"># 1</span>
  
  <span class="token comment"># 局部变量, 如果不加上 local 则会覆盖全局变量</span>
  <span class="token builtin class-name">local</span> <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">999</span>
  
  <span class="token builtin class-name">echo</span> foo <span class="token operator">=</span> <span class="token variable">$foo</span> <span class="token comment"># 999</span>
<span class="token punctuation">}</span>

fn

<span class="token builtin class-name">echo</span> foo <span class="token operator">=</span> <span class="token variable">$foo</span> <span class="token comment"># 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="函数的退出码"><a href="#函数的退出码" class="header-anchor">#</a> 函数的退出码</h3> <p>函数的退出码通过<code>return</code>返回, 将会是该函数的</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token function">ls</span> 

<span class="token builtin class-name">echo</span> ls命令的退出码 <span class="token variable">$?</span>

<span class="token keyword">function</span> <span class="token function-name function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment"># 返回什么就表示这个函数命令的退出码是什么</span>
  <span class="token builtin class-name">return</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

fn
<span class="token builtin class-name">echo</span> fn函数的退出码 <span class="token variable">$?</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="命令替换"><a href="#命令替换" class="header-anchor">#</a> 命令替换</h2> <p>命令替换是指可以先执行Shell命令, 还可以将输出结果暂时保存, 在适当的地方输出, 语法:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 使用 反引号 或者 $括号</span>
<span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">command</span><span class="token variable">`</span></span>
<span class="token comment"># or</span>
<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">command</span><span class="token variable">)</span></span> <span class="token comment"># 这样也可以(command)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># 获取当前的时间戳(秒)</span>
<span class="token assign-left variable">start</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$start</span>

<span class="token comment"># 等待3s</span>
<span class="token variable"><span class="token variable">$(</span><span class="token function">sleep</span> <span class="token number">3</span><span class="token variable">)</span></span>

<span class="token assign-left variable">end</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$end</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;共用时<span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $end - $start<span class="token variable">`</span></span>s&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="组命令和子shell"><a href="#组命令和子shell" class="header-anchor">#</a> 组命令和子shell</h2> <p>bash 允许把命令组合在一起, 可以通过两种方式完成: 要么用一个组命令, 要么用一个子 shell, 如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 组命令(组命令的花括号与命令之间必须有一个空格)</span>
<span class="token punctuation">{</span> command1<span class="token punctuation">;</span> command2<span class="token punctuation">;</span> <span class="token punctuation">[</span>command3<span class="token punctuation">;</span> <span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token punctuation">}</span>

<span class="token comment"># 子 shell</span>
<span class="token punctuation">(</span>command1<span class="token punctuation">;</span> command2<span class="token punctuation">;</span> <span class="token punctuation">[</span>command3<span class="token punctuation">;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>组命令或者子shell中的每个命令都是用<code>;</code>或者回车符分割</p></blockquote> <p>假设需要使用如下的三步操作</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token comment"># ls -l 的输出重定向到文件 file.txt</span>
<span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token operator">&gt;</span> file.txt

<span class="token comment"># 追加文本到 file.txt</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;下面的是 foo.txt文件的内容&quot;</span> <span class="token operator">&gt;&gt;</span> file.txt

<span class="token comment"># 将 foo.txt 中的文本追加到 file.txt 中</span>
<span class="token function">cat</span> foo.txt <span class="token operator">&gt;&gt;</span> file.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这些代码的输出都重定向到一个名为 file.txt 的文件中, 这时就可以使用一个组命令了:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 写成一行就使用;号分割</span>
<span class="token punctuation">{</span> <span class="token function">ls</span> -l<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;下面的是 foo.txt文件的内容&quot;</span><span class="token punctuation">;</span> <span class="token function">cat</span> foo.txt<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">&gt;</span> file.txt


<span class="token comment"># 写成多行就要用回车分割</span>
<span class="token punctuation">{</span> 
  <span class="token function">ls</span> <span class="token parameter variable">-l</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;下面的是 foo.txt文件的内容&quot;</span>
  <span class="token function">cat</span> foo.txt
<span class="token punctuation">}</span> <span class="token operator">&gt;</span> file.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>子shell同理只不过是将<code>{</code>换成<code>(</code></p></blockquote> <p>组命令或者子shell同样可以使用管道操作</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">{</span> <span class="token function">ls</span> -l<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;下面的是 foo.txt文件的内容&quot;</span><span class="token punctuation">;</span> <span class="token function">cat</span> foo.txt<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token function">less</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="进程替换"><a href="#进程替换" class="header-anchor">#</a> 进程替换</h3> <p>虽然组命令和子 shell 的作用相似, 都能用来在重定向中合并流, 但是两者之间有一个很重要的不同之处.</p> <p>一个组命令在当前 shell 中执行它的所有命令, 而子 shell(顾名思义)在当前 shell 的一个子副本中执行它的命令.</p> <p>这意味着运行环境被复制给了一个新的 shell 实例. 当这个子 shell 退出时, 环境副本会消失, 所以在子 shell 环境 (包括变量赋值) 中的任何更改也会消失.</p> <p>在大多数情况下, 除非脚本要求一个子 shell, 否则使用组命令比子 shell 更合适, 并且组命令运行很快并且占用的内存也少.</p> <p><code>read</code>命令不能使用管道操作也是因为管道后的命令会在子shell中执行, 所幸, shell提供了一种奇异的展开方式, 进程替换:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 一种适用于产生标准输出的进程</span>
<span class="token operator">&lt;</span><span class="token punctuation">(</span>CommandList<span class="token punctuation">)</span>

<span class="token comment"># 另一种适用于接受标准输入的进程</span>
<span class="token operator">&gt;</span><span class="token punctuation">(</span>CommandList<span class="token punctuation">)</span>

<span class="token comment"># CommandList 表示一串命令列表</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用进程替换也可以完成<code>read</code>命令使用其他输入的操作:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># TODO 都执行报错</span>

<span class="token comment"># 第一个 &lt; 表示重定向, &lt;() 表示进程替换</span>
<span class="token builtin class-name">read</span> <span class="token operator">&lt;</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token environment constant">$REPLY</span>

<span class="token comment"># or</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;foo&quot;</span> <span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token builtin class-name">read</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token environment constant">$REPLY</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>其他使用</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 重定向</span>
<span class="token punctuation">(</span>ls -l<span class="token punctuation">)</span><span class="token operator">&gt;</span> file.txt
<span class="token punctuation">(</span>echo <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span> file.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="异步执行"><a href="#异步执行" class="header-anchor">#</a> 异步执行</h2> <p>bash 有一个内置命令, 能帮助管理诸如此类的异步执行的任务. <code>wait</code>命令导致一个父脚本暂停运行, 直到一个 特定的进程 (例如, 子脚本) 运行结束, 只需要在启动脚本后加上<code>&amp;</code>即可让一个脚本异步执行了</p> <p><strong>child.sh</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;child start&quot;</span>
<span class="token function">sleep</span> <span class="token number">3</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;child end&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>parent.sh</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/bin/base</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;parent start&quot;</span>

<span class="token comment"># 异步执行子脚本(注意后面加了 &amp;)</span>
<span class="token function">sh</span> child.sh <span class="token operator">&amp;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;parent end&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="命令管道"><a href="#命令管道" class="header-anchor">#</a> 命令管道</h2> <p>在大多数类似 Unix 的操作系统中, 有可能创建一种特殊类型的文件, 叫做命名管道. 命名管道用来在 两个进程之间建立连接, 也可以像其它类型的文件一样使用</p> <p>命名管道的行为类似于文件, 但实际上形成了先入先出 (FIFO) 的缓冲. 和普通 (未命令的) 管道一样, 数据从一端进入, 然后从另一端出现. 通过命名管道, 语法如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>process1 <span class="token operator">&gt;</span> named_pipe
process2 <span class="token operator">&lt;</span> named_pipe

<span class="token comment"># 等价于下面</span>

process1 <span class="token operator">|</span> process2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="设置一个命名管道"><a href="#设置一个命名管道" class="header-anchor">#</a> 设置一个命名管道</h4> <p>使用<code>mkfifo</code>命令能够创建命名管道</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 在当前目录下创建一个命名管道 pipe1</span>
<span class="token punctuation">[</span>root@AnVirual test<span class="token punctuation">]</span><span class="token comment"># mkfifo pipe1</span>

<span class="token comment"># 命名管道的文件类型为 p</span>
<span class="token punctuation">[</span>root@AnVirual test<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
总用量 <span class="token number">0</span>
prw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">7</span>月  <span class="token number">23</span> <span class="token number">20</span>:58 pipe1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="使用命名管道"><a href="#使用命名管道" class="header-anchor">#</a> 使用命名管道</h4> <p>可以使用<code>command &gt; pipe</code>来将对应命令的输出重定向命名管道中</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 重定向到 pipe1 管道中</span>
<span class="token builtin class-name">echo</span> <span class="token builtin class-name">test</span> pipe <span class="token operator">&gt;</span> pipe1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>执行上面这条命令后, 该命令将会挂起, 因为在管道的另一端没有任何对象来接收数据, 这种现象被称为<strong>管道阻塞</strong>, 一旦我们绑定一个进程到管道的另一端, 该进程开始从管道中读取输入的时候, 管道阻塞现象就不存在了, 新建一个终端后输入如下命令:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 将 pipe1 管道中的数据重定向给 cat 命令</span>
<span class="token function">cat</span> <span class="token operator">&lt;</span> pipe1 
<span class="token comment"># test pipe</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/3/14 22:27:41</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-bac73764 data-v-c0d124fa><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#shell-脚本" class="sidebar-link reco-side-shell-脚本" data-v-bac73764>Shell 脚本</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#shell-环境" class="sidebar-link reco-side-shell-环境" data-v-bac73764>Shell 环境</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#vscode中修改终端类型" class="sidebar-link reco-side-vscode中修改终端类型" data-v-bac73764>VSCode中修改终端类型</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#注释" class="sidebar-link reco-side-注释" data-v-bac73764>注释</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#eof" class="sidebar-link reco-side-eof" data-v-bac73764>EOF</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#打印输出" class="sidebar-link reco-side-打印输出" data-v-bac73764>打印输出</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#echo" class="sidebar-link reco-side-echo" data-v-bac73764>echo</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#printf" class="sidebar-link reco-side-printf" data-v-bac73764>printf</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#单引号和双引号" class="sidebar-link reco-side-单引号和双引号" data-v-bac73764>单引号和双引号</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#变量" class="sidebar-link reco-side-变量" data-v-bac73764>变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#变量的定义和使用" class="sidebar-link reco-side-变量的定义和使用" data-v-bac73764>变量的定义和使用</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#只读变量" class="sidebar-link reco-side-只读变量" data-v-bac73764>只读变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#删除变量" class="sidebar-link reco-side-删除变量" data-v-bac73764>删除变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#变量类型" class="sidebar-link reco-side-变量类型" data-v-bac73764>变量类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#特殊变量" class="sidebar-link reco-side-特殊变量" data-v-bac73764>特殊变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#变量替换" class="sidebar-link reco-side-变量替换" data-v-bac73764>变量替换</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#变量名参数展开" class="sidebar-link reco-side-变量名参数展开" data-v-bac73764>变量名参数展开</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#字符串" class="sidebar-link reco-side-字符串" data-v-bac73764>字符串</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#转义字符" class="sidebar-link reco-side-转义字符" data-v-bac73764>转义字符</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#字符串拼接" class="sidebar-link reco-side-字符串拼接" data-v-bac73764>字符串拼接</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#获取字符串长度" class="sidebar-link reco-side-获取字符串长度" data-v-bac73764>获取字符串长度</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#截取字符串" class="sidebar-link reco-side-截取字符串" data-v-bac73764>截取字符串</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#清除开头的字符串" class="sidebar-link reco-side-清除开头的字符串" data-v-bac73764>清除开头的字符串</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#清除结尾的字符串" class="sidebar-link reco-side-清除结尾的字符串" data-v-bac73764>清除结尾的字符串</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#替换字符串" class="sidebar-link reco-side-替换字符串" data-v-bac73764>替换字符串</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#大小写转换" class="sidebar-link reco-side-大小写转换" data-v-bac73764>大小写转换</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#查找子字符串" class="sidebar-link reco-side-查找子字符串" data-v-bac73764>查找子字符串</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#条件判断" class="sidebar-link reco-side-条件判断" data-v-bac73764>条件判断</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#if语句" class="sidebar-link reco-side-if语句" data-v-bac73764>if语句</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#test语句" class="sidebar-link reco-side-test语句" data-v-bac73764>test语句</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#文件测试符" class="sidebar-link reco-side-文件测试符" data-v-bac73764>文件测试符</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#字符串运算符" class="sidebar-link reco-side-字符串运算符" data-v-bac73764>字符串运算符</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#整型表达式" class="sidebar-link reco-side-整型表达式" data-v-bac73764>整型表达式</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#test复合命令" class="sidebar-link reco-side-test复合命令" data-v-bac73764>test复合命令[[]]</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#整数复合命令" class="sidebar-link reco-side-整数复合命令" data-v-bac73764>整数复合命令(())</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#控制操作符" class="sidebar-link reco-side-控制操作符" data-v-bac73764>控制操作符</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#read" class="sidebar-link reco-side-read" data-v-bac73764>read</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#读取多个输入" class="sidebar-link reco-side-读取多个输入" data-v-bac73764>读取多个输入</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#ifs" class="sidebar-link reco-side-ifs" data-v-bac73764>IFS</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#重定向操作符" class="sidebar-link reco-side-重定向操作符" data-v-bac73764>重定向操作符&lt;&lt;&lt;</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#case语句" class="sidebar-link reco-side-case语句" data-v-bac73764>case语句</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#匹配模式" class="sidebar-link reco-side-匹配模式" data-v-bac73764>匹配模式</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#匹配多个条件" class="sidebar-link reco-side-匹配多个条件" data-v-bac73764>匹配多个条件</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#基本运算符" class="sidebar-link reco-side-基本运算符" data-v-bac73764>基本运算符</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#数学运算" class="sidebar-link reco-side-数学运算" data-v-bac73764>数学运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#布尔运算" class="sidebar-link reco-side-布尔运算" data-v-bac73764>布尔运算</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#数组" class="sidebar-link reco-side-数组" data-v-bac73764>数组</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#在数组末尾添加元素" class="sidebar-link reco-side-在数组末尾添加元素" data-v-bac73764>在数组末尾添加元素</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#循环数组" class="sidebar-link reco-side-循环数组" data-v-bac73764>循环数组</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#数组排序" class="sidebar-link reco-side-数组排序" data-v-bac73764>数组排序</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#替换指定的数组项" class="sidebar-link reco-side-替换指定的数组项" data-v-bac73764>替换指定的数组项</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#删除数组或指定索引" class="sidebar-link reco-side-删除数组或指定索引" data-v-bac73764>删除数组或指定索引</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#克隆数组" class="sidebar-link reco-side-克隆数组" data-v-bac73764>克隆数组</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#关联数组" class="sidebar-link reco-side-关联数组" data-v-bac73764>关联数组</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#循环" class="sidebar-link reco-side-循环" data-v-bac73764>循环</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#for循环" class="sidebar-link reco-side-for循环" data-v-bac73764>for循环</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#while循环" class="sidebar-link reco-side-while循环" data-v-bac73764>while循环</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#until循环" class="sidebar-link reco-side-until循环" data-v-bac73764>until循环</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#循环读取文件" class="sidebar-link reco-side-循环读取文件" data-v-bac73764>循环读取文件</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#函数" class="sidebar-link reco-side-函数" data-v-bac73764>函数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#函数接受数组参数" class="sidebar-link reco-side-函数接受数组参数" data-v-bac73764>函数接受数组参数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#局部变量" class="sidebar-link reco-side-局部变量" data-v-bac73764>局部变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#函数的退出码" class="sidebar-link reco-side-函数的退出码" data-v-bac73764>函数的退出码</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#命令替换" class="sidebar-link reco-side-命令替换" data-v-bac73764>命令替换</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#组命令和子shell" class="sidebar-link reco-side-组命令和子shell" data-v-bac73764>组命令和子shell</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#进程替换" class="sidebar-link reco-side-进程替换" data-v-bac73764>进程替换</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#异步执行" class="sidebar-link reco-side-异步执行" data-v-bac73764>异步执行</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Linux/Shell.html#命令管道" class="sidebar-link reco-side-命令管道" data-v-bac73764>命令管道</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-2a01419c data-v-2a01419c><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-2a01419c><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-2a01419c></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-2a01419c></path></svg></div></div></div>
    <script src="/note-sites/assets/js/app.43cc6558.js" defer></script><script src="/note-sites/assets/js/5.2f78da70.js" defer></script><script src="/note-sites/assets/js/1.9e97c91a.js" defer></script><script src="/note-sites/assets/js/39.eff591f2.js" defer></script>
  </body>
</html>
