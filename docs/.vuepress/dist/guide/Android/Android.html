<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android | An的个人笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/note-sites/favicon.ico">
    <script type="module" src="/note-sites/js/index.js"></script>
    <meta name="description" content="记录学习笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/note-sites/assets/css/0.styles.a5e0cdd4.css" as="style"><link rel="preload" href="/note-sites/assets/js/app.4241ea4e.js" as="script"><link rel="preload" href="/note-sites/assets/js/5.2f78da70.js" as="script"><link rel="preload" href="/note-sites/assets/js/1.9e97c91a.js" as="script"><link rel="preload" href="/note-sites/assets/js/4.22434470.js" as="script"><link rel="prefetch" href="/note-sites/assets/js/10.85cb6931.js"><link rel="prefetch" href="/note-sites/assets/js/11.afea06bc.js"><link rel="prefetch" href="/note-sites/assets/js/12.85fe81ac.js"><link rel="prefetch" href="/note-sites/assets/js/13.2a2a9002.js"><link rel="prefetch" href="/note-sites/assets/js/14.1d565f25.js"><link rel="prefetch" href="/note-sites/assets/js/15.e0338be8.js"><link rel="prefetch" href="/note-sites/assets/js/16.b7628662.js"><link rel="prefetch" href="/note-sites/assets/js/17.1a0b29d6.js"><link rel="prefetch" href="/note-sites/assets/js/18.2ef1055c.js"><link rel="prefetch" href="/note-sites/assets/js/19.61f852e8.js"><link rel="prefetch" href="/note-sites/assets/js/20.5d618384.js"><link rel="prefetch" href="/note-sites/assets/js/21.ec0ef43e.js"><link rel="prefetch" href="/note-sites/assets/js/22.384dd3a6.js"><link rel="prefetch" href="/note-sites/assets/js/23.fe0e18f1.js"><link rel="prefetch" href="/note-sites/assets/js/24.c9d03060.js"><link rel="prefetch" href="/note-sites/assets/js/25.5d1135bb.js"><link rel="prefetch" href="/note-sites/assets/js/26.65844596.js"><link rel="prefetch" href="/note-sites/assets/js/27.b127998d.js"><link rel="prefetch" href="/note-sites/assets/js/28.fe829176.js"><link rel="prefetch" href="/note-sites/assets/js/29.47af223d.js"><link rel="prefetch" href="/note-sites/assets/js/3.ef78bef5.js"><link rel="prefetch" href="/note-sites/assets/js/30.63260758.js"><link rel="prefetch" href="/note-sites/assets/js/31.a814529e.js"><link rel="prefetch" href="/note-sites/assets/js/32.0a163ba4.js"><link rel="prefetch" href="/note-sites/assets/js/33.37812b81.js"><link rel="prefetch" href="/note-sites/assets/js/34.d9681815.js"><link rel="prefetch" href="/note-sites/assets/js/35.30b7c2e4.js"><link rel="prefetch" href="/note-sites/assets/js/36.7d030294.js"><link rel="prefetch" href="/note-sites/assets/js/37.ab8de429.js"><link rel="prefetch" href="/note-sites/assets/js/38.20901ac2.js"><link rel="prefetch" href="/note-sites/assets/js/39.0abd20e9.js"><link rel="prefetch" href="/note-sites/assets/js/40.6bed602e.js"><link rel="prefetch" href="/note-sites/assets/js/41.af86f4dc.js"><link rel="prefetch" href="/note-sites/assets/js/42.9769c063.js"><link rel="prefetch" href="/note-sites/assets/js/43.57b0198d.js"><link rel="prefetch" href="/note-sites/assets/js/44.e59fb071.js"><link rel="prefetch" href="/note-sites/assets/js/6.3b17dfac.js"><link rel="prefetch" href="/note-sites/assets/js/7.1b835e73.js"><link rel="prefetch" href="/note-sites/assets/js/8.fe1371a3.js"><link rel="prefetch" href="/note-sites/assets/js/9.a9dfe185.js">
    <link rel="stylesheet" href="/note-sites/assets/css/0.styles.a5e0cdd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-c0d124fa><div data-v-c0d124fa><div class="password-shadow password-wrapper-out" style="display:none;" data-v-30dff670 data-v-c0d124fa data-v-c0d124fa><h3 class="title" data-v-30dff670>An的个人笔记</h3> <p class="description" data-v-30dff670>记录学习笔记</p> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-c0d124fa><header class="navbar" data-v-c0d124fa><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-sites/" class="home-link router-link-active"><!----> <span class="site-name">An的个人笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c0d124fa></div> <aside class="sidebar" data-v-c0d124fa><div class="personal-info-wrapper" data-v-5c49c935 data-v-c0d124fa><img src="/note-sites/assets/img/logo.png" alt="author-avatar" class="personal-img" data-v-5c49c935> <h3 class="name" data-v-5c49c935>
    An
  </h3> <div class="num" data-v-5c49c935><div data-v-5c49c935><h3 data-v-5c49c935>33</h3> <h6 data-v-5c49c935>文章</h6></div> <div data-v-5c49c935><h3 data-v-5c49c935>26</h3> <h6 data-v-5c49c935>标签</h6></div></div> <ul class="social-links" data-v-5c49c935><li class="social-item" data-v-5c49c935><i class="iconfont reco-github" style="color:#3498db;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-mayun" style="color:#fb9b5f;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-juejin" style="color:#67cc86;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-npm" style="color:#e15b64;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-bilibili" style="color:#3498db;" data-v-5c49c935></i></li></ul> <hr data-v-5c49c935></div> <nav class="nav-links"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-30dff670 data-v-c0d124fa><h3 class="title" data-v-30dff670>Android</h3> <!----> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-c0d124fa><div data-v-c0d124fa><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Android</h1> <div data-v-7b22c628><i class="iconfont reco-account" data-v-7b22c628><span data-v-7b22c628>An</span></i> <i class="iconfont reco-date" data-v-7b22c628><span data-v-7b22c628>2022/6/10</span></i> <!----> <i class="tags iconfont reco-tag" data-v-7b22c628><span class="tag-item" data-v-7b22c628>Java</span></i></div></div> <div class="theme-reco-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#android-studio">Android Studio</a><ul><li><a href="#汉化">汉化</a></li></ul></li><li><a href="#代码片段设置">代码片段设置</a></li><li><a href="#工程目录结构">工程目录结构</a><ul><li><a href="#三个重要文件">三个重要文件</a></li></ul></li><li><a href="#log">Log</a></li><li><a href="#adb">adb</a></li><li><a href="#gradle">gradle</a><ul><li><a href="#gradle下载配置镜像">gradle下载配置镜像</a></li><li><a href="#全局镜像配置">全局镜像配置</a></li></ul></li><li><a href="#常用xml控件">常用XML控件</a><ul><li><a href="#viewgroup-和-view">ViewGroup 和 View</a></li><li><a href="#textview">TextView</a><ul><li><a href="#基本属性">基本属性</a></li><li><a href="#引用资源">引用资源</a></li><li><a href="#阴影属性">阴影属性</a></li><li><a href="#跑马灯效果">跑马灯效果</a></li><li><a href="#java文件中获取通过id对应的控件">java文件中获取通过id对应的控件</a></li></ul></li><li><a href="#button">Button</a><ul><li><a href="#button事件处理">Button事件处理</a></li><li><a href="#通用点击事件">通用点击事件</a></li></ul></li><li><a href="#statelistdrawable">StateListDrawable</a><ul><li><a href="#新建drawble">新建Drawble</a></li><li><a href="#按钮引用drawable">按钮引用drawable</a></li><li><a href="#定义颜色选择器">定义颜色选择器</a></li></ul></li><li><a href="#edittext">EditText</a></li><li><a href="#horizontalscrollview-和-scrollview">HorizontalScrollView 和 ScrollView</a></li><li><a href="#imageview">ImageView</a></li><li><a href="#progressbar">ProgressBar</a></li><li><a href="#notification">Notification</a><ul><li><a href="#notificationmange">NotificationMange</a></li><li><a href="#notificationchannel">NotificationChannel</a></li></ul></li><li><a href="#notification">Notification</a></li><li><a href="#通知的使用">通知的使用</a></li><li><a href="#toolbar">Toolbar</a></li><li><a href="#文本居中的toolbar">文本居中的Toolbar</a></li><li><a href="#alertdialog">AlertDialog</a></li><li><a href="#popupwindow">PopupWindow</a></li><li><a href="#布局">布局</a><ul><li><a href="#linearlayout">LinearLayout</a></li><li><a href="#布局信息">布局信息</a></li><li><a href="#relativelayout">RelativeLayout</a></li><li><a href="#根据父容器定位">根据父容器定位</a></li><li><a href="#根据兄弟组件定位">根据兄弟组件定位</a></li><li><a href="#通用属性">通用属性</a></li><li><a href="#margin">margin</a></li><li><a href="#padding">padding</a></li><li><a href="#framelayout">FrameLayout</a></li><li><a href="#tablelayout">TableLayout</a></li><li><a href="#gridlayout">GridLayout</a></li><li><a href="#constraintlayout">ConstraintLayout</a></li></ul></li><li><a href="#listview">ListView</a></li><li><a href="#recyclerview">RecyclerView</a></li><li><a href="#viewpage">ViewPage</a></li></ul></li><li><a href="#资源访问">资源访问</a></li><li><a href="#元数据获取">元数据获取</a></li><li><a href="#其他常量">其他常量</a></li><li><a href="#动画">动画</a></li><li><a href="#单位和尺寸">单位和尺寸</a><ul><li><a href="#layoutparams">LayoutParams</a></li></ul></li><li><a href="#activity">Activity</a><ul><li><a href="#注册activity">注册Activity</a></li><li><a href="#activity启动和跳转">Activity启动和跳转</a></li><li><a href="#activity生命周期">Activity生命周期</a></li><li><a href="#启动模式">启动模式</a><ul><li><a href="#动态设置启动模式">动态设置启动模式</a><ul><li><a href="#两个activity之间交替跳转">两个Activity之间交替跳转</a></li><li><a href="#登录成功之后不再返回登录页面">登录成功之后不再返回登录页面</a></li></ul></li></ul></li></ul></li><li><a href="#intent">Intent</a><ul><li><a href="#显式intent">显式Intent</a></li><li><a href="#隐式intent">隐式Intent</a><ul><li><a href="#跳转到拨号界面">跳转到拨号界面</a></li><li><a href="#跳转到发短信界面">跳转到发短信界面</a></li><li><a href="#跳转到清单文件的中注册-activity">跳转到清单文件的中注册 Activity</a></li></ul></li><li><a href="#向下一个activity传递数据">向下一个Activity传递数据</a></li><li><a href="#向上一个activity返回数据">向上一个Activity返回数据</a></li></ul></li><li><a href="#注册快捷方式">注册快捷方式</a></li><li><a href="#数据存储">数据存储</a><ul><li><a href="#sharedpreferences">SharedPreferences</a><ul><li><a href="#添加sharedpreferences">添加SharedPreferences</a></li><li><a href="#获取sharedpreferences">获取SharedPreferences</a></li></ul></li><li><a href="#sqlite">SQLite</a><ul><li><a href="#sqlitedatabase">SQLiteDatabase</a><ul><li><a href="#创建数据库">创建数据库</a></li><li><a href="#删除数据库">删除数据库</a></li></ul></li><li><a href="#sqliteopenhelper">SQLiteOpenHelper</a><ul><li><a href="#新建一个用户类">新建一个用户类</a></li><li><a href="#数据库初始操作">数据库初始操作</a></li><li><a href="#插入数据">插入数据</a></li><li><a href="#删除数据">删除数据</a></li><li><a href="#更新数据">更新数据</a></li><li><a href="#查询数据">查询数据</a></li></ul></li><li><a href="#事务操作">事务操作</a></li></ul></li><li><a href="#room">Room</a><ul><li><a href="#添加依赖">添加依赖</a></li><li><a href="#创建一个用户表对应-entity-注解">创建一个用户表对应@Entity注解</a></li><li><a href="#创建一个持久化类-接口-对应-dao-注解">创建一个持久化类(接口), 对应@Dao注解</a></li><li><a href="#创建数据库持久化类-对应-database-注解">创建数据库持久化类, 对应@Database注解</a></li><li><a href="#定义获取数据库的操作">定义获取数据库的操作</a></li><li><a href="#在-activity-中使用">在Activity中使用</a></li></ul></li><li><a href="#外部存储空间">外部存储空间</a><ul><li><a href="#文本文件读写">文本文件读写</a></li><li><a href="#图片文件读写">图片文件读写</a></li></ul></li></ul></li><li><a href="#application">Application</a><ul><li><a href="#利用application操作全局变量">利用Application操作全局变量</a></li></ul></li><li><a href="#service">Service</a><ul><li><a href="#启动和关闭服务">启动和关闭服务</a></li><li><a href="#生命周期">生命周期</a><ul><li><a href="#后台生命周期">后台生命周期</a></li><li><a href="#前台生命周期">前台生命周期</a></li></ul></li><li><a href="#receiver">Receiver</a><ul><li><a href="#静态注册接受广播">静态注册接受广播</a></li><li><a href="#动态注册接受广播">动态注册接受广播</a></li></ul></li></ul></li><li><a href="#上下文获取">上下文获取</a><ul><li><a href="#context类型">Context类型</a></li><li><a href="#getapplication-和getapplicationcontext">getApplication()和getApplicationContext()</a></li></ul></li><li><a href="#fragment">Fragment</a><ul><li><a href="#动态添加fragment">动态添加Fragment</a></li><li><a href="#activity-与-fragment-通信">Activity 与 Fragment 通信</a><ul><li><a href="#bundle">Bundle</a></li><li><a href="#接口">接口</a></li></ul></li><li><a href="#其他方案">其他方案</a></li><li><a href="#fragment生命周期">Fragment生命周期</a></li></ul></li><li><a href="#okhttp">OkHttp</a><ul><li><a href="#配置请求权限">配置请求权限</a><ul><li><a href="#分离配置文件">分离配置文件</a></li><li><a href="#直接写死值">直接写死值</a></li></ul></li><li><a href="#发送请求">发送请求</a><ul><li><a href="#同步get请求">同步get请求</a></li><li><a href="#异步get请求">异步get请求</a></li><li><a href="#post请求">post请求</a></li></ul></li></ul></li><li><a href="#gson">Gson</a></li><li><a href="#retrofit">Retrofit</a><ul><li><a href="#retrofit的注解">Retrofit的注解</a></li><li><a href="#retrofit转换器">Retrofit转换器</a><ul><li><a href="#自动转换响应结果为javabean">自动转换响应结果为JavaBean</a></li></ul></li><li><a href="#retrofit的嵌套请求">Retrofit的嵌套请求</a></li></ul></li><li><a href="#定时器">定时器</a></li><li><a href="#权限">权限</a></li><li><a href="#support-和-androidx">Support 和 AndroidX</a></li><li><a href="#第三方库">第三方库</a><ul><li><a href="#ui框架">UI框架</a></li><li><a href="#其他">其他</a></li></ul></li></ul></div><p></p> <h1 id="android"><a href="#android" class="header-anchor">#</a> Android</h1> <p>开发Andorid可以使用Java或者<a href="https://kotlinlang.org/" target="_blank" rel="noopener noreferrer">Kotlin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><a href="https://developer.android.google.cn/guide" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.android.google.cn/guide/topics/ui" target="_blank" rel="noopener noreferrer">界面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://gradle.org/#close-notification" target="_blank" rel="noopener noreferrer">Gradle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://item.jd.com/13481239.html" target="_blank" rel="noopener noreferrer">Android Studio开发实战 从零基础到App上线<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.w3cschool.cn/uawnhh/" target="_blank" rel="noopener noreferrer">Androd零基础入门<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.an.rustfisher.com/" target="_blank" rel="noopener noreferrer">Android教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="android-studio"><a href="#android-studio" class="header-anchor">#</a> Android Studio</h2> <p><a href="https://developer.android.google.cn/studio" target="_blank" rel="noopener noreferrer">Android Studio<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是官方的IDE, <a href="tps://developer.android.google.cn/studio/intro?hl=zh-cn">操作文档</a></p> <h3 id="汉化"><a href="#汉化" class="header-anchor">#</a> 汉化</h3> <p>Android Studio 里面没有汉化插件但是可以使用<a href="https://plugins.jetbrains.com/" target="_blank" rel="noopener noreferrer">jetbrains<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的汉化插件, 搜索<code>Chinese</code>, 然后下载对应版本的插件(版本查询<code>Help -&gt; About</code>)</p> <p><img src="/note-sites/assets/img/image-20230219113218055.2221baef.png" alt="image-20230219113218055"></p> <p>解压然后在 Android Studion里面安装即可</p> <p><img src="/note-sites/assets/img/image-20230219114747373.f797638c.png" alt="image-20230219114747373"></p> <h2 id="代码片段设置"><a href="#代码片段设置" class="header-anchor">#</a> 代码片段设置</h2> <p><img src="/note-sites/assets/img/image-20230219121920651.c22923b8.png" alt="image-20230219121920651"></p> <p><img src="/note-sites/assets/img/image-20230219122034701.0ffc6de0.png" alt="image-20230219122034701"></p> <p><img src="/note-sites/assets/img/image-20230219122311929.1ade44b6.png" alt="image-20230219122311929"></p> <p><img src="data:image/png;base64,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" alt="image-20230219122328869"></p> <h2 id="工程目录结构"><a href="#工程目录结构" class="header-anchor">#</a> 工程目录结构</h2> <p>App工程分为两个层次, 一个是项目, 一个是模块,</p> <p>模块依附于项目, 一个项目可以有多个模块, 运行项目其实就是运行项目中的某一个模块</p> <ul><li><p><code>app</code>: 通常 Android 的各个组成部分放在此目录中, 其中 res 主要存放一些资源文件, 如图片、layout、values 等资源</p> <ul><li><code>build</code>: 构建目录</li> <li><code>libs</code>: 依赖的包</li> <li><a href="https://developer.android.google.cn/guide/topics/manifest/manifest-intro?hl=zh-cn" target="_blank" rel="noopener noreferrer"><code>AndroidManifest.xml</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:  清单文件, 包含了APP的配置信息</li> <li><code>src</code>: 项目目录
<ul><li><code>androidTest</code>: android 单元测试的目录</li> <li><code>main</code>:
<ul><li><code>Java</code>: 写 Java 代码的地方</li> <li><code>MainActivity</code>: 是一个人机交互 的程序, 相当于人与计算机沟通的手段, 在这里面写 Java 代码, 从而达到想要实现的目的</li> <li><code>res</code>: 资源文件, 资源文件都是<code>.xml</code>文件一般用来存一些常量或是配置项, 在java代码中可以通过<a href="https://developer.android.google.cn/guide/topics/ui/declaring-layout#id" target="_blank" rel="noopener noreferrer"><code>android.R</code>资源类<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>进行获取
<ul><li><code>drawable</code>: 图像资源, 存放各种位图文件, (<code>png</code>, <code>jpg</code>,<code>gif</code>等)除此之外可能是一些其他的 <code>drawable</code> 类型的文件</li> <li><code>layout</code>: 布局资源该目录下存放的就是App的布局文件, 可以通过<code>R</code>这个资源类的进行获取
<ul><li><code>activity_main.xml</code>: 是控制 Android 界面显示的文件, 所有的配置控件都可以在这里进行设计, 每一个<code>.xml</code>文件会对应一个<code>.java</code>文件</li></ul></li> <li><code>mipmap</code>: 应用启动图像资源, 会有对应的分辨率后缀的文件, 例如<code>mipmap-hdpi</code>, <code>mipmap-xxhdpi</code></li> <li><code>menu</code>: 菜单资源, 在以前有物理菜单按钮, 即在 Menu 键的手机上用的较多, 现在用的并不多, 菜单项相关的资源可在这里定义</li> <li><code>values</code>: 常量资源, 会变成<code>R</code>这个资源类的子类, 例如:在java文件中通过<code>R.string.xxx</code>获取<code>string.xml</code>里面的<code>xxx</code>, 在xml标签中通过<code>@string/xxx</code>使用
<ul><li><code>amin</code>: 动画资源</li> <li><code>colors</code>: 色彩资源</li> <li><code>string</code>: 字符串资源</li> <li><code>demens</code>: css配置文件, 定义尺寸资源</li> <li><code>styles</code>: 定义样式资源</li></ul></li></ul></li></ul></li></ul></li></ul></li> <li><p><a href="https://gradle.org/#close-notification" target="_blank" rel="noopener noreferrer"><code>Gradle Script</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: Gradle <a href="https://developer.android.google.cn/studio/build?hl=zh_cn" target="_blank" rel="noopener noreferrer">编译<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>配置目录</p> <ul><li><p><code>build.gradle</code>: 有两个这样的文件一个是工程级别的(全局), 一个是模块级别的, 下面是模块级别的介绍:</p> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code>plugins <span class="token punctuation">{</span>
    <span class="token comment">// 使用到的插件, 对应 build.gradle(工程级)里的 plugins.id</span>
    id <span class="token string">'com.android.application'</span>
<span class="token punctuation">}</span>

android <span class="token punctuation">{</span>
  	<span class="token comment">// 命名空间</span>
    namespace <span class="token string">'com.example.learn_androd'</span>
    <span class="token comment">// 指定编译使用的 SDK 版本号</span>
    compileSdk <span class="token number">33</span>

    defaultConfig <span class="token punctuation">{</span>
        <span class="token comment">// 项目的应用编号, 必须是唯一的</span>
        applicationId <span class="token interpolation-string"><span class="token string">&quot;com.example.learn_androd&quot;</span></span>
        <span class="token comment">// 指定App适合运行的最小SDK版本</span>
        minSdk <span class="token number">24</span>
        <span class="token comment">// 指定目标设备的SDK版本号</span>
        targetSdk <span class="token number">33</span>
        <span class="token comment">// 指定App的应用版本号</span>
        versionCode <span class="token number">1</span>
      	<span class="token comment">// 指定App的应用版本名称</span>
        versionName <span class="token interpolation-string"><span class="token string">&quot;1.0&quot;</span></span>
				
        <span class="token comment">// 单元测试类</span>
        testInstrumentationRunner <span class="token interpolation-string"><span class="token string">&quot;androidx.test.runner.AndroidJUnitRunner&quot;</span></span>
    <span class="token punctuation">}</span>

    buildTypes <span class="token punctuation">{</span>
        release <span class="token punctuation">{</span>
            minifyEnabled <span class="token boolean">false</span>
            <span class="token comment">// 混淆文件</span>
            proguardFiles <span class="token function">getDefaultProguardFile</span><span class="token punctuation">(</span><span class="token string">'proguard-android-optimize.txt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'proguard-rules.pro'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    compileOptions <span class="token punctuation">{</span>
        sourceCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_11
        targetCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_11
    <span class="token punctuation">}</span>
    buildFeatures <span class="token punctuation">{</span>
        viewBinding <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// App的依赖信息</span>
dependencies <span class="token punctuation">{</span>
		<span class="token comment">// 兼容性库</span>
    implementation <span class="token string">'androidx.appcompat:appcompat:1.4.1'</span>
    implementation <span class="token string">'com.google.android.material:material:1.5.0'</span>
    implementation <span class="token string">'androidx.constraintlayout:constraintlayout:2.1.3'</span>
    implementation <span class="token string">'androidx.navigation:navigation-fragment:2.4.1'</span>
    implementation <span class="token string">'androidx.navigation:navigation-ui:2.4.1'</span>
  	<span class="token comment">// 单元测试库</span>
    testImplementation <span class="token string">'junit:junit:4.13.2'</span>
    androidTestImplementation <span class="token string">'androidx.test.ext:junit:1.1.3'</span>
    androidTestImplementation <span class="token string">'androidx.test.espresso:espresso-core:3.4.0'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div></li> <li><p><code>proguard-rules.pro</code>: 配置项目java代码的混淆规则</p></li> <li><p><code>gradle.properties</code>: 配置编译工程的命令行参数, 一般不用修改</p></li> <li><p><code>gradle-wrapper.properties</code>: 配置编译工程的一些配置, 如: gradle地址和构建版本</p></li> <li><p><code>local.properties</code>: 描述开发者电脑的配置信息, 如: sdk本地目录, ndk本地目录</p></li> <li><p><code>settings.gradle</code>: 表示需要编译那些模块, 默认是<code>include ':app'</code>表示只构建app模块</p></li></ul></li></ul> <h3 id="三个重要文件"><a href="#三个重要文件" class="header-anchor">#</a> 三个重要文件</h3> <p><img src="/note-sites/assets/img/image-20220525165346420.d19ba6cf.png" alt="image-20220525165346420"></p> <p><code>super.onCreate(savedInstanceState)</code> 的作用: 调用其父类 Activity 的 onCreate 方法来实现对界面的图画绘制工作。在实现自己定义的 Activity 子类的 onCreate 方法时一定要记得调用该方法, 以确保能够绘制界面</p> <p><code>setContentView(R.layout.main)</code> 的作用: 加载一个界面, 该方法中传入的参数是 “R.layout.main”, 其含义为 R.java 类中静态内部类 layout 的静态常量 main 的值, 而该值是一个指向 res 目录下的 layout 子目录下的 main.xml 文件的标识符, 因此代表着显示 main.xml 所定义的画面</p> <p><img src="/note-sites/assets/img/image-20220525165551099.d273a810.png" alt="image-20220525165551099"></p> <p><img src="/note-sites/assets/img/image-20220525165627118.2231d52e.png" alt="image-20220525165627118"></p> <p><img src="/note-sites/assets/img/image-20220525165646685.2c38894d.png" alt="image-20220525165646685"></p> <h2 id="log"><a href="#log" class="header-anchor">#</a> Log</h2> <p>Android 采用<code>android.util.Log</code>工具类打印日志，它将各类日志划分为五个等级(越往下优先级越高):</p> <ul><li>Log.e: 表示错误信息, 比如可能导致程序崩溃的异常</li> <li>Log.w: 表示警告信息</li> <li>Log.i: 表示一般消息</li> <li>Log.d: 表示调试信息，可把程序运行时的变量值打印出来，方便跟踪调试。</li> <li>Log.v: 表示冗余信息</li></ul> <blockquote><p>也可以使用java的<code>System.out.println</code>进行调试</p></blockquote> <h2 id="adb"><a href="#adb" class="header-anchor">#</a> adb</h2> <p>Android Studio和模拟器或者手机是通过<code>adb</code>这个工具来通信的, 这个工具一般是在Android SDK目录下的<code>platform-tools</code>目录下面</p> <h2 id="gradle"><a href="#gradle" class="header-anchor">#</a> gradle</h2> <p><a href="https://gradle.org/#close-notification" target="_blank" rel="noopener noreferrer">gradle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="gradle下载配置镜像"><a href="#gradle下载配置镜像" class="header-anchor">#</a> gradle下载配置镜像</h3> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code>gradle<span class="token operator">/</span>gradle<span class="token operator">-</span>wrapper<span class="token punctuation">.</span>properties

<span class="token comment">// 修改为国内腾讯镜像即可(https://mirrors.cloud.tencent.com/)</span>
distributionUrl<span class="token operator">=</span>https\<span class="token punctuation">:</span><span class="token interpolation-string"><span class="token string">//</span></span>mirrors<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>tencent<span class="token punctuation">.</span>com<span class="token interpolation-string"><span class="token string">/gradle/</span></span>gradle<span class="token operator">-</span><span class="token number">7.5</span><span class="token operator">-</span>all<span class="token punctuation">.</span>zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="全局镜像配置"><a href="#全局镜像配置" class="header-anchor">#</a> 全局镜像配置</h3> <p><code>c:/users/用户名/.gradle/init.gradle</code></p> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code>allprojects<span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        <span class="token keyword">def</span> ALIYUN_REPOSITORY_URL <span class="token operator">=</span> <span class="token string">'https://maven.aliyun.com/repository/public'</span>
        <span class="token keyword">def</span> ALIYUN_JCENTER_URL <span class="token operator">=</span> <span class="token string">'https://maven.aliyun.com/repository/public'</span>
        <span class="token keyword">def</span> ALIYUN_GOOGLE_URL <span class="token operator">=</span> <span class="token string">'https://maven.aliyun.com/repository/google'</span>
        <span class="token keyword">def</span> ALIYUN_GRADLE_PLUGIN_URL <span class="token operator">=</span> <span class="token string">'https://maven.aliyun.com/repository/gradle-plugin'</span>
        all <span class="token punctuation">{</span> ArtifactRepository repo <span class="token operator">-&gt;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>repo <span class="token keyword">instanceof</span> <span class="token class-name">MavenArtifactRepository</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">def</span> url <span class="token operator">=</span> repo<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://repo1.maven.org/maven2/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">ALIYUN_REPOSITORY_URL</span></span><span class="token string">.&quot;</span></span>
                    remove repo
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://jcenter.bintray.com/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">ALIYUN_JCENTER_URL</span></span><span class="token string">.&quot;</span></span>
                    remove repo
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://dl.google.com/dl/android/maven2/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">ALIYUN_GOOGLE_URL</span></span><span class="token string">.&quot;</span></span>
                    remove repo
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'https://plugins.gradle.org/m2/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    project<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>lifecycle <span class="token interpolation-string"><span class="token string">&quot;Repository </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">repo<span class="token punctuation">.</span>url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> replaced by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">ALIYUN_GRADLE_PLUGIN_URL</span></span><span class="token string">.&quot;</span></span>
                    remove repo
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        maven <span class="token punctuation">{</span> url ALIYUN_REPOSITORY_URL <span class="token punctuation">}</span>
        maven <span class="token punctuation">{</span> url ALIYUN_JCENTER_URL <span class="token punctuation">}</span>
        maven <span class="token punctuation">{</span> url ALIYUN_GOOGLE_URL <span class="token punctuation">}</span>
        maven <span class="token punctuation">{</span> url ALIYUN_GRADLE_PLUGIN_URL <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>TODO</p> <h2 id="常用xml控件"><a href="#常用xml控件" class="header-anchor">#</a> 常用XML控件</h2> <p>Andorid的视图层是使用<code>XML</code>编写而且是命令式编写的, 类比于前端的<code>JQuery</code>, 官方在推出声明时Ui就是</p> <p><a href="https://developer.android.google.cn/jetpack/compose?hl=zh-cn" target="_blank" rel="noopener noreferrer">Jetpack Compose)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 使用Java或者Kotlin来编写程序逻辑</p> <h3 id="viewgroup-和-view"><a href="#viewgroup-和-view" class="header-anchor">#</a> ViewGroup 和 View</h3> <ul><li><strong>ViewGroup</strong>: 可以嵌套多个空间, 必须要要结束标签(<strong>不能自闭合</strong>)</li> <li><strong>View</strong>: 不可以嵌套控件, 可以闭合</li></ul> <h3 id="textview"><a href="#textview" class="header-anchor">#</a> TextView</h3> <p><a href="https://developer.android.google.cn/guide/topics/ui/look-and-feel/autosizing-textview" target="_blank" rel="noopener noreferrer">文本框<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="基本属性"><a href="#基本属性" class="header-anchor">#</a> 基本属性</h4> <ul><li><strong>layout_width</strong>: 组件的宽度, 基本常用属性如下:
<ul><li><strong>match_parent</strong>: 依据容器, 父级的大小</li> <li><strong>wrap_content</strong>: 根据自身内容</li> <li><strong>xxxdp</strong>: 使用具体的数字的话, 单位是<code>dp</code></li></ul></li> <li><strong>layout_height</strong>: 组件的高度, 同组件的宽度一样</li> <li><strong>id</strong>: 为控件设置一个组件id, 格式为: <code>@+id/xxx</code>, 用于在Java文件通过<code>findViewById(R.id.xxx)</code>获取该控件对象, 类比html中的id</li> <li><strong>text:</strong> 设置显示的文本内容</li> <li><strong>textColor</strong>: 设置字体颜色, 格式为<code>ARGB</code>(十六进制), 注意: 透明度(<code>A</code>)是在前面的, 如果写成RGB格式的话透明度默认为<code>FF</code>(可以使用<code>Color.parseColor()</code>解析字符串为十六进制颜色值)</li> <li>**textStyle **: 设置字体风格, 三个可选值: normal(无效果), bold(加粗),italic(斜体)textSize:字体大小, 单位使用<code>sp</code></li> <li><strong>background</strong>: 控件的背景颜色, 可以理解为填充整个控件的颜色, 可以是图片</li> <li><strong>gravity</strong>: 设置控件中内容的对齐方向, 常用属性包括: <code>center</code>,<code>center_vertical</code>,<code>center_vertical</code></li></ul> <p>TextView基本使用:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- src\main\res\layout\activity_main.xml --&gt;</span>

<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>

<span class="token comment">&lt;!-- 容器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/myTextView<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>textStyle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>italic<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffff00<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50sp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello world!<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TextView</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// java/com/example/learn_android/MainActivity.java  onCreate </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 获取id为 myTextView 的组件</span>
        <span class="token class-name">TextView</span> myTextView <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>myTextView<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置文本为 hello world!</span>
        myTextView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;java setText TextView text content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 文本颜色修改为红色 </span>
      	myTextView<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">&quot;#f00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>myTextView<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><kbd>F12</kbd>或者<kbd>alt</kbd>+<kbd>点击属性</kbd>就可以查看对应属性的值</p> <p><img src="/note-sites/assets/img/image-20220521103002435.3ef9935d.png" alt="image-20220521103002435"></p> <p>如下:</p> <p><img src="/note-sites/assets/img/image-20220521103100738.99012319.png" alt="image-20220521103100738"></p> <blockquote><p><a href="https://developer.android.google.cn/guide/topics/resources/layout-resource" target="_blank" rel="noopener noreferrer">布局资源<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="引用资源"><a href="#引用资源" class="header-anchor">#</a> 引用资源</h4> <p>控件中的一些属性, 比如颜色, 文本, 数值一般都不会写死的, 而是在项目的配置文件<code>res/values</code>中读取的,</p> <p>项目创建默认对应有三个values文件<code>colors.xml</code>(颜色),<code>strings.xml</code>(文本),<code>themes.xml</code>(主题), 里面有一些默认的属性, 也可以自己添加一些属性, 如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- res/values/colors.xml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
	...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>color</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>#ff0000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>color</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>color</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yellow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>#ffff00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>color</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- res/values/strings.xml --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hi<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hello world!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在控件中引入使用:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/red<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/yellow<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/hi<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TextView</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p><code>res</code>下的一些图片资源目录是可以在<code>xml</code>或者<code>Java</code>代码中被直接引入使用的, 比如: <code>drawable</code>,<code>mipmap</code></p></blockquote> <h4 id="阴影属性"><a href="#阴影属性" class="header-anchor">#</a> 阴影属性</h4> <ul><li><strong>shadowColor</strong>: 设置阴影颜色, 需要与<strong>shadowRadius—起使用</strong></li> <li><strong>shadowRadius</strong>: 设置阴影的模糊程度,设为0.1就变成字体颜色了, 建议使用3.0</li> <li><strong>shadowDx</strong>: 设置阴影在水平方向的偏移就是水平方向阴影开始的横坐标位置, 使用数字不带单位,例如: 10.0</li> <li><strong>shadowDy</strong>: 设置阴影在竖直方向的偏移就是竖直方向阴影开始的纵坐标位置</li></ul> <h4 id="跑马灯效果"><a href="#跑马灯效果" class="header-anchor">#</a> 跑马灯效果</h4> <ul><li><strong>singleLine</strong>: 内容单行显示</li> <li><strong>focusable</strong>: 是否可以获取焦点</li> <li><strong>focusableInTouchMode</strong>: 用于控制视图在触摸模式下是否可以聚焦</li> <li><strong>ellipsize</strong>: 在哪里省略文体</li> <li><strong>marqueeRepeatLimit</strong>: 字幕动画重复的次数</li></ul> <p><strong>基本使用:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20sp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>ellipsize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>marquee<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>focusable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>focusableInTouchMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>marqueeRepeatLimit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>marquee_forever<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>singleLine</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello world! hello world! hello world!hello world! hello world! hello world! hello world!<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TextView</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>这是文本并不会自动转动, 原因是TextView没有获取焦点可以添加<code>android:clickable=&quot;true&quot;</code>这样可以手动点击后触发焦点, 一般不会使用它, 而是使用自动获取焦点的方式, 可以在TextView标签内添加<code>&lt;requestFocus/&gt;</code>去请求焦点</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
	<span class="token attr-name">...</span>
    <span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 请求焦点 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>requestFocus</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TextView</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="java文件中获取通过id对应的控件"><a href="#java文件中获取通过id对应的控件" class="header-anchor">#</a> java文件中获取通过id对应的控件</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">TextView</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token comment">// 保存 TextView 控件对象</span>
    <span class="token keyword">public</span> <span class="token class-name">TextView</span> view<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取控件对象, 通过资源类 R 获取到对应的id</span>
        view <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>myTextView<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 绑定点击事件</span>
        view<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;an&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TextView 控件被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 修改里面的文本</span>
              	view<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;我修改了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="button"><a href="#button" class="header-anchor">#</a> Button</h3> <p><a href="https://developer.android.google.cn/guide/topics/ui/controls/button" target="_blank" rel="noopener noreferrer">按钮<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>Button</code>继承自<code>TextView</code>, <code>TextView</code>有的属性<code>Button</code>也能使用, 按钮只多了两个属性一个是<code>onClick</code>(点击事件), 一个是<code>textAllCaps</code>字母是否为大写(默认为<code>true</code>)</p> <p>注意: 按钮的背景色在<code>Android29</code>以后的设置是有问题的需要修改<code>values/themes.xml</code>文件</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 默认的 --&gt;</span>
    <span class="token comment">&lt;!-- &lt;style name=&quot;Theme.Learnandroid&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt; --&gt;</span>
    <span class="token comment">&lt;!-- parent属性添加 .Bridge 即可 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.Learnandroid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.MaterialComponents.DayNight.DarkActionBar.Bridge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p><strong>enabled</strong>属性控制按钮的是否启用</p></blockquote> <h4 id="button事件处理"><a href="#button事件处理" class="header-anchor">#</a> Button事件处理</h4> <p>常用事件有三个:</p> <ol><li>点击事件</li> <li>长按事件</li> <li>触摸事件</li></ol> <p>**事件的基本使用: **</p> <p><strong>MainActivity:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// onCreate</span>

<span class="token comment">// 获取页面的按钮, findViewById() 等价于 this.findViewById()</span>
<span class="token class-name">Button</span> btn <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>my_btn<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 点击事件(支持Lambda表达式)</span>
btn<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>view <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;按钮被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 长按事件</span>
btn<span class="token punctuation">.</span><span class="token function">setOnLongClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnLongClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onLongClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;按钮被长按了: &quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Button</span><span class="token punctuation">)</span>view<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 返回true则该事件回调会把触摸事件也消费(就是前端的, 取消事件冒泡)</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 触摸事件</span>
btn<span class="token punctuation">.</span><span class="token function">setOnTouchListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnTouchListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onTouch</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">,</span> <span class="token class-name">MotionEvent</span> motionEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;按钮被触摸了&quot;</span> <span class="token operator">+</span> motionEvent<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 返回true则该事件回调会把长按事件和点击事件也一起消费(这两个事件的事件回调也会执行这个回调)</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><blockquote><p>触摸事件的事件对象的<code>getAction()</code>的返回的对应MotionEvent类的 <code>ACTION_DOWN</code>(0), <code>ACTION_UP</code>(1), <code>ACTION_MOVE</code>(2)</p></blockquote> <p>除了上面的在生命周期中动态的绑定事件, 还可以在XML中绑定事件格式为: <code>android:onXxx=&quot;方法名&quot;</code>这个方法名对应<code>MainActivity</code>类的方法名</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- 绑定点击事件, 事件处理函数是MainActivity类的handleClick方法 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// src/main/java/com/example/learn_android/MainActivity.java</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;XML中处理点击事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="通用点击事件"><a href="#通用点击事件" class="header-anchor">#</a> 通用点击事件</h4> <p>当一个类实现 <code>View.OnClickListener</code> 这个接口然后重写 <code>onClick</code> 方法即可处理 <code>onClick</code> 事件</p> <p>基本使用如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn3<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/text<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>我是 textview<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">Button</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">TextView</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>

<span class="token comment">// 让当前类实现 View.OnClickListener 这个接口然后重写 onClick 即可处理 onClick 事件</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span> <span class="token punctuation">{</span>
    <span class="token comment">// 保存控件对象</span>
    <span class="token keyword">private</span> <span class="token class-name">Button</span> btn1<span class="token punctuation">,</span> btn2<span class="token punctuation">,</span> btn3<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">TextView</span> text<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取控件对象</span>
        btn1 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn2 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn3 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        text <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 因为当前上下文已经实现了 View.OnClickListener 接口就可以处理 onClick</span>
        btn1<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn2<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn3<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      	<span class="token comment">// 根据当前点击的控件id进行判断是点击了那个按钮</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn1<span class="token operator">:</span>
                msg <span class="token operator">=</span> <span class="token string">&quot;刚刚点击了按钮1&quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn2<span class="token operator">:</span>
                msg <span class="token operator">=</span> <span class="token string">&quot;刚刚点击了按钮2&quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn3<span class="token operator">:</span>
                msg <span class="token operator">=</span> <span class="token string">&quot;刚刚点击了按钮3&quot;</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 这里要把 view 转成 Button 才有 getText() 方法</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;点击了 -&gt; &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Button</span><span class="token punctuation">)</span>view<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置 TextView 文本</span>
        text<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h3 id="statelistdrawable"><a href="#statelistdrawable" class="header-anchor">#</a> StateListDrawable</h3> <p>StateListDrawable是Drawable资源的一种, 可以根据使用它的控件的不同状态, 设置不同的图片效果, 关键节点<code>&lt;selector&gt;</code>, 只需要将Button的background属性设置为该drawable资源即可轻松实现, 按下按钮时不同的按钮颜色或背景, 常用属性如下:</p> <p><strong>drawable</strong>: 引用的Drawable位图</p> <p><strong>state_focused</strong>: 是否获得焦点</p> <p><strong>state_pressed</strong>: 控件是否被按下</p> <p><strong>state_enabled</strong>:控件是否可用</p> <p><strong>state_selected</strong>:控件是否被选择,针对有滚轮的情况</p> <p><strong>state_checked</strong>:控件是否被勾选</p> <p><strong>state_checkable</strong>:控件可否被勾选</p> <p>state_window_focused:是否获得窗口焦点</p> <p>state_active:控件是否处于活动状态</p> <p>state_single:控件包含多个子控件时,确定是否只显示一个子控件</p> <p>state_first:控件包含多个子控件时,确定第一个子控件是否处于显示状态</p> <p>state_middle:控件包含多个子控件时,确定中间一个子控件是否处于显示状态</p> <p>state_last:控件包含多个子控件时,确定最后一个子控件是否处于显示状态</p> <h4 id="新建drawble"><a href="#新建drawble" class="header-anchor">#</a> 新建Drawble</h4> <p><img src="/note-sites/assets/img/image-20220522094759176.fc924260.png" alt="image-20220522094759176"></p> <p>给定文件名<code>btn_select</code>新建即可</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- item 标签表示可以选择的每一项 --&gt;</span>
    <span class="token comment">&lt;!-- drawable属性不能使用values中的变量, 必须使用Drawable位图 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Android Studio自带了一些内置的Drawable位图, 如下方式新建:</p> <p><img src="/note-sites/assets/img/image-20220522095230628.d24f6cf1.png" alt="image-20220522095230628"></p> <p><img src="/note-sites/assets/img/image-20220522100230080.4fbea46f.png" alt="image-20220522100230080"></p> <p><strong>定义drawable各个状态所显示的位图</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- drawable/btn_select.xml --&gt;</span>

<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 按下时图片为 drawable/ic_launcher_foreground --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/ic_android_black_24dp<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">android:</span>state_pressed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 默认为 drawable/ic_baseline_accessibility_24 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/ic_baseline_accessibility_24<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="按钮引用drawable"><a href="#按钮引用drawable" class="header-anchor">#</a> 按钮引用drawable</h4> <p><strong>activity_main:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>我是按钮<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/my_btn<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/btn_select<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>运行代码后可以看到点击按钮后按钮的背景图片会改变</p> <h4 id="定义颜色选择器"><a href="#定义颜色选择器" class="header-anchor">#</a> 定义颜色选择器</h4> <p><code>res</code>下新建<code>color</code>目录在该目录下新建<code>Color Resource File</code>里面的每个<code>item</code>标签使用<code>android:color=&quot;#xxx&quot;</code>, 页面使用时使用<code>android:backgroundTint=&quot;@color/xxx&quot;</code>引用即可</p> <blockquote><p>很多控件都支持使用<code>android:background</code>属性设置成<code>drawable</code>, 只是各自的根节点和<code>item</code>或子节点的属性不一样</p></blockquote> <h3 id="edittext"><a href="#edittext" class="header-anchor">#</a> EditText</h3> <p>功能文本框</p> <p>EditText也是继承自TextView, 常用属性如下:</p> <ul><li><strong>hint</strong>: 输入提示</li> <li><strong>textColorHint</strong>: 输入提示文字的颜色</li> <li><strong>inputType</strong>: 输入类型, <code>phone</code>手机号码, <code>numberPassword</code>数字密码,<code>textPassword</code>文本密码</li> <li><strong>drawableXxx</strong>: 在输入框的指定方位添加位图(drawble), 如:  <code>drawableLeft</code></li> <li><strong>drawablePadding</strong>: 设置图片与输入内容的间距</li> <li><strong>paddingXxx</strong>: 设置内容与边框的间距, 如:  <code>paddingLeft</code>, 类别CSS的<code>padding-xxx</code></li> <li><strong>layout_marginXxx</strong>: 类比CSS的<code>margin-xxx</code></li> <li><strong>background</strong>: 背景色</li></ul> <p><strong>activity_main:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditText</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/userName<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#3f000000<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>drawableLeft</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/person<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入用户名<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>inputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>paddingLeft</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditText</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/password<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#3f000000<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入密码<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>inputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textPassword<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textColorHint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/red<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>12dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>drawableLeft</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/lock<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>drawablePadding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>paddingLeft</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>提交<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>获取EditText中的文本, 通过其<code>getText().toString()</code>方法来获取, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Button</span> btn <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">EditText</span> userName <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">EditText</span> password <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

btn<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取用户名</span>
        <span class="token class-name">String</span> u <span class="token operator">=</span> userName<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取密码</span>
        <span class="token class-name">String</span> p <span class="token operator">=</span> password<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;用户名是:&quot;</span> <span class="token operator">+</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;密码是:&quot;</span> <span class="token operator">+</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="horizontalscrollview-和-scrollview"><a href="#horizontalscrollview-和-scrollview" class="header-anchor">#</a> HorizontalScrollView 和 ScrollView</h3> <p>滚动条控件</p> <ul><li>HorizontalScrollView:水平滚动</li> <li>ScrollView:  垂直滚动</li></ul> <blockquote><p>滚动条控件只能有一个子控件, 要放多个子控件可以放一个ViewGroup然后在ViewGroup里嵌套</p></blockquote> <h3 id="imageview"><a href="#imageview" class="header-anchor">#</a> ImageView</h3> <p>图片标签, 开发中一般使用<code>Glide</code>库</p> <ul><li><strong>src</strong>: 设置图片资源</li> <li><strong>scaleType</strong>: 设置图片缩放类型</li> <li><strong>maxHeight</strong>: 最大高度,  本身的<code>layout_width</code>和<code>layout_height</code>是<code>wrap_content</code>才有用</li> <li><strong>maxWidth</strong>: 同上只不是设置其最大宽度</li> <li><strong>adjustViewBounds</strong>: 调整<code>view</code>的界限, 使其设置的最大高度和最大宽度生效</li></ul> <blockquote><p>在<code>Java</code>代码中, 通过<code>setImageResource()</code>方法设置值, 参数为<code>R.drawable.xxx</code>(不含图片扩展名)</p></blockquote> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>maxHeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>maxWidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>adjustViewBounds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/np<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>**ScaleType的可选值: **</p> <ul><li><strong>fitStart</strong>: 保持宽高比缩放图片, 直到较长的边与Image的边长相等, 缩放完成后将图片放在lmageView的左上角</li> <li><strong>fitCenter</strong>: <code>默认值</code>, 同fitStart, 缩放后放于中间</li> <li><strong>fitEnd</strong>: 同fitStart, 缩放后放于右下角</li> <li><strong>fitXY</strong>: 对图像的横纵方向进行独立缩放, 使得该图片完全适应ImageView, 图片的宽高比可能会发生改变</li> <li><strong>center</strong>: 保持原图的大小, 显示在lmageView的<strong>中心</strong>; 当原图的大小大于lmageView的大小, 原图超出部分裁剪处理</li> <li><strong>centerCrop</strong>: 保持宽高比缩放图片, 直到完全覆盖ImageView, 可能会出现图片的显示不完全</li> <li><strong>centerlnside</strong>: 保持宽高比缩放图片, 直到ImageView能够完全地显示图片</li> <li><strong>matrix</strong>: 不改变原图的大小, 从lmageView的<strong>左上角</strong>开始绘制原图, 原图超出的部分作裁剪处理</li></ul> <blockquote><p>还有对应的<code>ImageButton</code></p></blockquote> <h3 id="progressbar"><a href="#progressbar" class="header-anchor">#</a> ProgressBar</h3> <p>进度条</p> <ul><li><p><strong>max:</strong> 进度条的最大值</p></li> <li><p><strong>progress:</strong> 进度条已完成进度值</p></li> <li><p><strong>indeterminate:</strong> 如果设置成<code>true</code>, 则进度条不精确显示进度, 就会一直滚动</p></li> <li><p><code>style=&quot;?android:attr/progressBarStyleHorizontal&quot;</code>水平进度条</p></li></ul> <p><strong>activity_main</strong>:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ProgressBar</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/bar1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>弧度进度条显示/隐藏<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ProgressBar</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/bar2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>?android:attr/progressBarStyleHorizontal<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>模拟下载<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ProgressBar</span>
        <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>?android:attr/progressBarStyleHorizontal<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>indeterminate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>**AppCompatActivity: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">MotionEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">Button</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">EditText</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">ProgressBar</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token comment">// 保存进度条对象</span>
    <span class="token keyword">private</span> <span class="token class-name">ProgressBar</span> bar1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ProgressBar</span> bar2<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取进度条对象</span>
        bar1 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bar1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bar2 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>bar2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 弧形进度条click事件</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleClick1</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当前正在显示</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>bar1<span class="token punctuation">.</span><span class="token function">getVisibility</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">View</span><span class="token punctuation">.</span><span class="token constant">GONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 设置为隐藏</span>
            bar1<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span><span class="token class-name">View</span><span class="token punctuation">.</span><span class="token constant">VISIBLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 设置为显示</span>
            bar1<span class="token punctuation">.</span><span class="token function">setVisibility</span><span class="token punctuation">(</span><span class="token class-name">View</span><span class="token punctuation">.</span><span class="token constant">GONE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 水平进度条click事件</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleClick2</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取进度值</span>
        <span class="token keyword">int</span> progress <span class="token operator">=</span> bar2<span class="token punctuation">.</span><span class="token function">getProgress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 每次点击 + 10</span>
        bar2<span class="token punctuation">.</span><span class="token function">setProgress</span><span class="token punctuation">(</span>progress <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 大于或等于最大值时</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">&gt;=</span> bar2<span class="token punctuation">.</span><span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 归零</span>
            bar2<span class="token punctuation">.</span><span class="token function">setProgress</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="notification"><a href="#notification" class="header-anchor">#</a> Notification</h3> <p><a href="https://developer.android.google.cn/guide/topics/ui/notifiers/notifications" target="_blank" rel="noopener noreferrer">通知<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="notificationmange"><a href="#notificationmange" class="header-anchor">#</a> NotificationMange</h4> <p><code>NotificationManager</code>类是一个通知管理器类, 这个对象是由系统维护的服务, 是以单例模式的方式获得, 所以一般并不直接实例化这个对象。在<code>Activity</code>中, 可以使用<code>getSystemService(String)</code>方法获取, 该方法可以通过Android系统级服务的句柄, 返回对应的对象, 在这里需要返回<code>NotificationManager</code>, 所以直接传递<code>NOTIFICATION_SERVICE</code>即可</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取通知管理类对象</span>
<span class="token class-name">NotificationManager</span> manager <span class="token operator">=</span> 
    <span class="token punctuation">(</span><span class="token class-name">NotificationManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token constant">NOTIFICATION_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="notificationchannel"><a href="#notificationchannel" class="header-anchor">#</a> NotificationChannel</h4> <p>Android8.0引入通知渠道的概念, 允许你为要显示的每种通知类型创建用户可自定义的渠道, 需要通过<code>NotificationChannel</code>类去设置, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Android8.0 需要配置通知渠道</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token class-name">Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>O</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">NotificationChannel</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotificationChannel</span><span class="token punctuation">(</span>
            <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 渠道id</span>
            <span class="token string">&quot;测试通知&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 这个是通知的标题</span>
            <span class="token class-name">NotificationManager</span><span class="token punctuation">.</span><span class="token constant">IMPORTANCE_HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这个是通知的重要性程度</span>

    <span class="token comment">// manager 使用 channel</span>
    manager<span class="token punctuation">.</span><span class="token function">createNotificationChannel</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>通知的重要性程度具体的值都存在<code>NotificationManager</code>的常量下:</p> <ul><li><strong>IMPORTANCE_NONE</strong>: 关闭通知</li> <li><strong>IlMPORTANCE_MIN</strong>: 开启通知, 不会弹出, 但没有提示音, 状态栏中无显示</li> <li><strong>IMPORTANCE_LOw</strong>: 开启通知, 不会弹出, 不发出提示音, 状态栏中显示</li> <li><strong>IMPORTANCE_DEFAULT</strong>: 开启通知, 不会弹出, 发出提示音, 状态栏中显示</li> <li><strong>IMPORTANCE_HIGH</strong>: 开启通知, 会弹出, 发出提示音, 状态栏中显示</li></ul> <h3 id="notification-2"><a href="#notification-2" class="header-anchor">#</a> Notification</h3> <p>使用<code>NotificationCompat</code>类的<code>Builder</code>构造器的<code>buiid()</code>方法来创建Notification对象, 可以保证程序在所有的版本上都能正常工作, Android8.0需要添加通知渠道, 如果没有设置, 则通知<strong>无法在Android8.0的机器上显示</strong></p> <p>常用方法(支持链式调用):</p> <ul><li><strong>setContentTitle(String string)</strong>: 设置标题</li> <li><strong>setContentText(String string)</strong>: 设置文本内容</li> <li><strong>setSmalllcon( int icon)</strong>: 设置小图标</li> <li><strong>setLargelcon(Bitmap icon)</strong>: 设置通知的大图标</li> <li><strong>setColor(int argb)</strong>: 设置小图标的颜色</li> <li><strong>setContentIntent(Pendinglntent intent)</strong>: 设置点击通知后的跳转意图</li> <li><strong>setAutoCancel(boolean boolean)</strong>: 设置点击通知后自动清除通知</li> <li><strong>setWhen(long when)</strong>: 设置通知被创建的时间, 默认当前时间</li></ul> <p>一个最简单的通知如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建 Notification 对象</span>
<span class="token class-name">Notification</span> notification <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotificationCompat
        <span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 这个 hello 就是对应上面的渠道id</span>
        <span class="token punctuation">.</span><span class="token function">setContentTitle</span><span class="token punctuation">(</span><span class="token string">&quot;官方通知&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setContentText</span><span class="token punctuation">(</span><span class="token string">&quot;世界那么大, 我想去看看!&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setSmallIcon</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_launcher_foreground<span class="token punctuation">)</span> <span class="token comment">// 引用 drawable 下的位图</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>一个通知只要设置了<code>setContentTitle()</code>,<code>setContentText()</code>,<code>setSmallIcon()</code>就可以显示了</p> <p>注意: Android从5.0系统开始, 对于通知栏图标的设计进行了修改, 现在Google要求, 所有应用程序的通知栏图标, 应该<strong>只使用alpha图层来进行绘制</strong>, 而<strong>不应该包持RGB图层</strong>, 简单说图片不能带颜色</p> <h3 id="通知的使用"><a href="#通知的使用" class="header-anchor">#</a> 通知的使用</h3> <p><strong>activity_main:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sendNotice<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>发出通知<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>closeNotice<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>取消通知<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>MainActivity:</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>notification</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">NotificationCompat</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Activity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Notification</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">NotificationChannel</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">NotificationManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">PendingIntent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span></span><span class="token class-name">Bitmap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span></span><span class="token class-name">BitmapFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span></span><span class="token class-name">Color</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Build</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">NotificationManager</span> manager<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Notification</span> notification<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取通知管理类对象</span>
        manager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">NotificationManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token constant">NOTIFICATION_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Android8.0 需要配置通知渠道</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token class-name">Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>O</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">NotificationChannel</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotificationChannel</span><span class="token punctuation">(</span>
                    <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 对应上面的渠道id</span>
                    <span class="token string">&quot;测试通知&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 这个是通知的标题</span>
                    <span class="token class-name">NotificationManager</span><span class="token punctuation">.</span><span class="token constant">IMPORTANCE_HIGH</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这个是通知的重要性程度</span>

            <span class="token comment">// 使用channel</span>
            manager<span class="token punctuation">.</span><span class="token function">createNotificationChannel</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 创建PendingIntent(就是通知要跳转的页面)</span>
        <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">NotificationActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PendingIntent</span> pendingIntent <span class="token operator">=</span>
                <span class="token class-name">PendingIntent</span><span class="token punctuation">.</span><span class="token function">getActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> intent<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// 创建 Notification 对象</span>
        notification <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NotificationCompat
                <span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 这个 hello 就是对应上面的渠道id</span>
                <span class="token punctuation">.</span><span class="token function">setContentTitle</span><span class="token punctuation">(</span><span class="token string">&quot;官方通知&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setContentText</span><span class="token punctuation">(</span><span class="token string">&quot;世界那么大, 我想去看看!&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setSmallIcon</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_launcher_foreground<span class="token punctuation">)</span> <span class="token comment">// 引用 drawable 下的位图</span>
                <span class="token comment">// 大图标可以使用其他的图片不过格式要转换成 Bitmap</span>
                <span class="token punctuation">.</span><span class="token function">setLargeIcon</span><span class="token punctuation">(</span><span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>np<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token comment">// 小图标的颜色是要int类型的所以需要转换一下</span>
                <span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token comment">// 点击通知后跳转到 NotificationActivity 页面</span>
                <span class="token punctuation">.</span><span class="token function">setContentIntent</span><span class="token punctuation">(</span>pendingIntent<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setAutoCancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 发出通知按钮回调</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendNotice</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 发送id为1的通知</span>
        manager<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> notification<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 取消通知按钮回调</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">closeNotice</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 取消id为1的通知</span>
        manager<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><p><strong>NotificationActivity:</strong></p> <p>在<code>src/main/java/com/example/项目名</code>下面新建<code>NotificationActivity.java</code>文件(通知要跳转的页面), 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>notification</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Activity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Nullable</span></span><span class="token punctuation">;</span>

<span class="token comment">// 继承自 Activity 类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NotificationActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 打印日志</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onCreate: 进入了 NotificationActivity &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>注册页面:</strong></p> <p>在<code>src/main/AndroidManifest.xml</code>下面注册上面新建的NotificationActivity, 如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
    <span class="token attr-name">...</span>
    <span class="token attr-name">&lt;!--</span> <span class="token attr-name">注册一个</span> <span class="token attr-name">NotificationActivity</span> <span class="token attr-name">--</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.NotificationActivity<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="toolbar"><a href="#toolbar" class="header-anchor">#</a> Toolbar</h3> <p><a href="https://developer.android.google.cn/training/appbar" target="_blank" rel="noopener noreferrer">应用栏<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>应用的<code>&lt;stye&gt;</code>标签的属性<code>parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;</code>可以去掉默认的Toolbar</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- app/src/main/res/values/themes.xml --&gt;</span>


<span class="token comment">&lt;!-- 默认 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.Learn_androd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.MaterialComponents.DayNight.DarkActionBar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  
<span class="token comment">&lt;!-- 去除默认标题栏 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.Learn_androd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.MaterialComponents.DayNight.NoActionBar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
 
  
<span class="token comment">&lt;!-- 去除默认标题栏并且可以去除按钮默认颜色 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.Learn_androd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Theme.MaterialComponents.DayNight.NoActionBar.Bridge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="/note-sites/assets/img/image-20220522203207445.84503719.png" alt="image-20220522203207445"></p> <p>而使用自定义的Toolbar使用的是<code>androidx.appcompat.widget.Toolbar</code>而不是默认的Toolbar</p> <p>常用属性(注意前缀是<strong>app:</strong>):</p> <ul><li><strong>android:layout_width</strong>: 一般都是<code>&quot;match_parent&quot;</code></li> <li><strong>android:layout_height</strong>: 一般都是<code>&quot;?attr/actionBarSize&quot;</code></li> <li><strong>android:background</strong>: 背景色</li> <li><strong>app:navigationlcon</strong>: 位图, 可以引用drawable</li> <li><strong>app:title</strong>: 标题</li> <li><strong>app:titleTextColor</strong>: 标题文字颜色</li> <li><strong>app:titleMarginStart</strong>: 标题距离开始位置的距离</li> <li><strong>app:subtitle</strong>: 子标题</li> <li><strong>app:subtitleTextColor</strong>: 子标题文字颜色</li> <li><strong>app:logo</strong>: 位图可以引用drawable或者mipmap</li></ul> <p><strong>activity_main.xml:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>androidx.appcompat.widget.Toolbar</span>
    <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/back<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>?attr/actionBarSize<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>navigationIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/ic_baseline_arrow_back_24<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>返回<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>titleTextColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/white<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>titleMarginStart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>subtitle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>子标题<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>subtitleTextColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>logo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@mipmap/ic_launcher<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>当点击其设置的<code>app:navigationIcon</code>位图时触发的不是<code>click</code>事件, <code>setNavigationOnClickListener</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 这个 Toolbar 是导入的 androidx.appcompat.widget.Toolbar 不是默认的</span>
<span class="token class-name">Toolbar</span> toolbar <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>back<span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setNavigationOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onClick: toolbar 返回位图被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>除了在<code>xml</code>中设置Toolbar的属性, 还可以在Java代码中设置, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Toolbar</span> toolbar <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>back<span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setNavigationIcon</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_baseline_arrow_back_24<span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">&quot;#00ff00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;返回&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setTitleTextColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setTitleMarginStart</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setSubtitle</span><span class="token punctuation">(</span><span class="token string">&quot;子标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setSubtitleTextColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">parseColor</span><span class="token punctuation">(</span><span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setLogo</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>mipmap<span class="token punctuation">.</span>ic_launcher<span class="token punctuation">)</span><span class="token punctuation">;</span>
toolbar<span class="token punctuation">.</span><span class="token function">setNavigationOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onClick: toolbar 返回位图被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="文本居中的toolbar"><a href="#文本居中的toolbar" class="header-anchor">#</a> 文本居中的Toolbar</h3> <p>要实现文本居中的Toolbar只需要在Toolbar内部放一个TextView然后设置其<code>android:layout_gravity=&quot;center&quot;</code>就可以如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>androidx.appcompat.widget.Toolbar</span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>?attr/actionBarSize<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">app:</span>navigationIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/ic_baseline_arrow_back_24<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>我是居中的文本<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>androidx.appcompat.widget.Toolbar</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="alertdialog"><a href="#alertdialog" class="header-anchor">#</a> AlertDialog</h3> <p><a href="https://developer.android.google.cn/guide/topics/ui/notifiers/notifications" target="_blank" rel="noopener noreferrer">通知<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>通过<code>AlertDialog.Builder</code>构造方法来获取构建器, 然后构建AlertDialog的各种参数</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用方法(支持链式调用):</p> <ul><li><p><strong>Builder.setlcon(int iconld)</strong>: 添加ICON</p></li> <li><p><strong>Builder.setTitle(CharSequence title)</strong>: 添加标题</p></li> <li><p><strong>Builder.setMessage(CharSequence message)</strong>: 添加消息</p></li> <li><p><strong>Builder.setView(View view)</strong>: 设置自定义布局</p></li> <li><p><strong>Builder.setPositiveButton(String textId, OnClickListener listener)</strong>: 确定按钮</p></li> <li><p><strong>Builder.setNegativeButton(String textId, OnClickListener listener)</strong>: 取消按钮</p></li> <li><p><strong>Builder.setNeutralButton(String textId, OnClickListener listener)</strong>: 中间按钮</p></li> <li><p><strong>Builder.create()</strong>: 创建Dialog</p></li> <li><p><strong>Builder.show()</strong>: 显示对话框</p></li></ul> <p><strong>activity_main:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlAlertDialog<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>显示 AlertDialog<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>**MainActicity: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 按钮回调函数</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handlAlertDialog</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取构建器</span>
    <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>mipmap<span class="token punctuation">.</span>ic_launcher<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;我是对话框&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;我是内容&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span>
                    <span class="token string">&quot;确定&quot;</span><span class="token punctuation">,</span>
                    <span class="token comment">// 这个类是 DialogInterface.OnClickListener</span>
                    <span class="token keyword">new</span> <span class="token class-name">DialogInterface<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">DialogInterface</span> dialogInterface<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onClick: 确定按钮被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setNegativeButton</span><span class="token punctuation">(</span>
                    <span class="token string">&quot;取消&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">(</span>dialogInterface<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onClick: 取消按钮被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setNeutralButton</span><span class="token punctuation">(</span>
                    <span class="token string">&quot;中间按钮&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">(</span>dialogInterface<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onClick: 取消按钮被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 这里只是创建了</span>
            <span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显示, 这个一定要放到最后</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>Builder.setView(View view)</strong> 自定义布局的使用需要新建一个<code>Android Resource File</code>, 然后随便自定义一些控件如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- layout/dialog_view.xml --&gt;</span>
<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/ic_launcher_background<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello world!<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>然后加载该View:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">View</span> dialogView <span class="token operator">=</span> <span class="token function">getLayoutInflater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>dialog_view<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用</span>
builder<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span>dialogView<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>自定义的效果如下:</p> <p><img src="data:image/png;base64,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" alt="image-20220522223920206"></p> <h3 id="popupwindow"><a href="#popupwindow" class="header-anchor">#</a> PopupWindow</h3> <p>通过构造方法来构建PopupWidow</p> <p>常用方法如下:</p> <ul><li><strong>setContentView(View contentView)</strong>: 设置PopupWindow显示的view</li> <li><strong>showAsDropDown(View anchor)</strong>: 相对某个控件的位置(正左下方), 无偏移</li> <li><strong>showAsDropDown(View anchor, int xoff, int yoff)</strong>: 相对某个控件的位置, 有偏移</li> <li><strong>setFocusable(boolean focusable)</strong>: 设置是否获取焦点</li> <li><strong>setBackgroundDrawable(Drawable background)</strong>: 设置背景</li> <li><strong>dismiss()</strong>: 关闭弹窗</li> <li><strong>setAnimationStyle(int animationStyle)</strong>: 设置加载动画</li> <li><strong>setTouchable(boolean touchable)</strong>: 设置PopupWindow的触摸使能, 点击本身</li> <li><strong>setOutsideTouchable(boolean touchable)</strong>: 设置PopupWindow外面的触摸使能</li></ul> <p>可以通过上述的方法去一个一个的设置属性, 还可以通过其带参构造方法或方法去设置, 如下:</p> <p><strong>activity_main:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>显示popupwindow<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>popup_view:</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>**MainActicity: **</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 按钮回调函数</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 自定义的view</span>
    <span class="token class-name">View</span> popupView <span class="token operator">=</span> <span class="token function">getLayoutInflater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>popup_view<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 构建PopupWindow</span>
    <span class="token class-name">PopupWindow</span> popupWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PopupWindow</span><span class="token punctuation">(</span>
            popupView<span class="token punctuation">,</span> <span class="token comment">// view</span>
            <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">WRAP_CONTENT</span><span class="token punctuation">,</span> <span class="token comment">// x方向偏移, 等价于 wrap_content</span>
            <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">WRAP_CONTENT</span><span class="token punctuation">,</span> <span class="token comment">// y方向偏移</span>
            <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 失去焦点, 隐藏popupWindown</span>

    <span class="token comment">// 设置背景图片, 必须要在显示之前设置</span>
    popupWindow<span class="token punctuation">.</span><span class="token function">setBackgroundDrawable</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>dy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    popupWindow<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    popupWindow<span class="token punctuation">.</span><span class="token function">setHeight</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 显示 popupWindow 并设置其相对于view的偏移</span>
    popupWindow<span class="token punctuation">.</span><span class="token function">showAsDropDown</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> view<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span>view<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 获取 popupView 里的控件</span>
    <span class="token class-name">Button</span> btn1 <span class="token operator">=</span> popupView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn1<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> view<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onClick: 按钮1 被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 关闭popupWindow</span>
            popupWindow<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Button</span> btn2 <span class="token operator">=</span> popupView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn2<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onClick: 按钮2 被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="布局"><a href="#布局" class="header-anchor">#</a> 布局</h3> <h4 id="linearlayout"><a href="#linearlayout" class="header-anchor">#</a> LinearLayout</h4> <p><a href="https://developer.android.google.cn/guide/topics/ui/layout/linear" target="_blank" rel="noopener noreferrer">线性布局<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>( 绝对布局)</p> <ul><li><p><strong>xmlns:android</strong>: 命名空间就是<code>android:</code>前缀的属性</p></li> <li><p><strong>orientation</strong>: 布局中组件的排列方式, <code>verical</code>(垂直排列), <code>horizontal</code>(水平排列)</p></li> <li><p><strong>gravity</strong>: 控制组件所包含的子元素的对齐方式, 可多个组合, 使用(<code>|</code>)连接</p></li> <li><p><strong>layout_gravity</strong>: 控制该组件在父容器里的对其方式, 收父容器<strong>gravity</strong>限制是控制垂直还是水平</p></li> <li><p><strong>background</strong>: 为该组件设置一个背景图片, 或者是直接用颜色覆盖</p></li> <li><p><strong>divider</strong>: 分割线, 会显示在每个子控件之间</p></li> <li><p><strong>showDividers</strong>: 设置分割线所在的位置, none(无), beginning(开始), end(结束),middle(每两个组件间)</p></li> <li><p><strong>dividerPadding</strong>: 设置分割线的 padding</p></li> <li><p><strong>layout_weight(权重)</strong>: 该属性是用来等比例的划分区域(基于自身的<strong>layout_height</strong>或者<strong>layout_width</strong>来分配具体得看父容器的<strong>orientation</strong>), 类似于CSS的<strong>flex</strong>, 一般自身<strong>layout_height</strong>或者<strong>layout_width</strong>给定<strong>0dp</strong>, 然后就可以按照权重自动分配剩余空间了</p></li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center|right<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#00ff00<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#0000ff<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="布局信息"><a href="#布局信息" class="header-anchor">#</a> 布局信息</h4> <ul><li><p><code>getLayoutParams</code>可以获取布局信息</p></li> <li><p><code>gsetLayoutParams</code>可以设置布局</p></li></ul> <h4 id="relativelayout"><a href="#relativelayout" class="header-anchor">#</a> RelativeLayout</h4> <p><a href="https://developer.android.google.cn/guide/topics/ui/layout/relative" target="_blank" rel="noopener noreferrer">相对布局<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(相对布局)</p> <h4 id="根据父容器定位"><a href="#根据父容器定位" class="header-anchor">#</a> 根据父容器定位</h4> <ul><li><strong>layout_alignParentTop</strong>: 顶部对齐</li> <li><strong>layout_alignParentBottom</strong>: 底部对齐</li> <li><strong>layout_alignParentLeft</strong>: 左对齐</li> <li><strong>layout_alignParentRight</strong>: 右对齐</li> <li><strong>layout_centerHorizontal</strong>: 水平居中</li> <li><strong>layout_centerVertical</strong>: 垂直居中</li> <li><strong>layout_centerInParent</strong>: 中间位置</li></ul> <h4 id="根据兄弟组件定位"><a href="#根据兄弟组件定位" class="header-anchor">#</a> 根据兄弟组件定位</h4> <p>根据兄弟组件定位是要给定那个兄弟元素的<code>id</code>来定位的</p> <ul><li><strong>layout_above</strong>: 放置于参考组件的上方</li> <li><strong>layout_below</strong>: 放置于参考组件的下方</li> <li><strong>layout_toLeftOf</strong>: 放置于参考组件的左边</li> <li><strong>layout_toRightOf</strong>: 放置于参考组件的右边</li> <li><strong>layout_alignTop</strong>: 对齐参考组件的上边界</li> <li><strong>layout_alignBottom</strong>: 对齐参考组件的下边界</li> <li><strong>layout_alignLeft</strong>: 对齐参考组件的左边界</li> <li><strong>layout_alignRight</strong>: 对齐参考组件的右边界</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rl1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_centerInParent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@id/rl1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#00ff00<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@id/rl1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#0000ff<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_centerVertical</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#00000f<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RelativeLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="通用属性"><a href="#通用属性" class="header-anchor">#</a> 通用属性</h4> <h4 id="margin"><a href="#margin" class="header-anchor">#</a> margin</h4> <p>设置组件与父容器的边距, 同CSS的<code>margin-xxx</code></p> <ul><li><strong>layout_margin</strong>: 上下左右偏移</li> <li><strong>layout_marginLeft</strong>: 左偏移</li> <li><strong>layout_marginRight</strong>: 右偏移</li> <li><strong>layout_marginTop</strong>: 上偏移</li> <li><strong>layout_margiBottom</strong>: 下偏移</li></ul> <h4 id="padding"><a href="#padding" class="header-anchor">#</a> padding</h4> <p>设置组件内部元素的边距, 格式为<code>layout_xxx</code>, 同CSS的<code>padding-xxx</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>paddingTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_margin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginLeft</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#00ff00<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RelativeLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="framelayout"><a href="#framelayout" class="header-anchor">#</a> FrameLayout</h4> <p>帧布局的重叠区域会直接被覆盖, 一个一个网上堆的</p> <p>常用属性:</p> <ul><li><strong>foreground</strong>: 设置前景</li> <li><strong>foregroundGravity</strong>: 设置前景位置, 可以使用(<code>|</code>)</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FrameLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FrameLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>foreground</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/dy<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>foregroundGravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0000<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FrameLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#00ff00<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FrameLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>foreground</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/np<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>foregroundGravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center|left<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#0000ff<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FrameLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="tablelayout"><a href="#tablelayout" class="header-anchor">#</a> TableLayout</h4> <p>表格布局下的控件默认占用一行的大小, 如果需要一行放多个控件需要配合<code>&lt;TableRow&gt;</code>控件, 基本使用如下:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第1个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第2个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableRow</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第3个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第4个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第5个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableRow</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableRow</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第6个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第7个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第8个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第9个超过不会换行<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableRow</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><p>常用属性:</p> <p>以下属性都支持使用(<code>,</code>)分割多个</p> <ul><li><strong>collapseColumns</strong>: 设置需要被隐藏的列的序号, 从0开始,</li> <li><strong>stretchColumns</strong>: 设置允许被拉伸(<strong>前提是有拉伸的空间</strong>)的列的列序号, 从0开始</li> <li><strong>shrinkColumns</strong>: 设置允许被收缩的(<strong>前提是有超出一行的空间</strong>)列的列序号, 从0开始</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>collapseColumns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0, 2<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>stretchColumns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>子控件设置属性:</p> <p>下面的属性最少需要两列才可以生效</p> <ul><li><strong>layout_column</strong>: 从第几列开始显示(<strong>默认从0开始</strong>)</li> <li><strong>layout_span</strong>: 一个控件横向跨几列(<strong>默认跨1列</strong>)</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableRow</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第3个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第4个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第5个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableRow</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TableRow</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第6个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TableRow</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="gridlayout"><a href="#gridlayout" class="header-anchor">#</a> GridLayout</h4> <p>网格布局, 类似于TableLayout但是网格布局更加强大和灵活</p> <p>常见属性:</p> <ul><li><strong>orientation</strong>: 设置水平显示(<code>horizontal</code>默认)还是垂直显示(<code>vertical</code>)</li> <li><strong>columnCount</strong>: 设置一个行最多显示几个, 前提是<code>android:orientation=&quot;horizontal&quot;</code></li> <li><strong>rowCount</strong>: 设置列的显示个数, 前提是<code>android:orientation=&quot;vertical&quot;</code></li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GridLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>columnCount</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        android:orientation=&quot;vertical&quot;
        android:rowCount=&quot;3&quot;
    --&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第1个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第2个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第3个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第4个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第5个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第6个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GridLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>子控件属性:</p> <ul><li><strong>layout_column</strong>: 显示在第几列</li> <li><strong>layqut_columnSpan</strong>: 横向跨几列</li> <li><strong>layout_columnWeight</strong>: 横向剩余空间分配方式</li> <li><strong>layout_gravity</strong>: 在网格中的显示位置</li> <li><strong>layout_row</strong>: 显示在第几行</li> <li><strong>layout_rowSpan</strong>: 横向跨几行</li> <li><strong>layout_rowWeight</strong>: 纵向剩余空间分配方式</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GridLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第1个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第2个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_columnWeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第3个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第4个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 还可以配合 layout_gravity 去使用 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_columnSpan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第5个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_rowWeight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第6个<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>GridLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><p>效果如下:</p> <p><img src="data:image/png;base64,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oQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKEBoCihAaAooQGgKKHpEbXN/CYGhqv7fyAA25jQ9IinHzWQYz87POO2c5aOZe+nN7bZzzjy1MH8xdfnb7P7A5iNbbcW4/fy8g8NJlXykbUL0p5Olly6NoOjVU6+aiS1RpXmZCdJctzI+CbL7ntoIw//g3q+9uG193j/D3tcPUeeOi/NtZ0MDFdZu6pT7LEAbMyMpgec/K8jueLMybx1j4lUVTcm+zyjL5e+alWOmTeeTrt7290js9OetVzaXJhTrp6fZ58y7x7vf99FjZz6w9GcuMt4zj9yZf76NwvyoD386oH7h7VND7j1v1r5ryum86CH13L2M1dmz8fXc+WZa3L7T1rZ8/H1fOg5K7PHwfVNlnv/TWNZel0rr6+W5S27T2z2vl/3ieG89er5eUNjWQ44vC+/uaWdd+0/kQ/891ie+tr+0g8NQGh6wWdOWpPRXWsZ3bWWwdEqC3av5ZXnD62/rd6XvOu7ozOWOeQ1A6lqyRmHrMgRJ83LQx4z81f55Jf3529WLsgjn1DPm0a7M6HDThjIHgc3cudN7Zzw4PH8n7OG8sFbx/KQ/TaNGMC2Yh9Nj9jl0bXM36Ubi6qW1AeqPPqP7vnXc+gx3dnI+csWZOL2dl567mC+et5kPvvmNUmS//5BKxe9eFV+/KXpzS6/8q5OTtptPM9840Bu/2lrGz8agA2Epkf8n7MG1++DqfdXecor+vO596xZ//WNP06S+Q/uRunovmVJkuMuH87hJ87LZ9+yJukkd1zfyh3XbzkgV//NPR9AALAtCE2P6B+u8q7vdg89rqoqCx5aW//5Oh95+arceVM7SdKa7mT1+IYjx374+ek84cX9qdWStgkK0EOEpkes25n/8D+o55hPD2fijnYueOGq9V8/57axtDbaCvaNj0/lxWcPpqolnXZywOF9aTeTdvv+HjnAvXMwQI8YX9rOQx5Tz/H/PJK37708nXb3tnX/kmTZbRsq8uUPTGbFXZ1c2lyYD9+1IIe8pj9fPHMy8fYYoMeY0fSAoQVV3vW90TT6kzfOX5ZUG049c9bPx9I3mExPdmcuG3vzbuPZ65BG9npaI9/8+FQm7jCdAXqP0PSAg57fl4+9dlVu/FYzSVJrdHLtV7vbyd6130QaA1UmV2w6VWm3kuu/3sz1X2/O6udc9JJVWb3MlAe4fwlND/jW/52a8Xm7mXzy2NVJkuZU0pzaNnH47S1mPMD9zz4aAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGtWuu88AAARESURBVACKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEhoAihIaAIoSGgCKEppZqqpqrocAsF0SGgCKEppZMqPZOi/4wPRcDwHoEUKzlf70yjtSa3Tmehg9q6qSF186nie92nMEdDXmegDbg6qqUq/XkyQP2ac/J/7o9nQ6nXQ6VqZ319/fn+Hh4fT39ycxEwSEZouqqkqtVktfX1+SZHh4eP3HbKper2dwcDADAwNJhAYQmlnZODQjIyNpNptzPKLeVVVV+vr6zGiA9f4/XUxt7XCJlnIAAAAASUVORK5CYII=" alt="image-20220523213326598"></p> <h4 id="constraintlayout"><a href="#constraintlayout" class="header-anchor">#</a> ConstraintLayout</h4> <p><a href="https://developer.android.google.cn/training/constraint-layout" target="_blank" rel="noopener noreferrer">约束布局<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 默认创建的模板就是约束布局, 该布局一般使用<code>Design</code>模式进行编辑</p> <p><img src="data:image/png;base64,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" alt="image-20220523214223847"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>androidx.constraintlayout.widget.ConstraintLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>app</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res-auto<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Hello World!<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintBottom_toBottomOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintLeft_toLeftOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintRight_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">app:</span>layout_constraintTop_toTopOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>androidx.constraintlayout.widget.ConstraintLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>约束布局下可以拖动控件到画布上, 默认位置是左上角, 需要对其四个点进行约束**(拖动<strong>那一个点到边上就是约束到哪一边(靠边布局), 如果拖动到四边就是</strong>居中**)</p> <p><img src="/note-sites/assets/img/image-20220523214530556.12632e2b.png" alt="image-20220523214530556"></p> <p>删除对应的那个点就是删除哪一步的约束</p> <p>两个控件的点相对于就是相对于它进行布局</p> <p><img src="data:image/png;base64,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" alt="image-20220523215141381"></p> <p><img src="data:image/png;base64,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" alt="image-20220523215312015"></p> <p>设置约束填充和关系</p> <p><img src="data:image/png;base64,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" alt="image-20220523215937122"></p> <p>指导线</p> <p><img src="/note-sites/assets/img/image-20220523220154972.5caa613f.png" alt="image-20220523220412414"></p> <p><kbd>ctrl</kbd>+鼠标单击可以切换百分比</p> <p>然后控件可以相对于指导线进行约束</p> <p><img src="data:image/png;base64,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" alt="image-20220523220629808"></p> <p><img src="/note-sites/assets/img/image-20220523221223781.10dbaf7b.png" alt="image-20220523221223781"></p> <p>推导约束可以让画布上的控件自动约束, 画布上是什么样运行就是什么样的</p> <h3 id="listview"><a href="#listview" class="header-anchor">#</a> ListView</h3> <p><code>ListView</code>类似于前端的虚拟列表, <code>ListView</code>布局里的每一项都是一个<code>item</code>作用是<strong>定义布局</strong>, 然后还需要一个<code>Adapter</code>一般都是继承<code>BaseAdapter</code>作用是<strong>填充数据</strong></p> <p>页面布局<strong>activity_main.xml</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/lv<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>创建Item<code>布局</code><strong>list_item.xml</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/tv<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30sp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>新建数据类<strong>DataBean.java</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataBean</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> text<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DataBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">DataBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> text<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setText</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>MainActivity.java</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">ListView</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token comment">// 存储数据的list</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataBean</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 模拟请求数据</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">DataBean</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataBean</span><span class="token punctuation">(</span><span class="token string">&quot;数据&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 获取ListView对象</span>
        <span class="token class-name">ListView</span> listView <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>lv<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 创建Adapter</span>
        listView<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyAdapter</span><span class="token punctuation">(</span>dataList<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 绑定ListView里的每个item的点击事件(支持Lanbda表达式)</span>
        listView<span class="token punctuation">.</span><span class="token function">setOnItemClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AdapterView<span class="token punctuation">.</span>OnItemClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onItemClick</span><span class="token punctuation">(</span><span class="token class-name">AdapterView</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> parent<span class="token punctuation">,</span> <span class="token class-name">View</span> view<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">,</span> <span class="token keyword">long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> id <span class="token operator">==</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onItemClick: &quot;</span> <span class="token operator">+</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>创建辅助适配器类<strong>MyAdapter</strong>(作用是填充数据)需要继承<strong>BaseAdapter</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">LayoutInflater</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">ViewGroup</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">BaseAdapter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">TextView</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">BaseAdapter</span> <span class="token punctuation">{</span>
    <span class="token comment">// 存储数据</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataBean</span><span class="token punctuation">&gt;</span></span> dataList<span class="token punctuation">;</span>
    <span class="token comment">// 存储 Context</span>
    <span class="token keyword">private</span> <span class="token class-name">Context</span> context<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyAdapter</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataBean</span><span class="token punctuation">&gt;</span></span> dataList<span class="token punctuation">,</span> <span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dataList <span class="token operator">=</span> dataList<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取数据的总数</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dataList <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> dataList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取item</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dataList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取item的id</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getItemId</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> position<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 返回的 View 即每一个 item(会多次调用)</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">View</span> <span class="token function">getView</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">,</span> <span class="token class-name">View</span> convertView<span class="token punctuation">,</span> <span class="token class-name">ViewGroup</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ViewHolder</span> viewHolder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewHolder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 这个item是可以复用的</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>convertView <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 获取ListView里的item布局, 赋值给convertView</span>
            convertView <span class="token operator">=</span> <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>list_item<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 获取item里的控件</span>
            viewHolder<span class="token punctuation">.</span>tv <span class="token operator">=</span> convertView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 绑定给 convertView</span>
            convertView<span class="token punctuation">.</span><span class="token function">setTag</span><span class="token punctuation">(</span>viewHolder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            viewHolder <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ViewHolder</span><span class="token punctuation">)</span> convertView<span class="token punctuation">.</span><span class="token function">getTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 获取item里的控件(不是最优解)</span>
        <span class="token comment">// TextView textView = convertView.findViewById(R.id.item);</span>

        <span class="token comment">// position 就是第n个item的索引, 根据索引拿数据</span>
        <span class="token class-name">DataBean</span> data <span class="token operator">=</span> dataList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 给 ListView 里面的 Iitem 填充数据</span>
        viewHolder<span class="token punctuation">.</span>tv<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;getView: &quot;</span> <span class="token operator">+</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      	<span class="token comment">// 这里一定要返回</span>
        <span class="token keyword">return</span> convertView<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 这个类专门用来获取 ListView 里的控件</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">ViewHolder</span> <span class="token punctuation">{</span>
        <span class="token class-name">TextView</span> tv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h3 id="recyclerview"><a href="#recyclerview" class="header-anchor">#</a> RecyclerView</h3> <p><a href="https://developer.android.google.cn/guide/topics/ui/layout/recyclerview" target="_blank" rel="noopener noreferrer">RecyclerView<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类似于ListView但是更加灵活和强大, 使用RecyclerView必须先在 <code>build.gradle</code>里的<code>dependencies</code>导入依赖包</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>dependencies <span class="token punctuation">{</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        
    <span class="token comment">// 添加 RecyclerView 的依赖包</span>
    testImplementation 'androidx<span class="token punctuation">.</span>recyclerview<span class="token operator">:</span>recyclerview<span class="token operator">:</span><span class="token number">1.2</span><span class="token number">.1</span>'
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>布局文件</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 这里使用的是依赖包的 RecyclerView --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>androidx.recyclerview.widget.RecyclerView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rv<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>item和数据类和ListView是一样的</p> <p><strong>MainActivity.java</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myrecyclerview</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>recyclerview<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">GridLayoutManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>recyclerview<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">LinearLayoutManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>recyclerview<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">RecyclerView</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>recyclerview<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">StaggeredGridLayoutManager</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token comment">// 存储数据的list</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataBean</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// 模拟请求数据</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">DataBean</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataBean</span><span class="token punctuation">(</span><span class="token string">&quot;数据&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 获取RecyclerView对象</span>
        <span class="token class-name">RecyclerView</span> recyclerView <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>rv<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// // 创建线性布局</span>
        <span class="token comment">// LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);</span>
        <span class="token comment">// // 指定recyclerView的布局, 同LiveView</span>
        <span class="token comment">// recyclerView.setLayoutManager(linearLayoutManager);</span>

        <span class="token comment">// 网格布局, 一行显示3个</span>
        <span class="token class-name">GridLayoutManager</span> gridLayoutManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GridLayoutManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        recyclerView<span class="token punctuation">.</span><span class="token function">setLayoutManager</span><span class="token punctuation">(</span>gridLayoutManager<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 瀑布流布局, 一行或一列是3个(当宽高不齐的话会自动对齐)</span>
        <span class="token comment">// StaggeredGridLayoutManager.VERTICAL 对应 android:orientation=&quot;vertical&quot;</span>
        <span class="token comment">// StaggeredGridLayoutManager.HORIZONTAL 对应 android:orientation=&quot;horizontal&quot;</span>
        <span class="token comment">// StaggeredGridLayoutManager staggeredGridLayoutManager =</span>
        <span class="token comment">//         new StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL);</span>
        <span class="token comment">// recyclerView.setLayoutManager(staggeredGridLayoutManager);</span>


        <span class="token comment">// 创建Adapter</span>
        <span class="token class-name">MyAdapter</span> myAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyAdapter</span><span class="token punctuation">(</span>dataList<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        recyclerView<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span>myAdapter<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">// 监听点击事件</span>
        myAdapter<span class="token punctuation">.</span><span class="token function">setmRecyclerItemClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyAdapter<span class="token punctuation">.</span>OnRecyclerItemClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">OnRecyclerItemClick</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;OnRecyclerItemClick: &quot;</span> <span class="token operator">+</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><p>RecyclerView的辅助类是继承**RecyclerView.Adapter&lt;VH&gt;**的这个泛型就是上面ListView的ViewHolder内部类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myrecyclerview</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">ViewGroup</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">TextView</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>recyclerview<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">RecyclerView</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>Adapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyAdapter</span><span class="token punctuation">.</span>myViewHolder<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// 存储数据</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataBean</span><span class="token punctuation">&gt;</span></span> dataList<span class="token punctuation">;</span>
    <span class="token comment">// 存储 Context</span>
    <span class="token keyword">private</span> <span class="token class-name">Context</span> context<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyAdapter</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataBean</span><span class="token punctuation">&gt;</span></span> dataList<span class="token punctuation">,</span> <span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dataList <span class="token operator">=</span> dataList<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 创建 item</span>
    <span class="token annotation punctuation">@NonNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> myViewHolder <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">ViewGroup</span> parent<span class="token punctuation">,</span> <span class="token keyword">int</span> viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 拿到item布局</span>
        <span class="token class-name">View</span> view <span class="token operator">=</span> <span class="token class-name">View</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>recyclerview_item<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将其实例化为myViewHolder返回即可</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">myViewHolder</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 绑定item的数据</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> myViewHolder holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取到对应的数据</span>
        <span class="token class-name">DataBean</span> data <span class="token operator">=</span> dataList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 填充数据</span>
        holder<span class="token punctuation">.</span>tv<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onBindViewHolder: &quot;</span> <span class="token operator">+</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取数据总数</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dataList <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> dataList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> myViewHolder <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">TextView</span> tv<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">myViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">View</span> itemView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 获取 TextView, 并赋值</span>
            tv <span class="token operator">=</span> itemView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 绑定每个item的点击事件</span>
            itemView<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>mOnRecyclerItemClickListener <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token class-name"><span class="token namespace">mOnRecyclerItemClickListener<span class="token punctuation">.</span></span>OnRecyclerItemClick</span><span class="token punctuation">(</span><span class="token function">getAdapterPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 监听对象</span>
    <span class="token keyword">private</span> <span class="token class-name">OnRecyclerItemClickListener</span> mOnRecyclerItemClickListener<span class="token punctuation">;</span>

    <span class="token comment">// 设置监听对象</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setmRecyclerItemClickListener</span><span class="token punctuation">(</span><span class="token class-name">OnRecyclerItemClickListener</span> listener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mOnRecyclerItemClickListener <span class="token operator">=</span> listener<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 创建接口用于Item点击事件</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OnRecyclerItemClickListener</span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token class-name">OnRecyclerItemClick</span><span class="token punctuation">(</span><span class="token keyword">int</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><h3 id="viewpage"><a href="#viewpage" class="header-anchor">#</a> ViewPage</h3> <p>页面轮播效果</p> <p>需要新建三个布局文件,<code>layout1</code>,<code>layout2</code>,<code>layout3</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff0050<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>activity_main.xml</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>androidx.viewpager.widget.ViewPager</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/vp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>androidx.viewpager.widget.ViewPager</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ViewPage效果也是需要一个适配器继承<code>PagerAdapter</code>类, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>myapplication</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">ViewGroup</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>viewpager<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">PagerAdapter</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">PagerAdapter</span> <span class="token punctuation">{</span>
    <span class="token comment">// 存放所有的view</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">View</span><span class="token punctuation">&gt;</span></span> mListView<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyAdapter</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">View</span><span class="token punctuation">&gt;</span></span> mListView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mListView <span class="token operator">=</span> mListView<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ViewPage 中有多少个 View</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mListView<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 创建 vite</span>
    <span class="token annotation punctuation">@NonNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">instantiateItem</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">ViewGroup</span> container<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取 view(item)</span>
        <span class="token class-name">View</span> view <span class="token operator">=</span> mListView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 添加到 container</span>
        container<span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> view<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 是否是同一页面</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isViewFromObject</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">View</span> view<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Object</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> view <span class="token operator">==</span> object<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 页面销毁</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroyItem</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">ViewGroup</span> container<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Object</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取 view</span>
        <span class="token class-name">View</span> view <span class="token operator">=</span> mListView<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 移除 view</span>
        container<span class="token punctuation">.</span><span class="token function">removeView</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h2 id="资源访问"><a href="#资源访问" class="header-anchor">#</a> 资源访问</h2> <p>Android应用程序, 除了应用程序的编码, 还需要关注各种各样的资源，诸如你用到的各种静态内容，如位图，颜色，布局定义，用户界面字符串，动画等等。这些资源一般放置在项目的<code>res</code>下独立子目录中</p> <table><thead><tr><th style="text-align:left;">目录</th> <th style="text-align:left;">资源类型</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>anim</code></td> <td style="text-align:left;">定义动画属性的XML文件。它们被保存在<code>res/anim/</code>文件夹下，通过<code>R.anim</code>类访问</td></tr> <tr><td style="text-align:left;"><code>color</code></td> <td style="text-align:left;">定义颜色状态列表的XML文件。它们被保存在<code>res/color/</code>文件夹下，通过<code>R.color</code>类访问</td></tr> <tr><td style="text-align:left;"><code>drawable</code></td> <td style="text-align:left;">图片文件，如.png,.jpg,.gif或者XML文件，被编译为位图、状态列表、形状、动画图片。它们被保存在<code>res/drawable/</code>文件夹下，通过<code>R.drawable</code>类访问</td></tr> <tr><td style="text-align:left;"><code>layout</code></td> <td style="text-align:left;">定义用户界面布局的XML文件。它们被保存在<code>res/layout/</code>文件夹下，通过<code>R.layout</code>类访问</td></tr> <tr><td style="text-align:left;"><code>menu</code></td> <td style="text-align:left;">定义应用程序菜单的XML文件，如选项菜单，上下文菜单，子菜单等。它们被保存在res/menu/文件夹下，通过<code>R.menu</code>类访问</td></tr> <tr><td style="text-align:left;"><code>raw</code></td> <td style="text-align:left;">任意的文件以它们的原始形式保存。需要根据名为<code>R.raw.filename</code>的资源ID，通过调用<code>Resource.openRawResource()</code>来打开raw文件</td></tr> <tr><td style="text-align:left;"><code>values</code></td> <td style="text-align:left;">包含简单值(如字符串，整数，颜色等)的XML文件。这里有一些文件夹下的资源命名规范。<br><code>colors.xml</code>代表颜色资源，通过<code>R.color</code>类访问, <code>xml</code>中通过<code>@colors/xxx</code>访问；<br><code>dimens.xml</code>代表维度值，通过<code>R.dimen</code>类访问；<br><code>strings.xml</code>代表字符串资源，通过<code>R.string</code>类访问, <code>xml</code>中通过<code>@string/xxx</code>访问；<br><code>styles.xml</code>代表样式资源，通过<code>R.style</code>类访问</td></tr> <tr><td style="text-align:left;"><code>xml</code></td> <td style="text-align:left;">可以通过调用<code>Resources.getXML()</code>来在运行时读取任意的XML文件。可以在这里保存运行时使用的各种配置文件</td></tr></tbody></table> <p>xml布局文件中的<code>android:@+id/xxx</code>所有的ID会被收集到<code>R.id</code>这个类下面</p> <p>当 Android 应用程序被编译，生成一个<code>R</code> 类，其中包含了所有<code>res</code>目录下资源的 ID, 你可以使用<code>R</code>类，通过<code>子类+资源名</code>或者直接使用资源 ID 来访问资源</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取 res/layout/*.xml 里面控件 android:id=&quot;@+id/btn1&quot; 的控件对象</span>
<span class="token class-name">Button</span> btn1 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 从 res/values/string.xml 中获取 name=&quot;app_name&quot; 的值</span>
<span class="token class-name">String</span> app_name <span class="token operator">=</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>app_name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 其他的常见用法</span>

<span class="token comment">// 使用字符串</span>
<span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token comment">// 使用可绘制图片</span>
<span class="token function">getDrawable</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token comment">// 使用颜色</span>
txtName<span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span><span class="token function">getResouces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 图片</span>
imgIcon<span class="token punctuation">.</span><span class="token function">setBackgroundDrawableResource</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>icon<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用布局</span>
<span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>main<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="元数据获取"><a href="#元数据获取" class="header-anchor">#</a> 元数据获取</h2> <p>除了资源文件<code>res</code>, 还有一些数据是配置在清单文件中的, 如: 高德地图的<code>key</code>, <code>token</code>:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span>
    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainActivity<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>launchMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>singleInstance<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/app_name<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/Theme.Learn_androd.NoActionBar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.LAUNCHER<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!-- @string/xxx 则可以引用 res 里面对应的数据 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wechat<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>元数据<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>在Java代码中获取元数据分三步:</p> <ul><li>调用<code>getPackageManager</code>方法获得当前应用的包管理器;</li> <li>调用包管理器的<code>getActivitylnfo</code>方法获得当前活动的信息对象;</li> <li>活动信息对象的<code>metaData</code>是<code>Bundle</code>包裹类型, 调用包裹对象的<code>getString</code>即可获得指定名称的参值;</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取包管理器</span>
<span class="token class-name">PackageManager</span> packageManager <span class="token operator">=</span> <span class="token function">getPackageManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取信息</span>
    <span class="token class-name">ActivityInfo</span> info <span class="token operator">=</span> packageManager<span class="token punctuation">.</span><span class="token function">getActivityInfo</span><span class="token punctuation">(</span>
            <span class="token function">getComponentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 要获取的组件名</span>
            packageManager<span class="token punctuation">.</span><span class="token constant">GET_META_DATA</span> <span class="token comment">// 什么数据</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> info<span class="token punctuation">.</span>metaData<span class="token punctuation">;</span>
    <span class="token comment">// android:name 的值获取元数据</span>
    <span class="token class-name">String</span> wechat <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;wechat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;wechat: %s&quot;</span><span class="token punctuation">,</span> wechat<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PackageManager<span class="token punctuation">.</span>NameNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="其他常量"><a href="#其他常量" class="header-anchor">#</a> 其他常量</h2> <ul><li><code>BuildConfig.DEBUG</code>判断是否是开发模式</li> <li><code>Build</code>里面有很多常量, 可以判断安卓版本</li></ul> <h2 id="动画"><a href="#动画" class="header-anchor">#</a> 动画</h2> <p><a href="https://developer.android.google.cn/training/animation" target="_blank" rel="noopener noreferrer">动画<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>逐帧动画(frame-by-frame animation)</p></li> <li><p>补间动画(tweened animation)</p></li> <li><p>属性动画(property animation)</p></li></ul> <h2 id="单位和尺寸"><a href="#单位和尺寸" class="header-anchor">#</a> 单位和尺寸</h2> <ol><li><strong>px</strong>: pixels(像素)不同设备显示效果相同</li> <li><strong>pt</strong>: point, 是一个标准的长度单位, 1pt=1/72英寸, 常用于印剧业</li> <li><strong>dip</strong>: device independent pixels(设备独立像素)不同设备有不同的显示效果,这个和设备硬件有关, 一般我们为了支持wVGA、HVGA和QVGA推荐使用这个, 不依赖像素,</li> <li><strong>dp(常用)</strong>: 推荐使用, 可以让不同尺寸的手机显示为相同的比例</li> <li><strong>sp</strong>: scaled pixels(放大像素)主要用于字体大小会跟随系统的字体大小而适配</li></ol> <h3 id="layoutparams"><a href="#layoutparams" class="header-anchor">#</a> LayoutParams</h3> <p>LayoutParams相当于一个Layout的信息包, 它封装了Layout的位置、高、宽等信息, 一般在Java代码中使用</p> <p><strong>MainActivity.java</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建 LinearLayout</span>
<span class="token class-name">LinearLayout</span> linearLayout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearLayout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建 LinearLayout参数</span>
<span class="token class-name">LinearLayout<span class="token punctuation">.</span>LayoutParams</span> layoutParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">(</span>
        <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">MATCH_PARENT</span><span class="token punctuation">,</span> <span class="token comment">// 等价于 android:layout_width=&quot;match_parent&quot;</span>
        <span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">MATCH_PARENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
linearLayout<span class="token punctuation">.</span><span class="token function">setLayoutParams</span><span class="token punctuation">(</span>layoutParams<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">TextView</span> textView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LinearLayout<span class="token punctuation">.</span>LayoutParams</span> textLayoutParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里的单位是px</span>
textView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;我是文本&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textView<span class="token punctuation">.</span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span><span class="token number">0xffff0000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textView<span class="token punctuation">.</span><span class="token function">setLayoutParams</span><span class="token punctuation">(</span>textLayoutParams<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将 textView 添加到 linearLayout</span>
linearLayout<span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span>textView<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将 linearLayout 添加到当前activity(页面)</span>
<span class="token function">setContentView</span><span class="token punctuation">(</span>linearLayout<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="activity"><a href="#activity" class="header-anchor">#</a> Activity</h2> <p><a href="https://developer.android.google.cn/guide/components/activities/intro-activities" target="_blank" rel="noopener noreferrer">Activity<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>就是一个活动页面, 继承了AppCompatActivity的类就是一个Activity, 可以使用idea快速新建</p> <p><img src="/note-sites/assets/img/image-20230219200008762.342960ac.png" alt="image-20230219200008762"></p> <h3 id="注册activity"><a href="#注册activity" class="header-anchor">#</a> 注册Activity</h3> <p>每一个Activity都需要在<code>AndroidManifest.xml</code>清单文件里面注册, 如下</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
    <span class="token attr-name">...</span>
    <span class="token attr-name">&lt;activity</span>
        <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainActivity2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="activity启动和跳转"><a href="#activity启动和跳转" class="header-anchor">#</a> Activity启动和跳转</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 从当前 Activity 跳转到 目标页面</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 目标页面<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 在回调函数中 this 会丢失则使用对应 类名.this 获取上下文</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>源页面<span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> 目标页面<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 从当前页面返回到上一个页面(关闭当前页面)</span>
<span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 结束当前的活动页面</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="activity生命周期"><a href="#activity生命周期" class="header-anchor">#</a> Activity生命周期</h3> <p><a href="https://developer.android.google.cn/guide/components/activities/activity-lifecycle" target="_blank" rel="noopener noreferrer">Activity生命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p><code>onCreate()</code>: 必须实现此回调, 它会在系统首次创建 Activity 时触发, 常用来做<strong>初始化操作</strong>, 如: 获取控件</p></li> <li><p><code>onStart()</code>: Activity 进入<strong>就绪</strong>状态</p></li> <li><p><code>onResume()</code>: Activity 进入<strong>恢复</strong>状态时, 能够于用户进行正常交互, 如: 响应事件, 运行用户输入</p></li> <li><p><code>onPause()</code>: 进入<strong>暂停活动</strong>状态用户, 将要离开您的 Activity (并不意味着 Activity 会被销毁)</p></li> <li><p><code>onStop()</code>:  进入<strong>停止活动</strong>状态, Activity 不再对用户可见</p></li> <li><p><code>onRestart()</code>: 进入<strong>重启活动</strong>状态后, Activity 重新加载内存中页面的数据</p> <ul><li>如果 Activity 返回, 系统将调用 <code>onRestart()</code></li> <li>如果 Activity 结束运行, 系统将调用 <code>onDestroy()</code></li></ul></li> <li><p><a href="https://developer.android.google.cn/reference/android/app/Activity#onDestroy()" target="_blank" rel="noopener noreferrer"><code>onDestroy()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: 销毁 Activity 之前, 系统会先调用 <code>onDestroy()</code>; 系统调用此回调的原因如下:</p> <ul><li><p>Activity 即将结束(由用户彻底关闭 Activity 或由系统为 Activity 调用 <a href="https://developer.android.google.cn/reference/android/app/Activity#finish()" target="_blank" rel="noopener noreferrer"><code>finish()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p></li> <li><p>由于配置变更(例如设备旋转或多窗口模式), 系统暂时销毁 Activity</p></li></ul></li> <li><p><code>onNewIntent()</code>: 重用已有的活动实例</p></li></ul> <p>下面是比较直观的调用方式:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 打开新页面的方法调用</span>
onCreate <span class="token operator">-&gt;</span> onStart <span class="token operator">-&gt;</span> onResume

<span class="token comment">// 关闭旧页面的方法调用</span>
onPause <span class="token operator">-&gt;</span> onStop <span class="token operator">-&gt;</span> onDestroy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="启动模式"><a href="#启动模式" class="header-anchor">#</a> 启动模式</h3> <p><code>Activity</code>默认是使用<strong>栈</strong>的存储形式的, 可以在清单文件中配置<code>android:launchMode</code>即可:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainActivity<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">android:</span>launchMode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>standard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>清单文件中配置的启动模式主要有如下的几种:</p> <ul><li><code>standard</code>(默认启动): 每启动一个Activity, 则<strong>压入</strong>一个Activity到栈顶, 点击返回则依次出栈</li> <li><code>singleTop</code>(栈顶复用): <strong>栈顶</strong>是要启动的Activity, 则不压栈</li> <li><code>singleTask</code>(栈内复用): 只要栈内存在已有的Activity, 则复用, 常用于程序主界面, 耗费资源的界面</li> <li><code>singleInstance</code>(全局唯一): 每个Activity都存在一个特殊的栈中, 复用时则唤醒对应的Activity</li></ul> <h4 id="动态设置启动模式"><a href="#动态设置启动模式" class="header-anchor">#</a> 动态设置启动模式</h4> <p>可以在Activity跳转的时候动态的设置, 下面是常用的两个例子:</p> <h5 id="两个activity之间交替跳转"><a href="#两个activity之间交替跳转" class="header-anchor">#</a> 两个Activity之间交替跳转</h5> <p>比如有A和B两个页面, 如果一直相互跳转, 然后有会需要返回很多次, 可以使用<code>Intent.FLAG_ACTIVITY_CLEAR_TOP</code>启动标志, 来保证活动栈中只有唯一的一个Activity:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建 Intent</span>
<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置启动标志</span>
intent<span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">FLAG_ACTIVITY_CLEAR_TOP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 启动</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="登录成功之后不再返回登录页面"><a href="#登录成功之后不再返回登录页面" class="header-anchor">#</a> 登录成功之后不再返回登录页面</h5> <p>使用<code>Intent.FLAG_ACTIVITY_CLEAR_TASK</code>和<code>Intent.FLAG_ACTIVITY_NEW_TASK</code>标志即可:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 创建 Intent</span>
<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置启动标志, | 表示叠加的意思</span>
intent<span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">FLAG_ACTIVITY_CLEAR_TASK</span><span class="token operator">|</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">FLAG_ACTIVITY_NEW_TASK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 启动</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="intent"><a href="#intent" class="header-anchor">#</a> Intent</h2> <p><a href="https://developer.android.google.cn/reference/android/content/Intent" target="_blank" rel="noopener noreferrer">Intent<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(<em>意图</em>)是各个组件之间信息沟通的桥梁, 它用于在Android各个组件之间的通信, 作用如下:</p> <ul><li>标明本次通信请求从哪里来、到哪里去、要怎么走</li> <li>发起方携带本次通信需要的数据内容，接收方从收到的意图中解析数据</li> <li>发起方若想判断接收方的处理结果，意图就要负责让接收方传回应答的数据内容</li></ul> <p>Intent的组成部分:</p> <table><thead><tr><th>元素名称</th> <th>设置方法</th> <th>说明</th></tr></thead> <tbody><tr><td>Component</td> <td>setComponent</td> <td>组件, 它指定意图的来源与目标</td></tr> <tr><td>Action</td> <td><code>setAction</code></td> <td>动作, 它指定意图的动作行为</td></tr> <tr><td>Data</td> <td>setData</td> <td>即<code>Uri</code>, 它指定动作要操纵的数据路径, 常用于系统应用</td></tr> <tr><td>Category</td> <td>addCategory</td> <td>类别, 它指定意图的操作类别, 常用于系统应用</td></tr> <tr><td>Type</td> <td>setType</td> <td>数据类型, 它指定消息的数据类型</td></tr> <tr><td>Extras</td> <td><code>putExtras</code></td> <td>扩展信息, 它指定装载的包裹信息(携带的数据)</td></tr> <tr><td>Flags</td> <td><code>setFlags</code></td> <td>标志位, 它指定活动的启动标志</td></tr></tbody></table> <h3 id="显式intent"><a href="#显式intent" class="header-anchor">#</a> 显式Intent</h3> <p>显式Intent, 直接指定来源活动与目标活动, 属于精确匹配</p> <p>它有三种构建方式:</p> <ul><li><p>在<code>new Intent()</code>中指定</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 目标页面<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>调用意图对象的<code>setClass</code>方法指定</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intent<span class="token punctuation">.</span><span class="token function">setClass</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 目标页面<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>调用意图对象的<code>setComponent</code>方法指定</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ComponentName</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComponentName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> 目标页面<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ComponentName component = new ComponentName(&quot;MainActivity1&quot;, &quot;com.MainActivity2.class&quot;); // 可以根据 字符串进行解析</span>
intent<span class="token punctuation">.</span><span class="token function">setComponent</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h3 id="隐式intent"><a href="#隐式intent" class="header-anchor">#</a> 隐式Intent</h3> <p>没有明确指定要跳转的目标活动，只给出一个动作字符串让系统自动匹配, 属于模猢匹配, 常用于系统动作:</p> <table><thead><tr><th>lntent类的系统动作常量名</th> <th>系统动作的常量值</th> <th>说明</th></tr></thead> <tbody><tr><td>lntent.ACTION_MAIN</td> <td>android.intent.action.MAlIN</td> <td>App启动时的入口</td></tr> <tr><td>lntent.ACTION_vIEw</td> <td>android.intent.action.vIEw</td> <td>向用户显示数据</td></tr> <tr><td>lntent.ACTION_SEND</td> <td>android.lintent.action.SEND</td> <td>分享内容</td></tr> <tr><td>lntent.ACTION_CALL</td> <td>android.lintent.action.CALL</td> <td>直接拨号</td></tr> <tr><td>lntent.ACITON_DIAL</td> <td>android.intent.action.DlAL</td> <td>准备拨号</td></tr> <tr><td>lntent.ACTION_SENDTO</td> <td>android.intent.action.SENDTO</td> <td>发送短信</td></tr> <tr><td>lntent.ACTION_ANSWER</td> <td>android.intent.actionNSWER</td> <td>接听电话</td></tr></tbody></table> <blockquote><p>如果碰到多个匹配的, 则系统会提示用户进行选择</p></blockquote> <h4 id="跳转到拨号界面"><a href="#跳转到拨号界面" class="header-anchor">#</a> 跳转到拨号界面</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置 uri(默认填充的电话号码)</span>
<span class="token class-name">Uri</span> uri1 <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;tel:10086&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 指定动作为, 准备拨号</span>
intent1<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">ACTION_DIAL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置数据</span>
intent1<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>uri1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="跳转到发短信界面"><a href="#跳转到发短信界面" class="header-anchor">#</a> 跳转到发短信界面</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intent2<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">ACTION_SENDTO</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 指定收件人电话</span>
<span class="token class-name">Uri</span> uri2 <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;smsto:10086&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 填充短信内容</span>
intent2<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;sms_body&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;短信内容&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intent2<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>uri2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="跳转到清单文件的中注册-activity"><a href="#跳转到清单文件的中注册-activity" class="header-anchor">#</a> 跳转到清单文件的中注册 Activity</h4> <p>注意对应的Activity需要设置<code>android:exported=&quot;true&quot;</code>, 运行被启动</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 对应清单文件的中注册 Activity 的 intent-filter -&gt; action</span>
intent3<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token string">&quot;android.intent.action.MAIN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 对应清单文件的中注册 Activity 的 intent-filter -&gt; category</span>
intent3<span class="token punctuation">.</span><span class="token function">addCategory</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">CATEGORY_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent3<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="向下一个activity传递数据"><a href="#向下一个activity传递数据" class="header-anchor">#</a> 向下一个Activity传递数据</h3> <p><code>Intent</code>使用<code>Bundle</code>来向下一个Activity(跳转到的Activity)来传递数据, <code>Bundle</code>对象有各种各样类型的<code>putxxx</code>方法, 基本使用如下:</p> <ul><li><p>跳转时指定数据:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MainActivity2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建 Bundle</span>
<span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 添加数据到 Bundle 中</span>
bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bundle<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 将 Bundle 添加到意图中</span>
intent<span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者可以直接添加到意图对象中</span>
intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;直接添加到intent中&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <blockquote><p>意图对象的<code>putExtra</code>方法支持多种数据类型的重载</p></blockquote> <ul><li><p>目标Activity获取数据, 则调用<code>Bundle</code>对象的<code>getxxx</code>方法(同样有多种类型的)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取当前页面的意图对象</span>
<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token function">getIntent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取 Bundle 对象</span>
<span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> intent<span class="token punctuation">.</span><span class="token function">getExtras</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取数据</span>
<span class="token class-name">String</span> name <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> age <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> info <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;默认值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;name: %s, age:%s, info: %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul> <h3 id="向上一个activity返回数据"><a href="#向上一个activity返回数据" class="header-anchor">#</a> 向上一个Activity返回数据</h3> <p>TODO</p> <h2 id="注册快捷方式"><a href="#注册快捷方式" class="header-anchor">#</a> 注册快捷方式</h2> <p>Android7.0之后才支持</p> <p><img src="/note-sites/assets/img/image-20230308225058032.2af0e018.png" alt="image-20230308225058032"></p> <h2 id="数据存储"><a href="#数据存储" class="header-anchor">#</a> 数据存储</h2> <h3 id="sharedpreferences"><a href="#sharedpreferences" class="header-anchor">#</a> SharedPreferences</h3> <p><code>SharedPreferences</code>以Map的形式存储配置信息, 首选项, 类似于前端的本地存储</p> <h4 id="添加sharedpreferences"><a href="#添加sharedpreferences" class="header-anchor">#</a> 添加SharedPreferences</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 模式 Context.MODE_PRIVATE: 常规, Context.MODE_APPEND: 追加</span>
<span class="token class-name">SharedPreferences</span> sp <span class="token operator">=</span> <span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token string">&quot;spName&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">MODE_PRIVATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 添加一个配置信息</span>
sp<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>sp数据默认保存到<code>data -&gt; data -&gt; 项目包名文件目录下</code>, 项目包名在<code>AndroidManifest</code>清单文件下<code>package</code>字段下</p></blockquote> <h4 id="获取sharedpreferences"><a href="#获取sharedpreferences" class="header-anchor">#</a> 获取SharedPreferences</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">SharedPreferences</span> sp <span class="token operator">=</span> <span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token string">&quot;spName&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">MODE_PRIVATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 获取配置信息</span>
<span class="token class-name">String</span> value <span class="token operator">=</span> sp<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;默认用户&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="sqlite"><a href="#sqlite" class="header-anchor">#</a> SQLite</h3> <p>在Android平台上, 集成了一个嵌入式关系型数据库: SQLite</p> <p>SQLite3支持<strong>NULL</strong>, <strong>INTEGER</strong>, <strong>REAL(浮点数字)</strong>, **TEXT(字符串文本)<strong>和</strong>BLOB(二进制对象)**数据类型, 虽然它支持的类型只有五种(不支持布尔值, 会自动转换为0和1)</p> <p>但实际上SQlite3也接受<strong>varchar(n)</strong>, <strong>char(n)</strong>, **decimal(p,s)**等数据类型, 只不过在运算或保存时会转成对应的五种数据类型;</p> <p>SQLite最大的特点是可以把各种类型的数据保存到<strong>任何字段</strong>中, 但是主键只能是<strong>Integer类型</strong></p> <p>SQlite数据库一般要求主键是**_id**,当然也可以是<strong>id</strong></p> <blockquote><p>android里面的数据库是由底层的<strong>sqilte.c</strong>的代码来动态生成的</p></blockquote> <h4 id="sqlitedatabase"><a href="#sqlitedatabase" class="header-anchor">#</a> SQLiteDatabase</h4> <p><a href="https://www.runoob.com/sql/sql-tutorial.html" target="_blank" rel="noopener noreferrer">菜鸟教程SQL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>SQLiteDatabase</code>是SQlint的数据库管理类, 它体用了若干操作数据库表的API, 常用的方法如下:</p> <ul><li><p>管理类, 用于数据库层面的操作</p> <ul><li><p><code>openDatabase</code>: 打开(创建)指定路径的数据库</p></li> <li><p><code>deleteDatabase</code>: 删除数据库</p></li> <li><p><code>isOpen</code>: 判断数据库是否已打开</p></li> <li><p><code>close</code>: 关闭数据库</p></li> <li><p><code>getVersion</code>: 获取数据库的版本号</p></li> <li><p><code>setVersion</code>: 设置数据库的版本号</p></li></ul></li> <li><p>事务类, 用于事务层面的操作</p> <ul><li><code>beginTransaction</code>: 开始事务</li> <li><code>setTransactionSuccessful</code>: 设置事务的成功标志</li> <li><code>endTransaction</code>: 结束事务</li></ul></li> <li><p>数据处理类, 用于数据表层面的操作</p> <ul><li><code>execSQL</code>: 执行拼接好的SQL控制语句</li> <li><code>delete</code>: 删除符合条件的记录</li> <li><code>update</code>: 更新符合条件的记录</li> <li><code>insert</code>: 插入一条记录</li> <li><code>query</code>: 执行查询操作，返回结果集的游标</li> <li><code>rawQuery</code>: 执行拼接好的SQL查询语句，返回结果集的游标</li></ul></li></ul> <blockquote><p>sqlint支持新增列, 但是不支持一次新增多个列, 不支持删除列, 唯一的办法就是复制表数据到临时表中然后删除旧表</p></blockquote> <blockquote><p>可以下载一个GUI软件来本地运行测试sqlint语句, 比如: <a href="https://sqliteexpert.com/" target="_blank" rel="noopener noreferrer">SQLite Expert<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h5 id="创建数据库"><a href="#创建数据库" class="header-anchor">#</a> 创建数据库</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取当前上下文的路径</span>
<span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token function">getFilesDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Context.MODE_PRIVATE: 表示模式数据库不存在则创建</span>
<span class="token class-name">SQLiteDatabase</span> db <span class="token operator">=</span> <span class="token function">openOrCreateDatabase</span><span class="token punctuation">(</span>path <span class="token operator">+</span> <span class="token string">&quot;/user_info.db&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">MODE_PRIVATE</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>db <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;数据库创建成功: &quot;</span> <span class="token operator">+</span> db<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;数据库创建失败了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在Android Studio中可以快速的查看本地的数据库, 如下:</p> <p><img src="/note-sites/assets/img/image-20230311230426651.40613c51.png" alt="image-20230311230426651"></p> <h5 id="删除数据库"><a href="#删除数据库" class="header-anchor">#</a> 删除数据库</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token function">getFilesDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> result <span class="token operator">=</span> <span class="token function">deleteDatabase</span><span class="token punctuation">(</span>path <span class="token operator">+</span> <span class="token string">&quot;/user_info.db&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;数据库删除成功&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;数据库删除失败了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="sqliteopenhelper"><a href="#sqliteopenhelper" class="header-anchor">#</a> SQLiteOpenHelper</h4> <p><code>SQLiteOpenHelper</code>是Android提供的数据库辅助工具类, 用于指导开发者进行SQLite的合理使用</p> <ul><li><code>SQLiteOpenHelper</code>的具体使用步骤如下:
<ul><li>新建一个继承自<code>SQLiteOpenHelper</code>的数据库操作类(一般是单例模式), 重写<code>onCreate</code>和<code>onUpgrade</code>两个方法</li> <li>封装保证数据库安全的必要方法</li> <li>提低对表记寻进行增加, 删除, 修改, 查询的操作方法</li></ul></li></ul> <p>数据库的初始化操作如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>sqlint</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>database<span class="token punctuation">.</span>sqlite<span class="token punctuation">.</span></span><span class="token class-name">SQLiteDatabase</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>database<span class="token punctuation">.</span>sqlite<span class="token punctuation">.</span></span><span class="token class-name">SQLiteOpenHelper</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Nullable</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserSQLiteOpenHelper</span> <span class="token keyword">extends</span> <span class="token class-name">SQLiteOpenHelper</span> <span class="token punctuation">{</span>
    <span class="token comment">// 数据库名</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">DB_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;user.db&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 数据库表名</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;user_info&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 数据库版本</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">DB_VERSION</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 数据库操作实例</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">UserSQLiteOpenHelper</span> mHelper <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// 数据库实例(读操作)</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SQLiteDatabase</span> mRDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// 数据库实例(写操作)</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SQLiteDatabase</span> mWDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">// 构造方法</span>
    <span class="token keyword">private</span> <span class="token class-name">UserSQLiteOpenHelper</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token constant">DB_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token constant">DB_VERSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取数据库实例(单例模式)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">UserSQLiteOpenHelper</span> <span class="token function">getSQLiteHelper</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mHelper <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserSQLiteOpenHelper</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mHelper<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 打开数据库的读连接</span>
    <span class="token keyword">public</span> <span class="token class-name">SQLiteDatabase</span> <span class="token function">openReadLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mRDB <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>mRDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mRDB <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">getReadableDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mRDB<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 打开数据库的写连接</span>
    <span class="token keyword">public</span> <span class="token class-name">SQLiteDatabase</span> <span class="token function">openWriteLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mWDB <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>mWDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mWDB <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">getWritableDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mWDB<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 关闭数据库连接</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">closeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mWDB <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> mWDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mWDB<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mWDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mRDB <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> mRDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mRDB<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mRDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 数据库初始化时调用(只会调用一次)</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase</span> db<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      	<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;SQLint Helper&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
        <span class="token comment">// 定义 sql语句, 作用是新建表, 字段 _id 为主键并且自增, name 字段(text), age字段(int)</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;create table &quot;</span> <span class="token operator">+</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">+</span> <span class="token string">&quot;(_id integer primary key autoincrement, name text NOT NULL, age int NOT NULL)&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 执行sql语句, 创建的数据库会在 `data -&gt; data -&gt;  项目名` 目录下</span>
        db<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 数据库版本更新时调用</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onUpgrade</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase</span> sqLiteDatabase<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> i1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 				<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;SQLint Helper&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onUpgrade&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      	<span class="token comment">// 增加一个 sex 字段</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;alter table &quot;</span> <span class="token operator">+</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">+</span> <span class="token string">&quot; add column sex text;&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 执行 sql</span>
        db<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
        <span class="token comment">// 其他的操作 ... </span>
    <span class="token punctuation">}</span>

    <span class="token comment">///////////// 上面是数据库的初始化操作</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><h5 id="新建一个用户类"><a href="#新建一个用户类" class="header-anchor">#</a> 新建一个用户类</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>bean</span><span class="token punctuation">;</span>

<span class="token comment">// 用户类字段对应数据表里的字段</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;User{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;name='&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h5 id="数据库初始操作"><a href="#数据库初始操作" class="header-anchor">#</a> 数据库初始操作</h5> <p>数据库的初始操作只需要在对应的生命周期中写就可以了</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>	<span class="token comment">// ...  </span>

	<span class="token comment">// 数据库操作实例</span>
  <span class="token keyword">private</span> <span class="token class-name">UserSQLiteOpenHelper</span> mHelper<span class="token punctuation">;</span>

	<span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 初始化数据库操作实例</span>
      mHelper <span class="token operator">=</span> <span class="token class-name">UserSQLiteOpenHelper</span><span class="token punctuation">.</span><span class="token function">getSQLiteHelper</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 打开读写连接</span>
      mHelper<span class="token punctuation">.</span><span class="token function">openReadLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      mHelper<span class="token punctuation">.</span><span class="token function">openWriteLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 关闭连接</span>
      mHelper<span class="token punctuation">.</span><span class="token function">closeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h5 id="插入数据"><a href="#插入数据" class="header-anchor">#</a> 插入数据</h5> <p>给<code>UserSQLiteOpenHelper</code>类添加一个<code>insert</code>方法如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>sqlint</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">ContentValues</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>database<span class="token punctuation">.</span>sqlite<span class="token punctuation">.</span></span><span class="token class-name">SQLiteDatabase</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>database<span class="token punctuation">.</span>sqlite<span class="token punctuation">.</span></span><span class="token class-name">SQLiteOpenHelper</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Nullable</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>bean<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserSQLiteOpenHelper</span> <span class="token keyword">extends</span> <span class="token class-name">SQLiteOpenHelper</span> <span class="token punctuation">{</span>
 		<span class="token comment">// ...</span>
    <span class="token comment">///////////// 上面是数据库的初始化操作</span>

    <span class="token comment">// 插入数据操作返回行号</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 里面添加数据库要插入的数据</span>
        <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 第一个参数是: 表名</span>
        <span class="token comment">// 第二个参数是: 如果添加的数据为空时, 会赋值为null(不然会报错)</span>
        <span class="token comment">// 第三个参数是: 要插入的数据</span>
        <span class="token keyword">return</span> mWDB<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>代码中使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 前提是得提前初始化 mHelper </span>
<span class="token keyword">long</span> n <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;数据插入成功 &quot;</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;数据插入失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据</h5> <p>给<code>UserSQLiteOpenHelper</code>类添加一个<code>deleteByName</code>方法如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 根据用户名删除数据, 返回删除的数量</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">deleteByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 删除所有的数据</span>
    <span class="token comment">// mWDB.delete(TABLE_NAME, &quot;1 = 1&quot;, null);</span>

    <span class="token comment">// 多个条件</span>
    <span class="token comment">// mWDB.delete(TABLE_NAME, &quot;name = ? and sex = ?&quot;, new String[]{ &quot;李四&quot;, &quot;男&quot; });</span>

    <span class="token keyword">return</span> mWDB<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token string">&quot;name = ?&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>代码中使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">long</span> n <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">deleteByName</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;删除了 &quot;</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">&quot;条数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;没有删除数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="更新数据"><a href="#更新数据" class="header-anchor">#</a> 更新数据</h5> <p>给<code>UserSQLiteOpenHelper</code>类添加一个<code>updateByName</code>方法如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 根据用户名进行更新数据, 返回更新的数量</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">updateByName</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> mWDB<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> values<span class="token punctuation">,</span><span class="token string">&quot;name = ?&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> user<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>代码中使用:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">updateByName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> n <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">updateByName</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;更新 &quot;</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">&quot;条数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;没有更新数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">SQLiteOpenHelper</span> helper <span class="token operator">=</span> <span class="token class-name">MySQLiteOpenHelper</span><span class="token punctuation">.</span><span class="token function">getSQLiteHelper</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SQLiteDatabase</span> db <span class="token operator">=</span> helper<span class="token punctuation">.</span><span class="token function">getReadableDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 数据库打开成功</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>db<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// sql语句加参数, 返回一个游标</span>
    <span class="token class-name">Cursor</span> cursor <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">rawQuery</span><span class="token punctuation">(</span><span class="token string">&quot;select * from persons&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 迭代游标</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">moveToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 返回 _id 对应的列索引</span>
        <span class="token keyword">int</span> idIdx <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;_id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> _id <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>idIdx<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> name <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;quert: _id: %d, name: %s \r\n&quot;</span><span class="token punctuation">,</span> _id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 关闭数据库</span>
    db<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 关闭游标</span>
    cursor<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h5 id="查询数据"><a href="#查询数据" class="header-anchor">#</a> 查询数据</h5> <p>给<code>UserSQLiteOpenHelper</code>类添加查询的方法, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 查询所有的数据</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 这里使用读连接, 返回一个游标(类似于JS的迭代器)</span>
    <span class="token comment">// 第一个参数: 表名</span>
    <span class="token comment">// 第二个参数: 要查询出来的字段, 如: new String[]{&quot;name&quot;, &quot;sex&quot;}</span>
    <span class="token comment">// 第三个参数: 查询的参数, 如: new String[]{&quot;张三&quot;, &quot;男&quot;}</span>
    <span class="token comment">// 其它参数分别对应SQL的: groupBy, having, orderBy, limit</span>
    <span class="token class-name">Cursor</span> cursor <span class="token operator">=</span> mRDB<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// mRDB.rowQuery() // 可以执行自行拼接的sql</span>
		
  	<span class="token comment">// 传递对应的条件即可查询指定的数据</span>
    <span class="token comment">// Cursor cursor = mRDB.query(TABLE_NAME, null, &quot;name = ?&quot;, new String[]{&quot;张三&quot;}, null, null, null, null);</span>
  
    <span class="token comment">// 是否存在下一行的数据</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">moveToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 返回 name 对应的列索引</span>
        <span class="token keyword">int</span> nameIdx <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 根据索引获取对应的值</span>
        user<span class="token punctuation">.</span>name <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>nameIdx<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> ageIdx <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getColumnIndex</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span>age <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>ageIdx<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加到集合中</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> list<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>代码中使用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 查询所有的数据</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 根据用户名查询</span>
<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">queryByName</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> _user<span class="token operator">:</span> userList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> _user<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="事务操作"><a href="#事务操作" class="header-anchor">#</a> 事务操作</h4> <p>事务是一组操作的集合，它是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，所以这些操作要么同时成功，要么同时失败</p> <p>事务的四大特性:</p> <ul><li>原子性(Atomicity): 事务是不可分割的最小操作单元，要么全部成功，要么全部失败</li> <li>一致性(Consistency): 事务完成时，必须使所有的数据都保持一致状态</li> <li>隔离性(Isolation): 数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行</li> <li>持久性(Durability): 事务一旦提交或回滚，它对数据库中的数据的改变是永久的</li></ul> <p>下面是事务的基本使用, 两个操作要么一起成功要么就会一起失败, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// 开启事务</span>
    mWDB<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 执行第一个操作</span>
    mWDB<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 这里模拟操作出错了</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 执行第二个操作</span>
    mWDB<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 事务执行成功</span>
    mWDB<span class="token punctuation">.</span><span class="token function">setTransactionSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token comment">// 结束实物</span>
    mWDB<span class="token punctuation">.</span><span class="token function">endTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="room"><a href="#room" class="header-anchor">#</a> Room</h3> <p><code>Room</code>是对<code>SQLite</code>的一种抽象封装, 可以简化很多的代码, <code>Room</code>提供三个概念对应了三个注解来快速的创建数据操作:</p> <ul><li><code>Entity</code>: 对应数据库中的表，可以使用<code>@Entity</code>注解将一个类变成数据库中的一张表结构。</li> <li><code>DAO</code>: 全称<em>Database Access Object</em>, 定义了对数据库中数据的读写等操作, 是一个接口, DAO中可以使用SQL语句来操作数据库, 对应注解<code>@Dao</code></li> <li><code>RoomDatabase</code>: 数据库持有类, 用于创建数据库或者连接到数据库, 内部包含<code>DAO</code>和<code>Entity</code>, 对应注解<code>@Datavase</code></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token keyword">class</span> <span class="token class-name">Students</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 创建表</span>

<span class="token annotation punctuation">@Dao</span>
<span class="token keyword">class</span> <span class="token class-name">StudentDao</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 对表进行增删改查</span>

<span class="token annotation punctuation">@Datavase</span><span class="token punctuation">(</span>数据表<span class="token punctuation">,</span> 版本号<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">StudentDB</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 创建数据库</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="添加依赖"><a href="#添加依赖" class="header-anchor">#</a> 添加依赖</h4> <p>在<code>build.gradle</code>文件添加<code>Room</code>依赖</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 定义 Room 版本变量</span>
def room_version <span class="token operator">=</span> <span class="token string">&quot;2.2.5&quot;</span>
  
<span class="token comment">// 对应的依赖</span>
implementation <span class="token string">&quot;androidx.room:room-runtime:$room_version&quot;</span>
annotationProcessor <span class="token string">&quot;androidx.room:room-compiler:$room_version&quot;</span> <span class="token comment">// Room 注解解析器可以生成 java 代码</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="创建一个用户表对应-entity注解"><a href="#创建一个用户表对应-entity注解" class="header-anchor">#</a> 创建一个用户表对应<code>@Entity</code>注解</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>emity</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">ColumnInfo</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Entity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">PrimaryKey</span></span><span class="token punctuation">;</span>

<span class="token comment">// 用户表</span>
<span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token comment">// 定义为主键且主键自动增长</span>
    <span class="token annotation punctuation">@PrimaryKey</span><span class="token punctuation">(</span>autoGenerate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>

    <span class="token comment">// 表中字段名跟类中的成员变量名不同</span>
    <span class="token annotation punctuation">@ColumnInfo</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;myName&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token comment">// @NonNull 表示字段, 方法, 参数返回值不能为空</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

  	<span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
    <span class="token punctuation">}</span>
  
    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 省略 getter, setter 和 toString</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h4 id="创建一个持久化类-接口-对应-dao注解"><a href="#创建一个持久化类-接口-对应-dao注解" class="header-anchor">#</a> 创建一个持久化类(接口), 对应<code>@Dao</code>注解</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// dao/UserDao</span>

<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Dao</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Delete</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Insert</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Query</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Update</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>database<span class="token punctuation">.</span></span><span class="token class-name">UserDatabase</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>emity<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">// 注意这里是一个接口</span>
<span class="token annotation punctuation">@Dao</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>

    <span class="token comment">// @Insert 表示插入, 参数是可选参数</span>
    <span class="token annotation punctuation">@Insert</span>
    <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> students<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// @Delete 表示条件删除</span>
    <span class="token annotation punctuation">@Delete</span>
    <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> students<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// @Query 注解可以写自定义sql的语句, 这里是全部删除</span>
    <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;DELETE FROM &quot;</span> <span class="token operator">+</span> <span class="token class-name">UserDatabase</span><span class="token punctuation">.</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">deleteAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// @Update 表示修改</span>
    <span class="token annotation punctuation">@Update</span>
    <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> students<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 全部查询</span>
    <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM &quot;</span> <span class="token operator">+</span> <span class="token class-name">UserDatabase</span><span class="token punctuation">.</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据id查找, :id 会被参数 id 给替换</span>
    <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM User WHERE id = :id&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">queryById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h4 id="创建数据库持久化类-对应-database注解"><a href="#创建数据库持久化类-对应-database注解" class="header-anchor">#</a> 创建数据库持久化类, 对应<code>@Database</code>注解</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>database</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Database</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">RoomDatabase</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">UserDao</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>emity<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token comment">// 用户表操作类对应的参数是, 用户表, 数据库版本, 是否导出数据库操作记录文件(用于调试, 在`build.gralder`里的`javaCompileOptions.annotationProcessorOptions.arguments`指定)</span>
<span class="token annotation punctuation">@Database</span><span class="token punctuation">(</span>entities <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">,</span> version <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> exportSchema <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">UserDatabase</span> <span class="token keyword">extends</span> <span class="token class-name">RoomDatabase</span> <span class="token punctuation">{</span>

    <span class="token comment">// 提供一个返回 dao 实例的方法, 供外部使用</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">UserDao</span> <span class="token function">userDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 数据库表名</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="定义获取数据库的操作"><a href="#定义获取数据库的操作" class="header-anchor">#</a> 定义获取数据库的操作</h4> <p>在自定义<code>Application</code>类中声明数据库的唯一实例:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Application</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>room<span class="token punctuation">.</span></span><span class="token class-name">Room</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd<span class="token punctuation">.</span>database<span class="token punctuation">.</span></span><span class="token class-name">UserDatabase</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>

    <span class="token comment">// 保存 MainApplication 的实例</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> mApp<span class="token punctuation">;</span>

    <span class="token comment">// 用户数据库唯一操作实例</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDatabase</span> userDatabase<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 保存当前的实例</span>
        mApp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

        <span class="token comment">// 构建用户数据操作实例</span>
        <span class="token comment">// 参数: 上下文, 数据类.class, 数据表名</span>
        userDatabase <span class="token operator">=</span> <span class="token class-name">Room</span><span class="token punctuation">.</span><span class="token function">databaseBuilder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">UserDatabase</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">UserDatabase</span><span class="token punctuation">.</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">)</span>
                <span class="token comment">// 允许迁移数据库(发生数据库变更时, 默认数据更新会直接删除旧的数据库, 然后创建新的数据库, 这样会丢失记录)</span>
                <span class="token punctuation">.</span><span class="token function">addMigrations</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment">// 数据库操作可以在主线程中使用, 默认是不允许的(主线程运行会导致UI卡顿)</span>
                <span class="token punctuation">.</span><span class="token function">allowMainThreadQueries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取 MainApplication 的实例</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mApp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取 UserDatabase 的实例</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDatabase</span> <span class="token function">getUserDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mApp<span class="token punctuation">.</span>userDatabase<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h4 id="在activity中使用"><a href="#在activity中使用" class="header-anchor">#</a> 在<code>Activity</code>中使用</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 从 MainApplication 实例中获取 userDao</span>
    userDao <span class="token operator">=</span> <span class="token class-name">MainApplication</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">userDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 插入数据</span>
userDao<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 更新数据</span>
<span class="token class-name">User</span> u2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
u2<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
userDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>u2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 查询所有</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> item<span class="token operator">:</span> users<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;ROOM&quot;</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 根据条件查询</span>
<span class="token class-name">User</span> u3 <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">queryById</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;ROOM&quot;</span><span class="token punctuation">,</span> u3<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 删除数据</span>
<span class="token class-name">User</span> u3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
u1<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除数据会根据对象的id进行删除</span>
userDao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>u3<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 删除所有</span>
userDao<span class="token punctuation">.</span><span class="token function">deleteAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="外部存储空间"><a href="#外部存储空间" class="header-anchor">#</a> 外部存储空间</h3> <p>手机的存储空间一般分为两块，一块用于内部存储，另一块用于外部存储（SD卡）。早期的SD卡是可插拔式的存储芯片，不过自己买的SD卡质量参差不齐，经常会影响App的正常运行，所以后来越来越多手机把SD卡固化到手机内部，虽然拔不出来，但是Android仍然称之为外部存储</p> <blockquote><p>内部存储空间就是<code>data/data/[项目名]/**/*</code>下面的文件</p></blockquote> <p>获取手机上的SD卡信息通过Environment类实现，该类是App获取各种目录信息的工具，主要方法有以下几种:</p> <ul><li><p><code>getFilesDir().getAbsolutePath()</code>: 获取应用的<code>files</code>目录</p></li> <li><p><code>getRootDirectory()</code>: 获得系统根目录的路径</p></li> <li><p><code>getDataDirectory()</code>: 获得系统数据目录的路径</p></li> <li><p><code>getDownloadCacheDirectory()</code>: 获得下载缓存目录的路径</p></li> <li><p><code>getExternalStorageDirectory()</code>: 获得外部存储（SD卡）的路径</p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> getFilesDir <span class="token operator">=</span> <span class="token function">getFilesDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> getRootDirectory <span class="token operator">=</span> <span class="token function">getRootDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> getDataDirectory <span class="token operator">=</span> <span class="token function">getDataDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> getDownloadCacheDirectory <span class="token operator">=</span> <span class="token function">getDownloadCacheDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> getFilesDir<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /data/user/0/{包名}/files</span>
<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> getRootDirectory<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /system</span>
<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> getDataDirectory<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /data</span>
<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> getDownloadCacheDirectory<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /data/cache</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>为正常操作SD卡，需要在<code>AndroidManifest.xml</code>中声明SD卡的权限:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.WRITE_EXTERNAL_STORAGE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.READ_EXTERNAL_STORAG<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.MOUNT_UNMOUNT_FILESYSTEMS<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="文本文件读写"><a href="#文本文件读写" class="header-anchor">#</a> 文本文件读写</h4> <p>文本文件的读写一般借助于<code>FileOutputStream</code>(写文件)和<code>FileInputStream</code>(读文件)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">saveText</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">String</span> txt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>txt<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">openText</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> readStr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>fis<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        readStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> readStr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="图片文件读写"><a href="#图片文件读写" class="header-anchor">#</a> 图片文件读写</h4> <p>Android的图片处理类是<code>Bitmap</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 保存图片</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">saveImage</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">Bitmap</span> bitmap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedOutputStream</span> bos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bitmap<span class="token punctuation">.</span><span class="token function">compress</span><span class="token punctuation">(</span><span class="token class-name">Bitmap<span class="token punctuation">.</span>CompressFormat</span><span class="token punctuation">.</span><span class="token constant">JPEG</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> bos<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 读取图片</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Bitmap</span> <span class="token function">openImage</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bitmap <span class="token operator">=</span> <span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeStream</span><span class="token punctuation">(</span>bis<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> bitmap<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>其实<code>BitmapFactory</code>还提供了其他方法，用起来更简单、方便，说明如下:</p> <ul><li><p><code>decodeFile</code>: 该方法直接传文件路径的字符串，即可将指定路径的图片读取到Bitmap对象。</p></li> <li><p><code>decodeResource</code>: 该方法可从资源文件中读取图片信息。第一个参数一般传<code>getResources()</code>，第二个参数传<code>drawable</code>图片的资源id，如<code>R.drawable.phone</code></p></li></ul> <h2 id="application"><a href="#application" class="header-anchor">#</a> Application</h2> <p><code>Application</code>是Android的一大组件, 在App运行过程中<strong>有且仅有一个</strong><code>Application</code>对象贯穿整个生命周期</p> <p>打开<code>AndroidManifest.xml</code>时会发现<code>activity</code>节点的上级正是<code>application</code>节点，只是默认的<code>application</code>节点没有指定<code>name</code>属性，不像<code>activity</code>节点默认指定<code>name</code>属性值为<code>.MainActivity</code>，让人知晓这个<code>activity</code>的入口代码是<code>MainActivity.java</code>, 我们可以给<code>application</code>节点添加一个<code>name</code>属性</p> <ol><li><p>打开<code>AndroidManifest.xml</code>，给<code>application</code>节点加上<code>name</code>属性，表示<code>application</code>的入口代码是<code>MainApplication.java</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>android:name=&quot;.MainApplication&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>创建<code>MainApplication</code>类，该类继承自<code>Application</code>，可以重写的方法主要有以下4个</p> <ul><li><p><code>onCreate</code>: 在App启动时调用, (早于<code>Activity</code>的生命周期)</p></li> <li><p><code>onTerminate</code>: 在App退出时调用(了解, 用不上)</p></li> <li><p><code>onLowMemory</code>: 在低内存时调用(了解, 用不上)</p></li> <li><p><code>onConfigurationChanged</code>: 在配置改变时调用, 例如: 竖屏变为横屏</p></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Application</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>res<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">TAG</span> <span class="token operator">=</span> <span class="token string">&quot;MainApplication&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;onCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Configuration</span> newConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span>newConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;onConfigurationChanged&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li></ol> <h3 id="利用application操作全局变量"><a href="#利用application操作全局变量" class="header-anchor">#</a> 利用Application操作全局变量</h3> <p>因为<code>Application</code>的生命周期是最早被调用的, 所以<code>Application</code>的一大作用就是用来存储全局变量, 然后共享给应用的所有<code>Activity</code>访问, 如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Application</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token comment">// 一些公共的数据</span>
    <span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> userInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 保存 MainApplication 的实例</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> mApp<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 可以做一些初始化的操作</span>
        userInfo<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userInfo<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 保存当前的实例</span>
        mApp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 获取 MainApplication 的实例</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mApp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><code>Activity</code>使用<code>Application</code>里面的数据:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_androd</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">MainApplication</span> mApp<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 获取 MainApplication 实例</span>
        mApp <span class="token operator">=</span>  <span class="token class-name">MainApplication</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用 MainApplication 里面的公共数据</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;TAG&quot;</span><span class="token punctuation">,</span> mApp<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token string">&quot;TAG&quot;</span><span class="token punctuation">,</span> mApp<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="service"><a href="#service" class="header-anchor">#</a> Service</h2> <p><a href="https://developer.android.google.cn/guide/components/services" target="_blank" rel="noopener noreferrer">服务<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以在后台默默运行, 例如: 音乐播放器</p> <p>继承了Service的类就是一个服务, 服务和 Activity 一样是需要在清单文件里注册的</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MyService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="启动和关闭服务"><a href="#启动和关闭服务" class="header-anchor">#</a> 启动和关闭服务</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 启动服务</span>
<span class="token function">startService</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MyService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 停止服务</span>
<span class="token function">stopService</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MyService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <h4 id="后台生命周期"><a href="#后台生命周期" class="header-anchor">#</a> 后台生命周期</h4> <p>后台的生命周期与Activity无关, Activity销毁后台服务也依然还存在, 生命周期如下:</p> <p><code>onCreate()</code>: 首次创建服务时，系统会(在调用 <code>onStartCommand()</code> 或 <code>onBind()</code> 之前)调用此方法来执行一次性设置程序。如果服务已在运行，则不会调用此方法</p> <p><code>onStartCommand()</code>: 当另一个组件(如 Activity)请求启动服务时，系统会通过调用 <code>startService()</code> 来调用此方法, 执行此方法时，服务即会启动并可在<strong>后台无限期运行</strong></p> <p><code>onStart()</code>: 使用<code>onStartCommand()</code>代替</p> <p><code>onDestroy</code>:当不再使用服务且准备将其销毁时，系统会调用此方法</p> <h4 id="前台生命周期"><a href="#前台生命周期" class="header-anchor">#</a> 前台生命周期</h4> <p>前台生命周期与Activity挂钩, 也就是桥梁, Activity销毁了这些服务也就销毁了</p> <p><code>onBind()</code>: 当另一个组件想要与服务绑定(例如执行 RPC)时, 系统会通过调用<code>bindService()</code>来调用此方法</p> <p><code>onUnbind()</code>:  解除绑定时调用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Activity 和 MyService 之间的桥梁</span>
<span class="token keyword">private</span> <span class="token class-name">ServiceConnection</span> connection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServiceConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceConnected</span><span class="token punctuation">(</span><span class="token class-name">ComponentName</span> name<span class="token punctuation">,</span> <span class="token class-name">IBinder</span> service<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onServiceDisconnected</span><span class="token punctuation">(</span><span class="token class-name">ComponentName</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 绑定服务</span>
<span class="token function">bindService</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">MyService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        connection<span class="token punctuation">,</span>
        <span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">BIND_AUTO_CREATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 访问模式</span>

<span class="token comment">// 解绑服务, 一般会在Activity被销毁的时候, 去解绑服务</span>
<span class="token function">unbindService</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>前台服务的生命周期处于<code>onCreate()</code>和<code>onDestroy()</code>中间</p></blockquote> <h3 id="receiver"><a href="#receiver" class="header-anchor">#</a> Receiver</h3> <p><a href="https://developer.android.google.cn/guide/components/broadcasts" target="_blank" rel="noopener noreferrer">广播<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>分为系统广播和用户自定义广播:</p> <p>系统广播: 常见的有网络连接断开, 蓝牙连接断开, 手机电量低等, 这种广播一般只需要监听它然后做一些事情即可</p> <p>用户自定义广播: 可以自定义广播</p> <h4 id="静态注册接受广播"><a href="#静态注册接受广播" class="header-anchor">#</a> 静态注册接受广播</h4> <p>定义广播接受者类, 继承BroadcastReceiver的类</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>qmui</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">BroadcastReceiver</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>

<span class="token comment">// 广播接受者类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;广播接受者&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onReceive...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>清单文件注册</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- 静态注册广播接受者 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>receiver</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.CustomReceiver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 这个标记随便写, 但是要保持唯一 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>receiver</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Android8.0 以下发送广播</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这里的标记一定要是对应清单文件里注册的保持一致</span>
intent<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 发送广播</span>
<span class="token function">sendBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Android8.0 及以上发送静态广播</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intent<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Android8.0 及以上需要加上 Component</span>
intent<span class="token punctuation">.</span><span class="token function">setComponent</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ComponentName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">CustomReceiver</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sendBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="动态注册接受广播"><a href="#动态注册接受广播" class="header-anchor">#</a> 动态注册接受广播</h4> <p>动态注册广播同样需要准备一个广播接受者</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>qmui</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">BroadcastReceiver</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Log</span></span><span class="token punctuation">;</span>

<span class="token comment">// 广播接受者类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;广播接受者&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onReceive...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>可以在Java代码中动态的注册, 一般是在<code>onCreate()</code>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 注册广播接受者</span>
<span class="token class-name">CustomReceiver</span> customReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">IntentFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这里的标记一定要是对应发送广播里的保持一致</span>
filter<span class="token punctuation">.</span><span class="token function">addAction</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">registerReceiver</span><span class="token punctuation">(</span>customReceiver<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>发送广播是一样的</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这里的标记一定要是对应注册的广播保持一致</span>
intent<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 发送广播</span>
<span class="token function">sendBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="上下文获取"><a href="#上下文获取" class="header-anchor">#</a> 上下文获取</h2> <ul><li>使用<code>this</code>表示当前对象上下文, 也可以使用<code>getContext();</code>方法</li> <li>通过<code>Activity.this</code>获取当前<strong>activity</strong>的上下文</li> <li>通过<code>getApplicationContext();</code>获取应用的上下文</li> <li>在<strong>Fragment</strong>中没有上下文, 可以使用<code>Fragment类名.this.getContext();</code>获取</li> <li><code>getApplication();</code>共享全局数据</li> <li><code>getBaseContext();</code>返回由构造函数指定或<code>setBaseContext()</code>设置的上下文</li></ul> <h3 id="context类型"><a href="#context类型" class="header-anchor">#</a> Context类型</h3> <p>Android应用都是使用Java语言来编写的，Android程序不像Java程序一样，随便创建一个类，写个main()方法就能跑了，而是要有一个完整的Android工程环境，在这个环境下，有像Activity、Service、BroadcastReceiver等系统组件，而这些组件并不是像一个普通的Java对象new一下就能创建实例的了，而是要有它们<strong>各自的上下文环境</strong>，也就是<code>Context</code>, Context是维持Android程序中各组件能够正常工作的一个核心功能类</p> <h3 id="getapplication-和getapplicationcontext"><a href="#getapplication-和getapplicationcontext" class="header-anchor">#</a> getApplication()和getApplicationContext()</h3> <p><code>getApplication()</code>方法是用来获取Application实例的，但是这个方法只有在<code>Activity</code>和<code>Service</code>中才能调用的到。那么也许在绝大多数情况下我们都是在Activity或者Service中使用Application的，但是如果在一些其它的场景，比如BroadcastReceiver中也想获得Application的实例，这时就可以借助<code>getApplicationContext()</code>方法了。也就是说，<code>getApplicationContext()</code>方法的作用域会更广一些，任何一个Context的实例，只要调用<code>getApplicationContext()</code>方法都可以拿到我们的Application对象。</p> <h2 id="fragment"><a href="#fragment" class="header-anchor">#</a> Fragment</h2> <p><a href="https://developer.android.google.cn/guide/fragments" target="_blank" rel="noopener noreferrer">Fragment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的特点:</p> <ol><li>具备生命周期(Fragment可以理解为是一个子activity)</li> <li>必须委托在activity中才能运行</li></ol> <p>Fragment其实就是一个控件不过这个控件是由一个xml文件提供UI, 由一个java文件提供逻辑, 类似于前端的组件</p> <p>一个Activity可以有多个Fragment</p> <p>xml属性</p> <ul><li><strong>name</strong>: 该属性需要引用Fragment对应的java类名全地址</li> <li><strong>id</strong>: Fragment控件<code>id</code>属性是必须要给的</li></ul> <p>创建一个Fragment取名<code>BlankFragment</code></p> <p><img src="/note-sites/assets/img/image-20220524174152703.11cea889.png" alt="image-20220524174152703"></p> <p>会自动生成一个<code>BlankFragment.java</code>文件和<code>fragment1_blank.xml</code>文件, 修改为如下:</p> <p><strong>fragment1_blank.xml</strong>:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/tv<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello world Fragment<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>BlankFragment.java</strong>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>fragment<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Fragment</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">LayoutInflater</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">ViewGroup</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">Button</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">TextView</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BlankFragment</span> <span class="token keyword">extends</span> <span class="token class-name">Fragment</span> <span class="token punctuation">{</span>
    <span class="token comment">// 保存 fragment</span>
    <span class="token keyword">private</span> <span class="token class-name">View</span> root<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">TextView</span> textView<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Button</span> button<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">View</span> <span class="token function">onCreateView</span><span class="token punctuation">(</span><span class="token class-name">LayoutInflater</span> inflater<span class="token punctuation">,</span> <span class="token class-name">ViewGroup</span> container<span class="token punctuation">,</span>
                             <span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// inflater 是解析器可以解析 fragment</span>
            root <span class="token operator">=</span> inflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>fragment_blank<span class="token punctuation">,</span> container<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        button <span class="token operator">=</span> root<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        textView <span class="token operator">=</span> root<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 绑定按钮事件</span>
        button<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>view <span class="token operator">-&gt;</span> textView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>n<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> root<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p><strong>activity_main.xml</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 注意 name 属性, id属性必须要给定 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fragment</span>
        <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.learn_android.BlankFragment<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/BlankFragment<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="动态添加fragment"><a href="#动态添加fragment" class="header-anchor">#</a> 动态添加Fragment</h3> <p>动态添加Fragment需要一个<code>FrameLayout</code>控件占位, 然后动态的往这个控件里添加或者替换Fragment, 有点像前端的路由, 具体步骤如下:</p> <ul><li>创建一个待处理的fragment</li> <li>获取fragmentManager, 一般都是通过<code>getFragmentManager()</code>获取</li> <li>获取事务transaction, 一般都是通过<code>FragmentManager</code>的<code>beginTransaction()</code>获取</li> <li>使用transaction进行fragment的替换或其他操作</li> <li>提交事务</li></ul> <p><strong>activity_main.xml</strong></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn1<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn2<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>按钮2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>


    <span class="token comment">&lt;!-- 注意这个是 FrameLayout --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FrameLayout</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/frameLayout<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff00ffff<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>新建两个不同的Fragment, <code>BlankFragment1</code>和<code>ItemFragment2</code>内容默认, 导入的<code>Fragment</code>如果类型不对要改一下</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 默认导入的是这个</span>
<span class="token comment">// import androidx.fragment.app.Fragment;</span>

<span class="token comment">// 改成下面的</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Fragment</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>MainActivity.java</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Fragment</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">FragmentManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">FragmentTransaction</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">Button</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Button</span> btn1 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Button</span> btn2 <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn2<span class="token punctuation">)</span><span class="token punctuation">;</span>

        btn1<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>view <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">replaceFragment</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BlankFragment1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        btn2<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>view <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">replaceFragment</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ItemFragment2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 动态切换 Fragment</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">replaceFragment</span><span class="token punctuation">(</span><span class="token class-name">Fragment</span> fragment<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// import androidx.fragment.app.Fragment;</span>
        <span class="token comment">// 获取 FragmentManager(管理Fragment)</span>
        <span class="token class-name">FragmentManager</span> fragmentManager <span class="token operator">=</span> <span class="token function">getFragmentManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取 FragmentTransaction(操作Fragment, 里面是一个栈结构, 可以对Fragment进行添加, 删除, 隐藏, 显示, 替换等)</span>
        <span class="token class-name">FragmentTransaction</span> transform <span class="token operator">=</span> fragmentManager<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将 fragment 替换到 R.id.frameLayout 对应的控件上(触发事件)</span>
        transform<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>frameLayout<span class="token punctuation">,</span> fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将当前的 fragment 添加到栈中, 这样当用户点击返回时会依次将 fragment 出栈显示</span>
        <span class="token comment">// 不添加这行代码用户点击返回时会直接退出</span>
        transform<span class="token punctuation">.</span><span class="token function">addToBackStack</span><span class="token punctuation">(</span><span class="token string">&quot;栈名称&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 提交事件</span>
        transform<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h3 id="activity-与-fragment-通信"><a href="#activity-与-fragment-通信" class="header-anchor">#</a> Activity 与 Fragment 通信</h3> <h4 id="bundle"><a href="#bundle" class="header-anchor">#</a> Bundle</h4> <p>原生方案Bundle, 具体步骤如下:</p> <ul><li><p>在<code>Activity</code>里构建<code>Bundle</code>对象并存储(<code>putXxx</code>)需要通信的数据</p></li> <li><p>将需要显示的<code>Fragment</code>通过<code>setArguments(Bundle bundle)</code>设置好携带的数据</p></li> <li><p>然后就可以在该<code>Fragment</code>里的任意地方使用了, 通过<code>getArguments()</code>获取</p></li></ul> <p><strong>Activity通过Bundle传递数据给Fragment</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>btn1<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>view <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建 Bundle</span>
    <span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置需要传递的数据</span>
    bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;我是MainActivity传递的数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BlankFragment1</span> bk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BlankFragment1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将 Bundle 传递给 Fragment 即可</span>
    bk<span class="token punctuation">.</span><span class="token function">setArguments</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">replaceFragment</span><span class="token punctuation">(</span>bk<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Fragment里使用Bundle数据</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取 Bundle</span>
<span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token function">getArguments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 获取数据</span>
<span class="token class-name">String</span> message <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;onCreateView: &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h4> <p>通过接口也是可以实现Activity和Fragment的互相通信</p> <ul><li>新建一个接口, 有两个抽象方法分别是
<ul><li>Fragment 发送消息到 Acticity</li> <li>Acticity 从 Fragment 获取消息</li></ul></li> <li>在Fragment 里定义一个私有属性和公共方法
<ul><li>私有属性存储接口实现对象</li> <li>公共方法设置接口实现对象</li></ul></li> <li>在Activity中Fragment来实现上面的接口并将这个实现保存到私有属性中</li> <li></li></ul> <p><strong>定义接口</strong></p> <p>严格一点是要定义两个接口的, 这样可以使用Lambda</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>

<span class="token comment">// Fragment 和 Acticity 互相通信的接口</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IFragmentCallbak</span> <span class="token punctuation">{</span>

    <span class="token comment">// Fragment 发送消息到 Acticity</span>
    <span class="token keyword">void</span> <span class="token function">sendMsgToActicity</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Acticity 从 Fragment 读取消息</span>
    <span class="token class-name">String</span> <span class="token function">getMsgFromActicity</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>Fragment</code> 类下</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 持有接口实现对象</span>
<span class="token keyword">private</span> <span class="token class-name">IFragmentCallbak</span> fragmentCallbak<span class="token punctuation">;</span>
<span class="token comment">// 设置接口实现对象</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFragmentCallbak</span><span class="token punctuation">(</span><span class="token class-name">IFragmentCallbak</span> callbak<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fragmentCallbak <span class="token operator">=</span> callbak<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>Activity</code>类下</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Button</span> btn1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn1<span class="token punctuation">)</span><span class="token punctuation">;</span>

btn1<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>view <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">BlankFragment1</span> bk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BlankFragment1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 对应的Fragment去实现 IFragmentCallbak 接口</span>
    <span class="token comment">// 因为是在 Activity 下所以可以通信</span>
    bk<span class="token punctuation">.</span><span class="token function">setFragmentCallbak</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IFragmentCallbak</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMsgToActicity</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Log.e(&quot;test&quot;, &quot;sendMsgToActicity: &quot; + msg);</span>
            <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> msg<span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMsgFromActicity</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> msg <span class="token operator">+</span> <span class="token string">&quot;我是ToActicity的数据&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">replaceFragment</span><span class="token punctuation">(</span>bk<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><code>Fragment</code> 类接受和发送数据</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 发送数据到 Activity</span>
fragmentCallbak<span class="token punctuation">.</span><span class="token function">sendMsgToActicity</span><span class="token punctuation">(</span><span class="token string">&quot;fragment 发送的数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 从Activity读取数据</span>
<span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fragmentCallbak<span class="token punctuation">.</span><span class="token function">getMsgFromActicity</span><span class="token punctuation">(</span><span class="token string">&quot;fragmentCallbak&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Log.e(&quot;test&quot;, &quot;onCreateView: &quot; + msg);</span>
<span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token class-name">BlankFragment1</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> msg<span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="其他方案"><a href="#其他方案" class="header-anchor">#</a> 其他方案</h3> <p>如eventBus, LiveData, 属于发布订阅模式</p> <h3 id="fragment生命周期"><a href="#fragment生命周期" class="header-anchor">#</a> Fragment生命周期</h3> <p><a href="https://developer.android.google.cn/guide/fragments/lifecycle" target="_blank" rel="noopener noreferrer">Fragment生命周期<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <table><thead><tr><th>Acticity State</th> <th>Fragment Callbacks</th></tr></thead> <tbody><tr><td>Created</td> <td><code>onAttach()</code>: Fragment与Activity进行绑定<br><code>onCreate()</code>: Fragment的创建<br><code>onCreateView()</code>: Fragment UI的创建<br><code>onActivityGreated()</code>: Activity已经创建</td></tr> <tr><td>Starled</td> <td><code>onStart()</code></td></tr> <tr><td>Resumed</td> <td><code>onResume()</code></td></tr> <tr><td>Paused</td> <td><code>onPause()</code></td></tr> <tr><td>Stopped</td> <td><code>onStop()</code></td></tr> <tr><td>Destroyed</td> <td><code>onDestroyView()</code>: Fragment UI的销毁<br><code>onDestroy()</code>: Fragment的销毁<br><code>onDetach()</code>: 与Activity进行解绑</td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>打开界面
<span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onCreateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onActivityCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2.</span>按下主屏键
<span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">3.</span>重新打开界面
<span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">4.</span>退出应用<span class="token punctuation">(</span>按后退键<span class="token punctuation">)</span>
<span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onDestroyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onDetach</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>当把Fragment保存到栈内存<code>transform.addToBackStack(null);</code>时, 生命周期会有点不一样</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>切换<span class="token class-name">Fragment</span>时
<span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onDestroyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2.</span>切换回来之前的<span class="token class-name">Fragment</span>时
<span class="token function">onCreateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onActivityCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">3.</span>退出应用<span class="token punctuation">(</span>每个<span class="token class-name">Fragment</span>都会触发<span class="token punctuation">)</span>
<span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token function">onDetach</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="okhttp"><a href="#okhttp" class="header-anchor">#</a> OkHttp</h2> <p>网络请求框架</p> <p><code>app/build.gradle</code>文件的<code>dependencies</code>里面添加依赖:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">&quot;com.squareup.okhttp3:okhttp:4.9.0&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="配置请求权限"><a href="#配置请求权限" class="header-anchor">#</a> 配置请求权限</h3> <h4 id="分离配置文件"><a href="#分离配置文件" class="header-anchor">#</a> 分离配置文件</h4> <p>安卓7开始默认不允许HTTP请求可以手动配置开启, 新建文件<code>xml/network_security_config.xml</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>network-security-config</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  默认配置, 允许HTTP --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>base-config</span><span class="token punctuation">&gt;</span></span>
  
    <span class="token comment">&lt;!--  配置某个域名是否开启HTTP --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain</span> <span class="token attr-name">includeSubdomains</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>android.bugly.qq.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>domain</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain</span> <span class="token attr-name">includeSubdomains</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>155.25.62.33<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>domain</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>domain-config</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>network-security-config</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>清单文件引用</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.qmui<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	
  	<span class="token comment">&lt;!-- 网络请求权限 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_NETWORK_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  
  
  	<span class="token comment">&lt;!-- 网络请求配置引用指定的文件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span> <span class="token attr-name"><span class="token namespace">android:</span>networkSecurityConfig</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@xml/network_security_config<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="直接写死值"><a href="#直接写死值" class="header-anchor">#</a> 直接写死值</h4> <p>或者清单文件直接写死值(不推荐)</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.qmui<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		
  	<span class="token comment">&lt;!-- 网络请求权限 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_NETWORK_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  
    <span class="token comment">&lt;!-- 直接定义允许 HTTP --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span> <span class="token attr-name"><span class="token namespace">android:</span>usesCleartextTraffic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="发送请求"><a href="#发送请求" class="header-anchor">#</a> 发送请求</h3> <h4 id="同步get请求"><a href="#同步get请求" class="header-anchor">#</a> 同步get请求</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> okHttpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送网络请求必须开启一个线程</span>
<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 构造请求</span>
    <span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.httpbin.org/get?a=1&amp;b=2&quot;</span><span class="token punctuation">)</span>
            <span class="token comment">// get请求(默认)</span>
            <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 准备好请求的 call 对象</span>
    <span class="token class-name">Call</span> call <span class="token operator">=</span> okHttpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 发送请求</span>
        <span class="token class-name">Response</span> response <span class="token operator">=</span> call<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// response.body().byteStream() 二进制相关的响应</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;同步get请求: &quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="异步get请求"><a href="#异步get请求" class="header-anchor">#</a> 异步get请求</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">OkHttpClient</span> okHttpClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OkHttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 异步请求不需要开启线程</span>
<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.httpbin.org/get?a=1&amp;b=2&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Call</span> call <span class="token operator">=</span> okHttpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送异步请求(内部自动创建子线程)</span>
call<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 失败回调</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Call</span> call<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;异步get请求失败: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 响应回调</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResponse</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Call</span> call<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Response</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 成功回调</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">isSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;异步get请求: &quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="post请求"><a href="#post请求" class="header-anchor">#</a> post请求</h4> <p>其他和get请求一样同步需要开启子线程</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 构建请求体数据</span>
<span class="token class-name">FormBody</span> formBody <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormBody<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Request</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.httpbin.org/post&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 发送post请求</span>
        <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>formBody<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Call</span> call <span class="token operator">=</span> okHttpClient<span class="token punctuation">.</span><span class="token function">newCall</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>指定数据格式</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 构建请求体数据(数据格式为json)</span>
<span class="token class-name">RequestBody</span> formBody <span class="token operator">=</span> 
        <span class="token class-name">RequestBody</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;{\&quot;a\&quot;:1, \&quot;b\&quot;:2}&quot;</span><span class="token punctuation">,</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="gson"><a href="#gson" class="header-anchor">#</a> Gson</h2> <p>Gson可以完成Java对象的序列化和反序列化</p> <p><code>app/build.gradle</code>文件的<code>dependencies</code>里面添加依赖:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">&quot;com.google.code:gson-gson:2.8.6&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>基本使用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 将`json`反序列化为`ResponseBean`类</span>
<span class="token class-name">ResponseBean</span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">formJson</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token class-name">ResponseBean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 将`bean`序列化为JSON</span>
<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>bean<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>反序列化中存在泛型的问题, 因为List里面可以指定泛型的, 泛型在Java中是会被擦除的, 所以需要提前声明类型</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 获取类型</span>
<span class="token class-name">Type</span> type <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeToken</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 传递给反序列化, 这样才能反序列化出来指定的类型</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">formJson</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>同理, <code>Map</code>和<code>Set</code>的反序列化都需要提前获取类型</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Type</span> type <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeToken</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">formJson</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Gson在序列化和反序列化时会默认以属性的字段名作为key</p> <p><code>@SerializedName(field)</code>注解可以用来控制字段在序列化和反序列化时的key命名</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 序列化和反序列化时以`class`字段命名</span>
<span class="token annotation punctuation">@SerializedName</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> cls<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>控制字段是否参与序列化和反序列化使用<code>@Expose</code>注解控制, 默认参与</p> <p>使用了该注解以后就不能直接使用<code>new Gson()</code>来创建Gson对象, 必须使用<code>new GsonBuilder()</code>如下:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Gson</span> gson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GsonBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">excludeFieldsWithoutExposeAnnotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 其他使用同上</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>另外<code>transient</code>关键字也可以控制字段是否参与序列化和反序列化</p></blockquote> <h2 id="retrofit"><a href="#retrofit" class="header-anchor">#</a> Retrofit</h2> <p>进一步封装了<code>OkHttp</code>的网络请求库</p> <p><code>app/build.gradle</code>文件的<code>dependencies</code>里面添加依赖:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">&quot;com.squareup.retrofit2:retrofit:2.9.0&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>定义请求接口</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>learn_android</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">okhttp3<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">retrofit2<span class="token punctuation">.</span></span><span class="token class-name">Call</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">retrofit2<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Field</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">retrofit2<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">FormUrlEncoded</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">retrofit2<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">GET</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">retrofit2<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">POST</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">retrofit2<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">Query</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">HttpbinService</span> <span class="token punctuation">{</span>

    <span class="token comment">// URL地址: xxx/get?userName=${uName}&amp;password=${pwd}</span>
    <span class="token annotation punctuation">@GET</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span> <span class="token function">sendGET</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> uName<span class="token punctuation">,</span> <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// URL地址: xxx/post</span>
    <span class="token comment">// body参数: userName=${uNmae} password=${pwd}</span>
    <span class="token annotation punctuation">@POST</span><span class="token punctuation">(</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@FormUrlEncoded</span> <span class="token comment">// 以 FormUrlEncoded 的形式传递参数</span>
    <span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span> <span class="token function">sendPOST</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> uName<span class="token punctuation">,</span> <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>基本使用</p> <p>注意Call的引入是<code>import retrofit2.Call;</code></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Retrofit</span> retrofit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Retrofit<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.httpbin.org/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HttpbinService</span> httpbinService <span class="token operator">=</span> retrofit<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">HttpbinService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span> call <span class="token operator">=</span> httpbinService<span class="token punctuation">.</span><span class="token function">sendGET</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送异步请求</span>
call<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 请求完成回调</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResponse</span><span class="token punctuation">(</span><span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span> call<span class="token punctuation">,</span> <span class="token class-name">Response</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;异步get请求: &quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 请求失败回调</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span> call<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;请求失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// post请求使用同OkHttp</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBody</span><span class="token punctuation">&gt;</span></span> call2 <span class="token operator">=</span> httpbinService<span class="token punctuation">.</span><span class="token function">sendPOST</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;654321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="retrofit的注解"><a href="#retrofit的注解" class="header-anchor">#</a> Retrofit的注解</h3> <ul><li>方法注解: <code>@GET</code>, <code>@POST</code>, <code>@PUT</code>, <code>@DELETE</code>,<code>@PATH</code>,<code>@HEAD</code>, <code>@OPTIONS</code>, <code>@HTTP</code></li> <li>标记注解: <code>@FormUrlEncoded</code>, <code>@Multipart</code>, <code>@Streaming</code></li> <li>参数注解: <code>@Query</code>, <code>@QueryMap</code>, <code>@Body</code>, <code>@Field</code>, <code>@FieldMap</code>, <code>@Part</code>, <code>@PartMap</code></li> <li>其他注解: <code>@Path</code>, <code>@Header</code>,<code>@Headers</code>, <code>@Url</code></li></ul> <h3 id="retrofit转换器"><a href="#retrofit转换器" class="header-anchor">#</a> Retrofit转换器</h3> <h4 id="自动转换响应结果为javabean"><a href="#自动转换响应结果为javabean" class="header-anchor">#</a> 自动转换响应结果为JavaBean</h4> <p>添加依赖</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">&quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改接口的返回值为从<code>ResponseBody</code>修改为<code>ResponseBean</code>对象</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@POST</span><span class="token punctuation">(</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@FormUrlEncoded</span>
<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBean</span><span class="token punctuation">&gt;</span></span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;userName&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> uName<span class="token punctuation">,</span> <span class="token annotation punctuation">@Field</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>添加转换器</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Retrofit</span> retrofit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Retrofit<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.httpbin.org/&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addConverterFactory</span><span class="token punctuation">(</span><span class="token class-name">GsonConverterFactory</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 添加转换器</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Call</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBean</span><span class="token punctuation">&gt;</span></span> call <span class="token operator">=</span> httpbinService<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;654321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 返回的数据就会自动转换成指定的JavaBean</span>
<span class="token class-name">Response</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResponseBean</span><span class="token punctuation">&gt;</span></span> response <span class="token operator">=</span> call<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ResponseBean</span> bean <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="retrofit的嵌套请求"><a href="#retrofit的嵌套请求" class="header-anchor">#</a> Retrofit的嵌套请求</h3> <p>使用Retrofit的适配器 + <code>rxjava3</code>可以更优雅的实现嵌套请求, 避免回调地狱</p> <p>添加依赖</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">&quot;com.squareup.retrofit2:adapter-rxjava3:2.9.0&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// 安卓项目再引入一个依赖</span>
<span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">&quot;io.reactivex.rxjava3:rxandroid:3.0.0&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="定时器"><a href="#定时器" class="header-anchor">#</a> 定时器</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Timer</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 类比前端延时器</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token class-name">Const</span><span class="token punctuation">.</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;1000ms后执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 类比前端定时器</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token class-name">Const</span><span class="token punctuation">.</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;3000ms后执行第一次, 后续 1000ms执行一次&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 停止</span>
timer<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="权限"><a href="#权限" class="header-anchor">#</a> 权限</h2> <p>基本权限如下:</p> <table><thead><tr><th>权限名称</th> <th>权限</th> <th>详细</th></tr></thead> <tbody><tr><td>访问登记属性</td> <td>android.permission.ACCESS_CHECKIN_PROPERTIES</td> <td>读取或写入登记check-in数据库属性表的权限</td></tr> <tr><td>获取错略位置</td> <td>android.permission.ACCESS_COARSE_LOCATION</td> <td>通过WiFi或移动基站的方式获取用户错略的经纬度信息，定位精度大概误差在30~1500米</td></tr> <tr><td>获取精确位置</td> <td>android.permission.ACCESS_FINE_LOCATION</td> <td>通过GPS芯片接收卫星的定位信息，定位精度达10米以内</td></tr> <tr><td>访问定位额外命令</td> <td>android.permission.ACCESS_LOCATION_EXTRA_COMMANDS</td> <td>允许程序访问额外的定位提供者指令</td></tr> <tr><td>获取模拟定位信息</td> <td>android.permission.ACCESS_MOCK_LOCATION</td> <td>获取模拟定位信息，一般用于帮助开发者调试应用</td></tr> <tr><td>获取网络状态</td> <td>android.permission.ACCESS_NETWORK_STATE</td> <td>获取网络信息状态，如当前的网络连接是否有效</td></tr> <tr><td>访问Surface</td> <td>Flinger	android.permission.ACCESS_SURFACE_FLINGER</td> <td>Android平台上底层的图形显示支持，一般用于游戏或照相机预览界面和底层模式的屏幕截图</td></tr> <tr><td>获取WiFi状态</td> <td>android.permission.ACCESS_WIFI_STATE</td> <td>获取当前WiFi接入的状态以及WLAN热点的信息</td></tr> <tr><td>账户管理</td> <td>android.permission.ACCOUNT_MANAGER</td> <td>获取账户验证信息，主要为GMail账户信息，只有系统级进程才能访问的权限</td></tr> <tr><td>验证账户</td> <td>android.permission.AUTHENTICATE_ACCOUNTS</td> <td>允许一个程序通过账户验证方式访问账户管理ACCOUNT_MANAGER相关信息</td></tr> <tr><td>电量统计</td> <td>android.permission.BATTERY_STATS</td> <td>获取电池电量统计信息</td></tr> <tr><td>绑定小插件</td> <td>android.permission.BIND_APPWIDGET</td> <td>允许一个程序告诉appWidget服务需要访问小插件的数据库，只有非常少的应用才用到此权限</td></tr> <tr><td>绑定设备管理</td> <td>android.permission.BIND_DEVICE_ADMIN</td> <td>请求系统管理员接收者receiver，只有系统才能使用</td></tr> <tr><td>绑定输入法</td> <td>android.permission.BIND_INPUT_METHOD</td> <td>请求InputMethodService服务，只有系统才能使用</td></tr> <tr><td>绑定RemoteView</td> <td>android.permission.BIND_REMOTEVIEWS</td> <td>必须通过RemoteViewsService服务来请求，只有系统才能用</td></tr> <tr><td>绑定壁纸</td> <td>android.permission.BIND_WALLPAPER</td> <td>必须通过WallpaperService服务来请求，只有系统才能用</td></tr> <tr><td>使用蓝牙</td> <td>android.permission.BLUETOOTH</td> <td>允许程序连接配对过的蓝牙设备</td></tr> <tr><td>蓝牙管理</td> <td>android.permission.BLUETOOTH_ADMIN</td> <td>允许程序进行发现和配对新的蓝牙设备</td></tr> <tr><td>变成砖头</td> <td>android.permission.BRICK</td> <td>能够禁用手机，非常危险，顾名思义就是让手机变成砖头</td></tr> <tr><td>应用删除时广播</td> <td>android.permission.BROADCAST_PACKAGE_REMOVED</td> <td>当一个应用在删除时触发一个广播</td></tr> <tr><td>收到短信时广播</td> <td>android.permission.BROADCAST_SMS</td> <td>当收到短信时触发一个广播</td></tr> <tr><td>连续广播</td> <td>android.permission.BROADCAST_STICKY</td> <td>允许一个程序收到广播后快速收到下一个广播</td></tr> <tr><td>WAP, PUSH广播</td> <td>android.permission.BROADCAST_WAP_PUSH</td> <td>WAP PUSH服务收到后触发一个广播</td></tr> <tr><td>拨打电话</td> <td>android.permission.CALL_PHONE</td> <td>允许程序从非系统拨号器里输入电话号码</td></tr> <tr><td>通话权限</td> <td>android.permission.CALL_PRIVILEGED</td> <td>允许程序拨打电话，替换系统的拨号器界面</td></tr> <tr><td>拍照权限</td> <td>android.permission.CAMERA</td> <td>允许访问摄像头进行拍照</td></tr> <tr><td>改变组件状态</td> <td>android.permission.CHANGE_COMPONENT_ENABLED_STATE</td> <td>改变组件是否启用状态</td></tr> <tr><td>改变配置</td> <td>android.permission.CHANGE_CONFIGURATION</td> <td>允许当前应用改变配置	如定位</td></tr> <tr><td>改变网络状态</td> <td>android.permission.CHANGE_NETWORK_STATE</td> <td>改变网络状态如是否能联网</td></tr> <tr><td>改变WiFi多播状态</td> <td>android.permission.CHANGE_WIFI_MULTICAST_STATE</td> <td>改变WiFi多播状态</td></tr> <tr><td>改变WiFi状态</td> <td>android.permission.CHANGE_WIFI_STATE</td> <td>改变WiFi状态</td></tr> <tr><td>清除应用缓存</td> <td>android.permission.CLEAR_APP_CACHE</td> <td>清除应用缓存</td></tr> <tr><td>清除用户数据</td> <td>android.permission.CLEAR_APP_USER_DATA</td> <td>清除应用的用户数据</td></tr> <tr><td>底层访问权限</td> <td>android.permission.CWJ_GROUP</td> <td>允许CWJ账户组访问底层信息</td></tr> <tr><td>手机优化大师扩展权限</td> <td>android.permission.CELL_PHONE_MASTER_EX</td> <td>手机优化大师扩展权限</td></tr> <tr><td>控制定位更新</td> <td>android.permission.CONTROL_LOCATION_UPDATES</td> <td>允许获得移动网络定位信息改变</td></tr> <tr><td>删除缓存文件</td> <td>android.permission.DELETE_CACHE_FILES</td> <td>允许应用删除缓存文件</td></tr> <tr><td>删除应用</td> <td>android.permission.DELETE_PACKAGES</td> <td>允许程序删除应用</td></tr> <tr><td>电源管理</td> <td>android.permission.DEVICE_POWER</td> <td>允许访问底层电源管理</td></tr> <tr><td>应用诊断</td> <td>android.permission.DIAGNOSTIC</td> <td>允许程序到RW到诊断资源</td></tr> <tr><td>禁用键盘锁</td> <td>android.permission.DISABLE_KEYGUARD</td> <td>允许程序禁用键盘锁</td></tr> <tr><td>转存系统信息</td> <td>android.permission.DUMP</td> <td>允许程序获取系统dump信息从系统服务</td></tr> <tr><td>状态栏控制</td> <td>android.permission.EXPAND_STATUS_BAR</td> <td>允许程序扩展或收缩状态栏</td></tr> <tr><td>工厂测试模式</td> <td>android.permission.FACTORY_TEST</td> <td>允许程序运行工厂测试模式</td></tr> <tr><td>使用闪光灯</td> <td>android.permission.FLASHLIGHT</td> <td>允许访问闪光灯</td></tr> <tr><td>强制后退</td> <td>android.permission.FORCE_BACK</td> <td>允许程序强制使用back后退按键，无论Activity是否在顶层</td></tr> <tr><td>访问账户Gmail列表</td> <td>android.permission.GET_ACCOUNTS</td> <td>访问GMail账户列表</td></tr> <tr><td>获取应用大小</td> <td>android.permission.GET_PACKAGE_SIZE</td> <td>获取应用的文件大小</td></tr> <tr><td>获取任务信息</td> <td>android.permission.GET_TASKS</td> <td>允许程序获取当前或最近运行的应用</td></tr> <tr><td>允许全局搜索</td> <td>android.permission.GLOBAL_SEARCH</td> <td>允许程序使用全局搜索功能</td></tr> <tr><td>硬件测试</td> <td>android.permission.HARDWARE_TEST</td> <td>访问硬件辅助设备，用于硬件测试</td></tr> <tr><td>注射事件</td> <td>android.permission.INJECT_EVENTS</td> <td>允许访问本程序的底层事件，获取按键、轨迹球的事件流</td></tr> <tr><td>安装定位提供</td> <td>android.permission.INSTALL_LOCATION_PROVIDER</td> <td>安装定位提供</td></tr> <tr><td>安装应用程序</td> <td>android.permission.INSTALL_PACKAGES</td> <td>允许程序安装应 用</td></tr> <tr><td>内部系统窗口</td> <td>android.permission.INTERNAL_SYSTEM_WINDOW</td> <td>允许程序打开内部窗口，不对第三方应用程序开放此权限</td></tr> <tr><td>访问网络</td> <td>android.permission.INTERNET</td> <td>访问网络连接，可能产生GPRS流量</td></tr> <tr><td>结束后台进程</td> <td>android.permission.KILL_BACKGROUND_PROCESSES</td> <td>允许程序调用killBackgroundProcesses(String).方法结束后台进程</td></tr> <tr><td>管理账户</td> <td>android.permission.MANAGE_ACCOUNTS</td> <td>允许程序管理AccountManager中的账户列表</td></tr> <tr><td>管理程序引用</td> <td>android.permission.MANAGE_APP_TOKENS</td> <td>管理创建、摧毁、Z轴顺序，仅用于系统</td></tr> <tr><td>高级权限</td> <td>android.permission.MTWEAK_USER</td> <td>允许mTweak用户访问高级系统权限</td></tr> <tr><td>社区权限</td> <td>android.permission.MTWEAK_FORUM</td> <td>允许使用mTweak社区权限</td></tr> <tr><td>软格式化</td> <td>android.permission.MASTER_CLEAR</td> <td>允许程序执行软格式化，删除系统配置信息</td></tr> <tr><td>修改声音设置</td> <td>android.permission.MODIFY_AUDIO_SETTINGS</td> <td>修改声音设置信息</td></tr> <tr><td>修改电话状态</td> <td>android.permission.MODIFY_PHONE_STATE</td> <td>修改电话状态，如飞行模式，但不包含替换系统拨号器界面</td></tr> <tr><td>格式化文件系统</td> <td>android.permission.MOUNT_FORMAT_FILESYSTEMS</td> <td>格式化可移动文件系统，比如格式化清空SD卡</td></tr> <tr><td>挂载文件系统</td> <td>android.permission.MOUNT_UNMOUNT_FILESYSTEMS</td> <td>挂载、反挂载外部文件系统</td></tr> <tr><td>允许NFC通讯</td> <td>android.permission.NFC</td> <td>允许程序执行NFC近距离通讯操作，用于移动支持</td></tr> <tr><td>永久Activity</td> <td>android.permission.PERSISTENT_ACTIVITY</td> <td>创建一个永久的Activity，该功能标记为将来将被移除</td></tr> <tr><td>处理拨出电话</td> <td>android.permission.PROCESS_OUTGOING_CALLS</td> <td>允许程序监视，修改或放弃播出电话</td></tr> <tr><td>读取日程提醒</td> <td>android.permission.READ_CALENDAR</td> <td>允许程序读取用户的日程信息</td></tr> <tr><td>读取联系人</td> <td>android.permission.READ_CONTACTS</td> <td>允许应用访问联系人通讯录信息</td></tr> <tr><td>屏幕截图</td> <td>android.permission.READ_FRAME_BUFFER</td> <td>读取帧缓存用于屏幕截图</td></tr> <tr><td>读取收藏夹和历史记录</td> <td>com.android.browser.permission.READ_HISTORY_BOOKMARKS</td> <td>读取浏览器收藏夹和历史记录</td></tr> <tr><td>读取输入状态</td> <td>android.permission.READ_INPUT_STATE</td> <td>读取当前键的输入状态，仅用于系统</td></tr> <tr><td>读取系统日志</td> <td>android.permission.READ_LOGS</td> <td>读取系统底层日志</td></tr> <tr><td>读取电话状态</td> <td>android.permission.READ_PHONE_STATE</td> <td>访问电话状态</td></tr> <tr><td>读取短信内容</td> <td>android.permission.READ_SMS</td> <td>读取短信内容</td></tr> <tr><td>读取同步设置</td> <td>android.permission.READ_SYNC_SETTINGS</td> <td>读取同步设置，读取Google在线同步设置</td></tr> <tr><td>读取同步状态</td> <td>android.permission.READ_SYNC_STATS</td> <td>读取同步状态，获得Google在线同步状态</td></tr> <tr><td>重启设备</td> <td>android.permission.REBOOT</td> <td>允许程序重新启动设备</td></tr> <tr><td>开机自动允许</td> <td>android.permission.RECEIVE_BOOT_COMPLETED</td> <td>允许程序开机自动运行</td></tr> <tr><td>接收彩信</td> <td>android.permission.RECEIVE_MMS</td> <td>接收彩信</td></tr> <tr><td>接收短信</td> <td>android.permission.RECEIVE_SMS</td> <td>接收短信</td></tr> <tr><td>接收Wap</td> <td>Push	android.permission.RECEIVE_WAP_PUSH</td> <td>接收WAP PUSH信息</td></tr> <tr><td>录音</td> <td>android.permission.RECORD_AUDIO</td> <td>录制声音通过手机或耳机的麦克</td></tr> <tr><td>排序系统任务</td> <td>android.permission.REORDER_TASKS</td> <td>重新排序系统Z轴运行中的任务</td></tr> <tr><td>结束系统任务</td> <td>android.permission.RESTART_PACKAGES</td> <td>结束任务通过restartPackage(String)方法，该方式将在外来放弃</td></tr> <tr><td>发送短信</td> <td>android.permission.SEND_SMS</td> <td>发送短信</td></tr> <tr><td>设置Activity观察器</td> <td>android.permission.SET_ACTIVITY_WATCHER</td> <td>设置Activity观察器一般用于monkey测试</td></tr> <tr><td>设置闹铃提醒</td> <td>com.android.alarm.permission.SET_ALARM</td> <td>设置闹铃提醒</td></tr> <tr><td>设置总是退出</td> <td>android.permission.SET_ALWAYS_FINISH</td> <td>设置程序在后台是否总是退出</td></tr> <tr><td>设置动画缩放</td> <td>android.permission.SET_ANIMATION_SCALE</td> <td>设置全局动画缩放</td></tr> <tr><td>设置调试程序</td> <td>android.permission.SET_DEBUG_APP</td> <td>设置调试程序，一般用于开发</td></tr> <tr><td>设置屏幕方向</td> <td>android.permission.SET_ORIENTATION</td> <td>设置屏幕方向为横屏或标准方式显示，不用于普通应用</td></tr> <tr><td>设置应用参数</td> <td>android.permission.SET_PREFERRED_APPLICATIONS</td> <td>设置应用的参数，已不再工作具体查看addPackageToPreferred(String) 介绍</td></tr> <tr><td>设置进程限制</td> <td>android.permission.SET_PROCESS_LIMIT</td> <td>允许程序设置最大的进程数量的限制</td></tr> <tr><td>设置系统时间</td> <td>android.permission.SET_TIME</td> <td>设置系统时间</td></tr> <tr><td>设置系统时区</td> <td>android.permission.SET_TIME_ZONE</td> <td>设置系统时区</td></tr> <tr><td>设置桌面壁纸</td> <td>android.permission.SET_WALLPAPER</td> <td>设置桌面壁纸</td></tr> <tr><td>设置壁纸建议</td> <td>android.permission.SET_WALLPAPER_HINTS</td> <td>设置壁纸建议</td></tr> <tr><td>发送永久进程信号</td> <td>android.permission.SIGNAL_PERSISTENT_PROCESSES</td> <td>发送一个永久的进程信号</td></tr> <tr><td>状态栏控制</td> <td>android.permission.STATUS_BAR</td> <td>允许程序打开、关闭、禁用状态栏</td></tr> <tr><td>访问订阅内容</td> <td>android.permission.SUBSCRIBED_FEEDS_READ</td> <td>访问订阅信息的数据库</td></tr> <tr><td>写入订阅内容</td> <td>android.permission.SUBSCRIBED_FEEDS_WRITE</td> <td>写入或修改订阅内容的数据库</td></tr> <tr><td>显示系统窗口</td> <td>android.permission.SYSTEM_ALERT_WINDOW</td> <td>显示系统窗口</td></tr> <tr><td>更新设备状态</td> <td>android.permission.UPDATE_DEVICE_STATS</td> <td>更新设备状态</td></tr> <tr><td>使用证书</td> <td>android.permission.USE_CREDENTIALS</td> <td>允许程序请求验证从AccountManager</td></tr> <tr><td>使用SIP视频</td> <td>android.permission.USE_SIP</td> <td>允许程序使用SIP视频服务</td></tr> <tr><td>使用振动</td> <td>android.permission.VIBRATE</td> <td>允许振动</td></tr> <tr><td>唤醒锁定</td> <td>android.permission.WAKE_LOCK</td> <td>允许程序在手机屏幕关闭后后台进程仍然运行</td></tr> <tr><td>写入GPRS接入点设置</td> <td>android.permission.WRITE_APN_SETTINGS</td> <td>写入网络GPRS接入点设置</td></tr> <tr><td>写入日程提醒</td> <td>android.permission.WRITE_CALENDAR</td> <td>写入日程，但不可读取</td></tr> <tr><td>写入联系人</td> <td>android.permission.WRITE_CONTACTS</td> <td>写入联系人，但不可读取</td></tr> <tr><td>写入外部存储</td> <td>android.permission.WRITE_EXTERNAL_STORAGE</td> <td>允许程序写入外部存储，如SD卡上写文件</td></tr> <tr><td>写入Google地图数据</td> <td>android.permission.WRITE_GSERVICES</td> <td>允许程序写入Google Map服务数据</td></tr> <tr><td>写入收藏夹和历史记录</td> <td>com.android.browser.permission.WRITE_HISTORY_BOOKMARKS</td> <td>写入浏览器历史记录或收藏夹，但不可读取</td></tr> <tr><td>读写系统敏感设置</td> <td>android.permission.WRITE_SECURE_SETTINGS</td> <td>允许程序读写系统安全敏感的设置项</td></tr> <tr><td>读写系统设置</td> <td>android.permission.WRITE_SETTINGS</td> <td>允许读写系统设置项</td></tr> <tr><td>编写短信</td> <td>android.permission.WRITE_SMS</td> <td>允许编写短信</td></tr> <tr><td>写入在线同步设置</td> <td>android.permission.WRITE_SYNC_SETTINGS</td> <td>写入Google在线同步设置</td></tr></tbody></table> <h2 id="support-和-androidx"><a href="#support-和-androidx" class="header-anchor">#</a> Support 和 AndroidX</h2> <p><code>Support</code> 和 <code>AndroidX</code>表示android的<a href="https://www.jianshu.com/p/3b60aa04cdfc" target="_blank" rel="noopener noreferrer">两种项目<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="第三方库"><a href="#第三方库" class="header-anchor">#</a> 第三方库</h2> <h3 id="ui框架"><a href="#ui框架" class="header-anchor">#</a> UI框架</h3> <p>更多UI库可见<a href="https://github.com/opendigg/awesome-github-android-ui" target="_blank" rel="noopener noreferrer">awesome-github-android-ui<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://github.com/stars/yang-Ann/lists/android" target="_blank" rel="noopener noreferrer">awesome-android<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <table><thead><tr><th>库名</th> <th>说明</th></tr></thead> <tbody><tr><td><a href="https://github.com/material-components/material-components-android" target="_blank" rel="noopener noreferrer">material-components-android<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>专门根据<code>Material Design</code>标准设计的, 只不过文档是英文的</td></tr> <tr><td><a href="https://xuexiangjys.github.io/XUI/" target="_blank" rel="noopener noreferrer">XUI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>文档中文, 组件很全, 还带Demo</td></tr> <tr><td><a href="https://github.com/Tencent/QMUI_Android" target="_blank" rel="noopener noreferrer">QMUI_Android<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>QQ开源, 组件很全, 缺点文档写的不好, 也没人维护</td></tr> <tr><td><a href="https://emo.qhplus.cn/" target="_blank" rel="noopener noreferrer">emo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>基于Jetpack Compose的组件库, 中文文档, 组件不够完善</td></tr></tbody></table> <h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <table><thead><tr><th>库名</th> <th>说明</th></tr></thead> <tbody><tr><td>okhttp</td> <td>网络请求</td></tr> <tr><td>AndroidUtilCode</td> <td>强大易用的安卓工具类库</td></tr> <tr><td>butterknife</td> <td>使用注解获取控件和绑定事件</td></tr> <tr><td>material-dialogs</td> <td>dialog封装</td></tr> <tr><td>XXPermissions</td> <td>权限获取</td></tr> <tr><td>afinal</td> <td></td></tr> <tr><td>zxing</td> <td>扫码</td></tr> <tr><td>glide</td> <td>图像加载和缓存库</td></tr> <tr><td>gson</td> <td>Java序列化/反序列化库</td></tr> <tr><td>ExoPlayer</td> <td>音视频播放器</td></tr></tbody></table></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/5/27 23:00:54</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-bac73764 data-v-c0d124fa><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#android-studio" class="sidebar-link reco-side-android-studio" data-v-bac73764>Android Studio</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#汉化" class="sidebar-link reco-side-汉化" data-v-bac73764>汉化</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#代码片段设置" class="sidebar-link reco-side-代码片段设置" data-v-bac73764>代码片段设置</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#工程目录结构" class="sidebar-link reco-side-工程目录结构" data-v-bac73764>工程目录结构</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#三个重要文件" class="sidebar-link reco-side-三个重要文件" data-v-bac73764>三个重要文件</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#log" class="sidebar-link reco-side-log" data-v-bac73764>Log</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#adb" class="sidebar-link reco-side-adb" data-v-bac73764>adb</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#gradle" class="sidebar-link reco-side-gradle" data-v-bac73764>gradle</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#gradle下载配置镜像" class="sidebar-link reco-side-gradle下载配置镜像" data-v-bac73764>gradle下载配置镜像</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#全局镜像配置" class="sidebar-link reco-side-全局镜像配置" data-v-bac73764>全局镜像配置</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#常用xml控件" class="sidebar-link reco-side-常用xml控件" data-v-bac73764>常用XML控件</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#viewgroup-和-view" class="sidebar-link reco-side-viewgroup-和-view" data-v-bac73764>ViewGroup 和 View</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#textview" class="sidebar-link reco-side-textview" data-v-bac73764>TextView</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#button" class="sidebar-link reco-side-button" data-v-bac73764>Button</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#statelistdrawable" class="sidebar-link reco-side-statelistdrawable" data-v-bac73764>StateListDrawable</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#edittext" class="sidebar-link reco-side-edittext" data-v-bac73764>EditText</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#horizontalscrollview-和-scrollview" class="sidebar-link reco-side-horizontalscrollview-和-scrollview" data-v-bac73764>HorizontalScrollView 和 ScrollView</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#imageview" class="sidebar-link reco-side-imageview" data-v-bac73764>ImageView</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#progressbar" class="sidebar-link reco-side-progressbar" data-v-bac73764>ProgressBar</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#notification" class="sidebar-link reco-side-notification" data-v-bac73764>Notification</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#notification-2" class="sidebar-link reco-side-notification-2" data-v-bac73764>Notification</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#通知的使用" class="sidebar-link reco-side-通知的使用" data-v-bac73764>通知的使用</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#toolbar" class="sidebar-link reco-side-toolbar" data-v-bac73764>Toolbar</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#文本居中的toolbar" class="sidebar-link reco-side-文本居中的toolbar" data-v-bac73764>文本居中的Toolbar</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#alertdialog" class="sidebar-link reco-side-alertdialog" data-v-bac73764>AlertDialog</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#popupwindow" class="sidebar-link reco-side-popupwindow" data-v-bac73764>PopupWindow</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#布局" class="sidebar-link reco-side-布局" data-v-bac73764>布局</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#listview" class="sidebar-link reco-side-listview" data-v-bac73764>ListView</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#recyclerview" class="sidebar-link reco-side-recyclerview" data-v-bac73764>RecyclerView</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#viewpage" class="sidebar-link reco-side-viewpage" data-v-bac73764>ViewPage</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#资源访问" class="sidebar-link reco-side-资源访问" data-v-bac73764>资源访问</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#元数据获取" class="sidebar-link reco-side-元数据获取" data-v-bac73764>元数据获取</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#其他常量" class="sidebar-link reco-side-其他常量" data-v-bac73764>其他常量</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#动画" class="sidebar-link reco-side-动画" data-v-bac73764>动画</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#单位和尺寸" class="sidebar-link reco-side-单位和尺寸" data-v-bac73764>单位和尺寸</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#layoutparams" class="sidebar-link reco-side-layoutparams" data-v-bac73764>LayoutParams</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#activity" class="sidebar-link reco-side-activity" data-v-bac73764>Activity</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#注册activity" class="sidebar-link reco-side-注册activity" data-v-bac73764>注册Activity</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#activity启动和跳转" class="sidebar-link reco-side-activity启动和跳转" data-v-bac73764>Activity启动和跳转</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#activity生命周期" class="sidebar-link reco-side-activity生命周期" data-v-bac73764>Activity生命周期</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#启动模式" class="sidebar-link reco-side-启动模式" data-v-bac73764>启动模式</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#intent" class="sidebar-link reco-side-intent" data-v-bac73764>Intent</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#显式intent" class="sidebar-link reco-side-显式intent" data-v-bac73764>显式Intent</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#隐式intent" class="sidebar-link reco-side-隐式intent" data-v-bac73764>隐式Intent</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#向下一个activity传递数据" class="sidebar-link reco-side-向下一个activity传递数据" data-v-bac73764>向下一个Activity传递数据</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#向上一个activity返回数据" class="sidebar-link reco-side-向上一个activity返回数据" data-v-bac73764>向上一个Activity返回数据</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#注册快捷方式" class="sidebar-link reco-side-注册快捷方式" data-v-bac73764>注册快捷方式</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#数据存储" class="sidebar-link reco-side-数据存储" data-v-bac73764>数据存储</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#sharedpreferences" class="sidebar-link reco-side-sharedpreferences" data-v-bac73764>SharedPreferences</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#sqlite" class="sidebar-link reco-side-sqlite" data-v-bac73764>SQLite</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#room" class="sidebar-link reco-side-room" data-v-bac73764>Room</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#外部存储空间" class="sidebar-link reco-side-外部存储空间" data-v-bac73764>外部存储空间</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#application" class="sidebar-link reco-side-application" data-v-bac73764>Application</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#利用application操作全局变量" class="sidebar-link reco-side-利用application操作全局变量" data-v-bac73764>利用Application操作全局变量</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#service" class="sidebar-link reco-side-service" data-v-bac73764>Service</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#启动和关闭服务" class="sidebar-link reco-side-启动和关闭服务" data-v-bac73764>启动和关闭服务</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#生命周期" class="sidebar-link reco-side-生命周期" data-v-bac73764>生命周期</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#receiver" class="sidebar-link reco-side-receiver" data-v-bac73764>Receiver</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#上下文获取" class="sidebar-link reco-side-上下文获取" data-v-bac73764>上下文获取</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#context类型" class="sidebar-link reco-side-context类型" data-v-bac73764>Context类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#getapplication-和getapplicationcontext" class="sidebar-link reco-side-getapplication-和getapplicationcontext" data-v-bac73764>getApplication()和getApplicationContext()</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#fragment" class="sidebar-link reco-side-fragment" data-v-bac73764>Fragment</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#动态添加fragment" class="sidebar-link reco-side-动态添加fragment" data-v-bac73764>动态添加Fragment</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#activity-与-fragment-通信" class="sidebar-link reco-side-activity-与-fragment-通信" data-v-bac73764>Activity 与 Fragment 通信</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#其他方案" class="sidebar-link reco-side-其他方案" data-v-bac73764>其他方案</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#fragment生命周期" class="sidebar-link reco-side-fragment生命周期" data-v-bac73764>Fragment生命周期</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#okhttp" class="sidebar-link reco-side-okhttp" data-v-bac73764>OkHttp</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#配置请求权限" class="sidebar-link reco-side-配置请求权限" data-v-bac73764>配置请求权限</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#发送请求" class="sidebar-link reco-side-发送请求" data-v-bac73764>发送请求</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#gson" class="sidebar-link reco-side-gson" data-v-bac73764>Gson</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#retrofit" class="sidebar-link reco-side-retrofit" data-v-bac73764>Retrofit</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#retrofit的注解" class="sidebar-link reco-side-retrofit的注解" data-v-bac73764>Retrofit的注解</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#retrofit转换器" class="sidebar-link reco-side-retrofit转换器" data-v-bac73764>Retrofit转换器</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#retrofit的嵌套请求" class="sidebar-link reco-side-retrofit的嵌套请求" data-v-bac73764>Retrofit的嵌套请求</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#定时器" class="sidebar-link reco-side-定时器" data-v-bac73764>定时器</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#权限" class="sidebar-link reco-side-权限" data-v-bac73764>权限</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#support-和-androidx" class="sidebar-link reco-side-support-和-androidx" data-v-bac73764>Support 和 AndroidX</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#第三方库" class="sidebar-link reco-side-第三方库" data-v-bac73764>第三方库</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#ui框架" class="sidebar-link reco-side-ui框架" data-v-bac73764>UI框架</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Android/Android.html#其他" class="sidebar-link reco-side-其他" data-v-bac73764>其他</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-2a01419c data-v-2a01419c><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-2a01419c><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-2a01419c></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-2a01419c></path></svg></div></div></div>
    <script src="/note-sites/assets/js/app.4241ea4e.js" defer></script><script src="/note-sites/assets/js/5.2f78da70.js" defer></script><script src="/note-sites/assets/js/1.9e97c91a.js" defer></script><script src="/note-sites/assets/js/4.22434470.js" defer></script>
  </body>
</html>
