<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>npm | An的个人笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/note-sites/favicon.ico">
    <script type="module" src="/note-sites/js/index.js"></script>
    <meta name="description" content="记录学习笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/note-sites/assets/css/0.styles.a5e0cdd4.css" as="style"><link rel="preload" href="/note-sites/assets/js/app.f770c40a.js" as="script"><link rel="preload" href="/note-sites/assets/js/5.2f78da70.js" as="script"><link rel="preload" href="/note-sites/assets/js/1.9e97c91a.js" as="script"><link rel="preload" href="/note-sites/assets/js/13.8288ad20.js" as="script"><link rel="prefetch" href="/note-sites/assets/js/10.85cb6931.js"><link rel="prefetch" href="/note-sites/assets/js/11.bae2598b.js"><link rel="prefetch" href="/note-sites/assets/js/12.d1d71861.js"><link rel="prefetch" href="/note-sites/assets/js/14.5db254ea.js"><link rel="prefetch" href="/note-sites/assets/js/15.4b8fdb58.js"><link rel="prefetch" href="/note-sites/assets/js/16.3f38858b.js"><link rel="prefetch" href="/note-sites/assets/js/17.8d173955.js"><link rel="prefetch" href="/note-sites/assets/js/18.e11cb2d3.js"><link rel="prefetch" href="/note-sites/assets/js/19.61f852e8.js"><link rel="prefetch" href="/note-sites/assets/js/20.5d618384.js"><link rel="prefetch" href="/note-sites/assets/js/21.9d5c467a.js"><link rel="prefetch" href="/note-sites/assets/js/22.fbe7ec71.js"><link rel="prefetch" href="/note-sites/assets/js/23.4f93b2d9.js"><link rel="prefetch" href="/note-sites/assets/js/24.6c015314.js"><link rel="prefetch" href="/note-sites/assets/js/25.c330e332.js"><link rel="prefetch" href="/note-sites/assets/js/26.777d345a.js"><link rel="prefetch" href="/note-sites/assets/js/27.e3da9c82.js"><link rel="prefetch" href="/note-sites/assets/js/28.909d163b.js"><link rel="prefetch" href="/note-sites/assets/js/29.31a1b0ec.js"><link rel="prefetch" href="/note-sites/assets/js/3.85fedc63.js"><link rel="prefetch" href="/note-sites/assets/js/30.f41c4626.js"><link rel="prefetch" href="/note-sites/assets/js/31.9be18a80.js"><link rel="prefetch" href="/note-sites/assets/js/32.6aedba05.js"><link rel="prefetch" href="/note-sites/assets/js/33.c1600c51.js"><link rel="prefetch" href="/note-sites/assets/js/34.4a5b7210.js"><link rel="prefetch" href="/note-sites/assets/js/35.248eaa86.js"><link rel="prefetch" href="/note-sites/assets/js/36.7d030294.js"><link rel="prefetch" href="/note-sites/assets/js/37.b1b086c1.js"><link rel="prefetch" href="/note-sites/assets/js/38.196a199f.js"><link rel="prefetch" href="/note-sites/assets/js/39.6c5b3349.js"><link rel="prefetch" href="/note-sites/assets/js/4.a4da0b9c.js"><link rel="prefetch" href="/note-sites/assets/js/40.be7ca825.js"><link rel="prefetch" href="/note-sites/assets/js/41.0f0cb3e9.js"><link rel="prefetch" href="/note-sites/assets/js/42.6ccca33e.js"><link rel="prefetch" href="/note-sites/assets/js/43.6cfd4240.js"><link rel="prefetch" href="/note-sites/assets/js/6.1715e7e5.js"><link rel="prefetch" href="/note-sites/assets/js/7.c1b52aa5.js"><link rel="prefetch" href="/note-sites/assets/js/8.fe1371a3.js"><link rel="prefetch" href="/note-sites/assets/js/9.a9dfe185.js">
    <link rel="stylesheet" href="/note-sites/assets/css/0.styles.a5e0cdd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-c0d124fa><div data-v-c0d124fa><div class="password-shadow password-wrapper-out" style="display:none;" data-v-30dff670 data-v-c0d124fa data-v-c0d124fa><h3 class="title" data-v-30dff670>An的个人笔记</h3> <p class="description" data-v-30dff670>记录学习笔记</p> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-c0d124fa><header class="navbar" data-v-c0d124fa><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-sites/" class="home-link router-link-active"><!----> <span class="site-name">An的个人笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c0d124fa></div> <aside class="sidebar" data-v-c0d124fa><div class="personal-info-wrapper" data-v-5c49c935 data-v-c0d124fa><img src="/note-sites/assets/img/logo.png" alt="author-avatar" class="personal-img" data-v-5c49c935> <h3 class="name" data-v-5c49c935>
    An
  </h3> <div class="num" data-v-5c49c935><div data-v-5c49c935><h3 data-v-5c49c935>32</h3> <h6 data-v-5c49c935>文章</h6></div> <div data-v-5c49c935><h3 data-v-5c49c935>26</h3> <h6 data-v-5c49c935>标签</h6></div></div> <ul class="social-links" data-v-5c49c935><li class="social-item" data-v-5c49c935><i class="iconfont reco-github" style="color:#67cc86;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-mayun" style="color:#f8b26a;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-juejin" style="color:#e15b64;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-npm" style="color:#849b87;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-bilibili" style="color:#67cc86;" data-v-5c49c935></i></li></ul> <hr data-v-5c49c935></div> <nav class="nav-links"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-30dff670 data-v-c0d124fa><h3 class="title" data-v-30dff670>npm</h3> <!----> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-c0d124fa><div data-v-c0d124fa><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">npm</h1> <div data-v-7b22c628><i class="iconfont reco-account" data-v-7b22c628><span data-v-7b22c628>An</span></i> <i class="iconfont reco-date" data-v-7b22c628><span data-v-7b22c628>2022/3/5</span></i> <!----> <i class="tags iconfont reco-tag" data-v-7b22c628><span class="tag-item" data-v-7b22c628>Node</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="npm"><a href="#npm" class="header-anchor">#</a> npm</h1> <p></p><div class="table-of-contents"><ul><li><a href="#npm的介绍">npm的介绍</a></li><li><a href="#创建包管理文件">创建包管理文件</a></li><li><a href="#npm常用命令">npm常用命令</a><ul><li><a href="#常用命令">常用命令</a></li><li><a href="#查看命令">查看命令</a></li><li><a href="#配置淘宝镜像">配置淘宝镜像</a></li><li><a href="#其他资源镜像">其他资源镜像</a></li></ul></li><li><a href="#cmd窗口">CMD窗口</a><ul><li><a href="#常用的命令">常用的命令</a></li><li><a href="#环境变量-window系统变量">环境变量(window系统变量)</a></li></ul></li><li><a href="#npm-script">npm script</a><ul><li><a href="#使用-npm-script">使用npm script</a></li><li><a href="#原理">原理</a></li><li><a href="#通配符">通配符</a></li><li><a href="#传参">传参</a></li><li><a href="#执行顺序">执行顺序</a></li><li><a href="#默认值">默认值</a></li><li><a href="#钩子">钩子</a></li><li><a href="#变量">变量</a></li></ul></li><li><a href="#npx">npx</a><ul><li><a href="#npx查找原理">npx查找原理</a></li></ul></li><li><a href="#npmrc">.npmrc</a></li><li><a href="#npm-开发工具包">npm 开发工具包</a><ul><li><a href="#npm-本地开发">npm 本地开发</a></li><li><a href="#npm发布">npm发布</a><ul><li><a href="#发布命名空间的包">发布命名空间的包</a></li></ul></li></ul></li><li><a href="#npm-create">npm create</a></li><li><a href="#npm-init">npm init</a></li><li><a href="#npm-实用包">npm 实用包</a></li><li><a href="#nvm">nvm</a><ul><li><a href="#设置镜像源">设置镜像源</a></li><li><a href="#安装指定版本号的node">安装指定版本号的node</a></li><li><a href="#查看所有的node版本">查看所有的node版本</a></li><li><a href="#列出本地的node版本目录">列出本地的node版本目录</a></li><li><a href="#使用指定版本node">使用指定版本node</a></li><li><a href="#卸载指定版本node">卸载指定版本node</a></li><li><a href="#其他命令">其他命令</a></li></ul></li><li><a href="#multirepo">multirepo</a><ul><li><a href="#multirepo缺点">MultiRepo缺点</a></li></ul></li><li><a href="#monorepo">monorepo</a></li><li><a href="#yarn">yarn</a></li><li><a href="#pnpm">pnpm</a><ul><li><a href="#npm或yarn-转-pnpm">npm或yarn 转 pnpm</a></li><li><a href="#monorepo">monorepo</a><ul><li><a href="#安装依赖">安装依赖</a><ul><li><a href="#全局的公共依赖包">全局的公共依赖包</a></li><li><a href="#安装到某个模块中">安装到某个模块中</a><ul><li><a href="#filter的其他操作">filter的其他操作</a></li></ul></li><li><a href="#模块之间的相互依赖">模块之间的相互依赖</a></li></ul></li><li><a href="#只允许pnpm">只允许pnpm</a></li></ul></li><li><a href="#release工作流">release工作流</a></li></ul></li></ul></div><p></p> <h2 id="npm的介绍"><a href="#npm的介绍" class="header-anchor">#</a> npm的介绍</h2> <p><a href="https://www.npmjs.com" target="_blank" rel="noopener noreferrer">npm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是 Node.js 的包管理工具, 用来安装各种 Node.js 的第三方库</p> <p><a href="https://docs.npmjs.com/getting-started/" target="_blank" rel="noopener noreferrer">官方教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.npmjs.com/cli/v9/commands/" target="_blank" rel="noopener noreferrer">npm cli<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html" target="_blank" rel="noopener noreferrer">阮一峰教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="创建包管理文件"><a href="#创建包管理文件" class="header-anchor">#</a> 创建包管理文件</h2> <p>相关属性详解见: <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json" target="_blank" rel="noopener noreferrer">pageage.json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>npm init</code> 命令 初始化一个包管理文件</p> <p><code>npm init -y</code>命令 初始化全是默认值的包(括号里的就是默认值)</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># code xxx 使用VS Code打开指定的目录需要将VS Code 安装目录添加到系统变量 path 中</span>
<span class="token function">mkdir</span> myproject <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> myproject <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> init <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">touch</span> index.ts <span class="token operator">&amp;&amp;</span> code <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>package name: <span class="token punctuation">(</span>testnpm<span class="token punctuation">)</span> 包名字
version: <span class="token punctuation">(</span><span class="token number">1.0</span>.0<span class="token punctuation">)</span> 版本号
description: 描述
entry point: <span class="token punctuation">(</span>index.js<span class="token punctuation">)</span> 入口js文件
<span class="token builtin class-name">test</span> command: 测试命令
<span class="token function">git</span> repository: 代码需要git仓库管理的话加上该仓库地址
keywords: 关键字
author: 开发者
license: <span class="token punctuation">(</span>ISC<span class="token punctuation">)</span> 授权协议
Is this OK? <span class="token punctuation">(</span>yes<span class="token punctuation">)</span> 再次确认  <span class="token function">yes</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>得到 <code>package.json</code> 文件, 大致内容如下:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yang&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;我的第一个NPM项目&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 运行脚本</span>
      <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;yjb&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yjb&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 运行依赖, 依赖的项该是正常运行该包时所需要的依赖项</span>
      <span class="token property">&quot;excel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">// 开发依赖, 开发的时候需要的依赖项</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="npm常用命令"><a href="#npm常用命令" class="header-anchor">#</a> npm常用命令</h2> <p>命令行输入<code>npm help npm</code>可以npm本地文档, 使用<code>npm help xxx</code>则是打开对应命令的文档</p> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token comment"># 安装项目的所有依赖， install 简写 i</span>
<span class="token function">npm</span> <span class="token function">install</span> 包名 <span class="token parameter variable">--global</span> <span class="token comment"># 全局安装, --global 简写 -g</span>
<span class="token function">npm</span> <span class="token function">install</span> 包名 <span class="token parameter variable">--save</span> <span class="token comment"># 安装依赖到 dependencies, --save 简写 -S</span>
<span class="token function">npm</span> <span class="token function">install</span> 包名 --save-dev <span class="token comment"># 安装依赖到 devDependencies, --save-dev 简写 -D</span>
<span class="token function">npm</span> <span class="token function">install</span> 包名@版本号 <span class="token comment"># 安装指定版本号的包</span>
<span class="token function">npm</span> <span class="token function">install</span> 包名1 包名2 包名3 <span class="token comment"># 一次性安装多个包</span>

<span class="token function">npm</span> uninstall 包名 <span class="token comment"># 卸载当前项目的包</span>
<span class="token function">npm</span> uninstall 包名 <span class="token parameter variable">-g</span> <span class="token comment"># 卸载全局安装的包</span>

<span class="token function">npm</span> update 包名名 <span class="token comment"># 更新当前项目包</span>
<span class="token function">npm</span> update 包名名 <span class="token parameter variable">-g</span> <span class="token comment"># 更新全局包</span>

<span class="token function">npm</span> list <span class="token comment"># 查看当前项目安装的包</span>
<span class="token function">npm</span> list <span class="token parameter variable">-g</span> <span class="token comment"># 查看全局安装的包</span>

<span class="token function">npm</span> prune <span class="token comment"># 清除没有使用到的包</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="查看命令"><a href="#查看命令" class="header-anchor">#</a> 查看命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> root <span class="token comment"># 查看项目中包名所在的目录</span>
<span class="token function">npm</span> root <span class="token parameter variable">-g</span> <span class="token comment"># 查看全局安装的包名所在目录</span>

<span class="token function">npm</span> <span class="token parameter variable">-v</span> <span class="token comment"># 查看npm版本</span>
<span class="token function">npm</span> version <span class="token comment"># 查看更详细的版本信息</span>

<span class="token function">npm</span> view 包名 version <span class="token comment"># 查看包的最新版本</span>
<span class="token function">npm</span> view 包名 versions <span class="token comment"># 查看包的历史版本</span>

<span class="token function">npm</span> info 包名 <span class="token comment"># 查看包的更多信息</span>

<span class="token function">npm</span> config list <span class="token comment"># 查看npm配置</span>
<span class="token function">npm</span> config edit <span class="token comment"># 编辑npm配置</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="配置淘宝镜像"><a href="#配置淘宝镜像" class="header-anchor">#</a> 配置淘宝镜像</h3> <p>使用 npm 安装第三方库需要访问国外的网络, 默认为<code>https://registry.npmjs.org/</code>会比较慢, 可以配置<a href="https://npmmirror.com/" target="_blank" rel="noopener noreferrer">淘宝镜像<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 查看源(默认为 https://registry.npmjs.org/)</span>
<span class="token function">npm</span> get registry

<span class="token comment"># 切换源(推荐)</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry http://registry.npm.taobao.org/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以通过<code>C:/Users/用户名/.npmrc</code>文件添加镜像源, 如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token assign-left variable">registry</span><span class="token operator">=</span>http://registry.npm.taobao.org/ <span class="token comment"># npm 淘宝源</span>
<span class="token assign-left variable">disturl</span><span class="token operator">=</span>https://npm.taobao.org/mirrors/node
<span class="token assign-left variable">electron_mirror</span><span class="token operator">=</span>https://npm.taobao.org/mirrors/electron/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><code>cnpm</code><strong>不生成 lock 文件, 也不会识别项目中的lock文件</strong>，如果是多人开发，建议使用npm或者其他包管理工具安装插件</p></blockquote> <blockquote><p>也可以使用<a href="https://www.npmjs.com/package/nrm" target="_blank" rel="noopener noreferrer"><code>nrm</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来管理npm镜像配置</p></blockquote> <h3 id="其他资源镜像"><a href="#其他资源镜像" class="header-anchor">#</a> 其他资源镜像</h3> <p>配置到<code>.npmrc</code>中</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># https://github.com/cnpm/binary-mirror-config/blob/master/package.json#L53</span>
<span class="token assign-left variable">NODEJS_ORG_MIRROR</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/node&quot;</span>
<span class="token assign-left variable">NVM_NODEJS_ORG_MIRROR</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/node&quot;</span>
<span class="token assign-left variable">PHANTOMJS_CDNURL</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/phantomjs&quot;</span>
<span class="token assign-left variable">CHROMEDRIVER_CDNURL</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/chromedriver&quot;</span>
<span class="token assign-left variable">OPERADRIVER_CDNURL</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/operadriver&quot;</span>
<span class="token assign-left variable">ELECTRON_MIRROR</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/electron/&quot;</span>
<span class="token assign-left variable">ELECTRON_BUILDER_BINARIES_MIRROR</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/electron-builder-binaries/&quot;</span>
<span class="token assign-left variable">SASS_BINARY_SITE</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/node-sass&quot;</span>
<span class="token assign-left variable">SWC_BINARY_SITE</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/node-swc&quot;</span>
<span class="token assign-left variable">NWJS_URLBASE</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/nwjs/v&quot;</span>
<span class="token assign-left variable">PUPPETEER_DOWNLOAD_HOST</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries&quot;</span>
<span class="token assign-left variable">SENTRYCLI_CDNURL</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/sentry-cli&quot;</span>
<span class="token assign-left variable">SAUCECTL_INSTALL_BINARY_MIRROR</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/saucectl&quot;</span>
<span class="token assign-left variable">npm_config_sharp_binary_host</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/sharp&quot;</span>
<span class="token assign-left variable">npm_config_sharp_libvips_binary_host</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/sharp-libvips&quot;</span>
<span class="token assign-left variable">npm_config_robotjs_binary_host</span><span class="token operator">=</span><span class="token string">&quot;https://cdn.npmmirror.com/binaries/robotj&quot;</span>

<span class="token comment"># For Cypress &gt;=10.6.0, https://docs.cypress.io/guides/references/changelog#10-6-0</span>
<span class="token assign-left variable">CYPRESS_DOWNLOAD_PATH_TEMPLATE</span><span class="token operator">=</span><span class="token string">'https://cdn.npmmirror.com/binaries/cypress/${version}/${platform}-${arch}/cypress.zip'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="cmd窗口"><a href="#cmd窗口" class="header-anchor">#</a> CMD窗口</h2> <h3 id="常用的命令"><a href="#常用的命令" class="header-anchor">#</a> 常用的命令</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>dir: 列出当前目录下的所有文件
md 目录名: 创建一个文件夹
rd 目录名: 删除一个文件夹

盘符: <span class="token builtin class-name">:</span> 进入指定的盘

<span class="token builtin class-name">cd</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span> 进入当前目录
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span> <span class="token builtin class-name">:</span> 返回上一级目录
<span class="token builtin class-name">cd</span> <span class="token punctuation">\</span> <span class="token builtin class-name">:</span> 进入当前的根目录下
<span class="token builtin class-name">cd</span> /d D:/xxx/xxx 进去这个指定的目录

cls: 请空屏幕的命令
直接在某个文件夹地址栏输入 cmd 直接打开当前目录下的 cmd 窗口

命令 /? <span class="token builtin class-name">:</span> 对应的命令帮助
ipconfig <span class="token builtin class-name">:</span> 查看自己的ip信息
<span class="token function">ping</span> ip地址: 检查本机到指定ip地址的连通性<span class="token punctuation">(</span>加上 <span class="token parameter variable">-t</span> 就会一直 <span class="token function">ping</span><span class="token punctuation">)</span>
<span class="token function">netstat</span> <span class="token parameter variable">-ano</span> <span class="token builtin class-name">:</span> 查看网络连接、状态以及对应的进程id
tracert <span class="token builtin class-name">:</span> 也被称为Windows路由跟踪实用程序, 在命令提示符（cmd）中使用tracert命令可以用于确定IP数据包访问目标时所选择的路径
    例如: tracert www.baidu.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="环境变量-window系统变量"><a href="#环境变量-window系统变量" class="header-anchor">#</a> 环境变量(window系统变量)</h3> <ul><li><p>path (路径变量)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>我们在命令行窗口打开一个文件, 或是调用一个程序时, 
系统会首先在当前目录下寻找文件程序, 如果找到则直接打开,
如果没有找到则会依次到环境变量 path 的路径中寻找, 直到找到为之
如果没有找到则报错, 可以将一些经常需要访问的程序和文件的路径添加到 path 中,
这样我们就可以在任意位置来访问这些文件和程序了
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <h2 id="npm-script"><a href="#npm-script" class="header-anchor">#</a> npm script</h2> <h3 id="使用npm-script"><a href="#使用npm-script" class="header-anchor">#</a> 使用<strong>npm script</strong></h3> <p>npm 允许在<code>package.json</code>文件里面，使用<code>scripts</code>字段定义脚本命令</p> <p><img src="/note-sites/assets/img/image-20220106144900720.957f0164.png" alt="image-20220106144900720"></p> <p><code>scripts</code>字段是一个对象, 它的每一个属性，对应一段脚本</p> <p>比如，<code>dev</code>命令对应的脚本就是<code>nodemon ./app.js || node ./app.js</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">npm</span> run dev
// 等同于执行
$ nodemon ./app.js <span class="token operator">||</span> <span class="token function">node</span> ./app.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>script 里还可以使用<code>&amp;&amp;</code>具体效果和js中的逻辑运算符一样</p></blockquote> <p>这些定义在<code>package.json</code>里面的脚本，就称为 npm 脚本它的优点很多:</p> <ul><li>项目的相关脚本，可以集中在一个地方</li> <li>不同项目的脚本命令，只要功能相同，就可以有同样的对外接口用户不需要知道怎么测试你的项目，只要运行<code>npm run xxx</code>即可</li> <li>可以利用 npm 提供的很多辅助功能</li></ul> <p>查看当前项目的所有 npm 脚本命令，可以使用不带任何参数的<code>npm run</code>命令</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">npm</span> run 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <p>npm 脚本的原理非常简单, 每当执行<code>npm run</code>，就会自动新建一个 <a href="https://zhuanlan.zhihu.com/p/56532223" target="_blank" rel="noopener noreferrer">Shell<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在这个 Shell 里面执行指定的脚本命</p> <p>令因此，只要是 Shell（一般是 <a href="https://baike.baidu.com/item/Bash" target="_blank" rel="noopener noreferrer">Bash<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）可以运行的命令，就可以写在 npm 脚本里面</p> <p>比较特别的是，<code>npm run</code>新建的这个 Shell，会将当前目录的<code>node_modules/.bin</code>子目录加入<code>PATH</code>变量，</p> <p>执行结束后，再将<code>PATH</code>变量恢复原样</p> <p>这意味着，当前目录的<code>node_modules/.bin</code>子目录里面的所有脚本，都可以直接用脚本名调用，而不必加上路</p> <p>径比如，当前项目的依赖里面有<strong>nodemon</strong>，只要直接写<code>nodemon xxx</code>就可以了</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon ./app.js&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>而不用写成下面这样</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./node_modules/.bin/nodemon ./app.js&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于 npm 脚本的唯一要求就是可以在 Shell 执行, 因此它不一定是 Node 脚本, 任何可执行文件都可以写在里面</p> <p>npm 脚本的退出码, 也遵守 <a href="https://blog.csdn.net/qq_41891805/article/details/104490404" target="_blank" rel="noopener noreferrer">Shell 脚本规则<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>如果退出码不是<code>0</code>，npm 就认为这个脚本执行失败</p> <h3 id="通配符"><a href="#通配符" class="header-anchor">#</a> 通配符</h3> <p>由于 npm 脚本就是 Shell 脚本，因为可以使用 Shell 通配符</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jshint *.js&quot;</span>
<span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jshint **/*.js&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面代码中，<code>*</code>表示任意文件名，<code>**</code>表示任意一层子目录</p> <p>如果要将通配符传入原始命令, 防止被 Shell 转义, 要将星号转义</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tap test/\*.js&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="传参"><a href="#传参" class="header-anchor">#</a> 传参</h3> <p>向 npm 脚本传入参数，要使用<code>--</code>标明</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">npm</span> run lint --  <span class="token parameter variable">--reporter</span> checkstyle <span class="token operator">&gt;</span> checkstyle.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也可以在<code>package.json</code>里面再封装一个命令</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jshint **.js&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;lint:checkstyle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run lint -- --reporter checkstyle &gt; checkstyle.xml&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="执行顺序"><a href="#执行顺序" class="header-anchor">#</a> 执行顺序</h3> <p>如果 npm 脚本里面需要执行多个任务，那么需要明确它们的执行顺序</p> <p>如果是并行执行（即同时的平行执行），可以使用<code>|</code>符号</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">npm</span> run xxx <span class="token operator">|</span> <span class="token function">npm</span> run xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="默认值"><a href="#默认值" class="header-anchor">#</a> 默认值</h3> <p>一般来说 npm 脚本由用户提供, 但是 npm 对两个脚本提供了默认值, 也就是说这两个脚本命令不用定义，就可以直接使用</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node server.js&quot;</span>，
<span class="token property">&quot;install&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node-gyp rebuild&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面代码中, <code>npm run start</code>的默认值是<code>node server.js</code>, 前提是项目根目录下有<code>server.js</code>这个脚</p> <p>本, <code>npm run install</code>的默认值是<code>node-gyp rebuild</code>, 前提是项目根目录下有<code>binding.gyp</code>文件</p> <h3 id="钩子"><a href="#钩子" class="header-anchor">#</a> 钩子</h3> <p>npm 脚本有<code>pre</code>和<code>post</code>两个钩子, 举例来说，<code>build</code>脚本命令的钩子就是<code>prebuild</code>和<code>postbuild</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;prebuild&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo build命令之前构子&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node -v&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;postbuild&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo build命令之后构子&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>用户执行<code>npm run build</code>的时候，会自动按照下面的顺序执行</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> run prebuild <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> run build <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> run postbuild
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>因此，可以在这两个钩子里面，完成一些准备工作和清理工作</p></blockquote> <p>npm 默认提供下面这些钩子:</p> <ul><li>prepublish，postpublish</li> <li>preinstall，postinstall</li> <li>preuninstall，postuninstall</li> <li>preversion，postversion</li> <li>pretest，posttest</li> <li>prestop，poststop</li> <li>prestart，poststart</li> <li>prerestart，postrestart</li></ul> <p>自定义的脚本命令也可以加上<code>pre</code>和<code>post</code>钩子比如，<code>myscript</code>这个脚本命令，也有<code>premyscript</code>和</p> <p><code>postmyscript</code>钩子不过，双重的<code>pre</code>和<code>post</code>无效，比如<code>prepretest</code>和<code>postposttest</code>是无效的</p> <p>npm 提供一个<code>npm_lifecycle_event</code>变量，返回当前正在运行的脚本名称, 可以利用这个变量，在同一个脚本</p> <p>文件里面，为不同的<code>npm scripts</code>命令编写代码:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">TARGET</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_lifecycle_event<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">执行的命令是: npm run </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">TARGET</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>一定要使用<code>npm run xxx</code>的形式才有<code>process.env.npm_lifecycle_event</code>变量的值</p></blockquote> <h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <p>npm 脚本有一个非常强大的功能，就是可以使用 npm 的内部变量</p> <p>通过<code>npm_package_xxx</code>, npm 脚本可以拿到<code>package.json</code>里面的字段, 例如: 下面是一个<code>package.json</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;view&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node ./view.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>那么，变量<code>npm_package_name</code>返回<code>node</code>，变量<code>npm_package_main</code>返回<code>index.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_main<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// index.js</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面代码中通过环境变量<code>process.env</code>对象，拿到<code>package.json</code>的字段值</p> <blockquote><p>如果是 Bash 脚本，可以用<code>$npm_package_name</code>和<code>$npm_package_version</code>取到这两个值</p></blockquote> <p><code>npm_package_</code>前缀也支持嵌套的<code>package.json</code>字段</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>...
<span class="token property">&quot;myObj&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;myName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span>
<span class="token punctuation">}</span>
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面的package.json文件中, <code>myObj</code>字段的<code>myName</code>属性，可以通过<code>npm_package_myObj_myName</code>取到</p> <p><code>env</code>命令可以列出所有环境变量</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> run <span class="token function">env</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="npx"><a href="#npx" class="header-anchor">#</a> npx</h2> <p><code>npx</code>是 <code>npm5.2.0</code>版本新增的一个工具包，定义为<code>npm</code>包的执行者，相比<code>npm</code>，<code>npx</code> <strong>会自动安装依赖包并执行某个命令, 用完以后就会删除</strong></p> <h3 id="npx查找原理"><a href="#npx查找原理" class="header-anchor">#</a> npx查找原理</h3> <p><code>npx</code> 会在当前目录下的<code>./node_modules/.bin</code>里去查找是否有可执行的命令，没有找到的话再从全局里查找是否有安装对应的模块，全局也没有的话就会自动下载对应的模块, <code>npx</code>经常用在一些<code>cli</code>, <code>校验工具</code>等, 一般只会执行一次的地方, 如: <code>npx create-react-app xxx</code>, <code>npx vue create xxx</code>,<code>npx eslint</code></p> <h2 id="npmrc"><a href="#npmrc" class="header-anchor">#</a> .npmrc</h2> <p><a href="https://docs.npmjs.com/cli/v9/using-npm/config#npmrc-files" target="_blank" rel="noopener noreferrer">npmrc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>.npmrc</code>文件可以修改<code>npm</code>项目级别的配置, 例如, 下面是一个典型的<code>pnpm monorepo</code>项目:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 镜像修改</span>
<span class="token assign-left variable">registry</span><span class="token operator">=</span>https://registry.npmjs.org/
<span class="token comment"># 禁用严格依赖</span>
strict-peer-dependencies<span class="token operator">=</span>false
<span class="token comment"># pnpm i 不安装工作区下的所有包的依赖</span>
recursive-install<span class="token operator">=</span>false
<span class="token comment"># 发布包是不检查 git 是否提交</span>
git-checks<span class="token operator">=</span>false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="npm-开发工具包"><a href="#npm-开发工具包" class="header-anchor">#</a> npm 开发工具包</h2> <p><a href="https://docs.npmjs.com/packages-and-modules/contributing-packages-to-the-registry" target="_blank" rel="noopener noreferrer">官方教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="npm-本地开发"><a href="#npm-本地开发" class="header-anchor">#</a> npm 本地开发</h3> <p>初始化<code>package.json</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> init <span class="token comment"># 正常初始化</span>

<span class="token comment"># 创建带命名空间的包, 例如: @vue/cli</span>
<span class="token function">mkdir</span> project
<span class="token builtin class-name">cd</span> project
<span class="token function">npm</span> init <span class="token parameter variable">--scoped</span><span class="token operator">=</span>@myName <span class="token comment"># 对应的包名则叫 @myName/project, 会自动拼接</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>添加<code>package.json</code>中<code>bin</code>字段可以添加可执行文件安装到路径中, <code>key</code>表示命令, <code>value</code>命令执行的文件, 例如:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package.json</span>

<span class="token property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 对应 npm create 命令, 执行的文件是 ./dist/bin/index.js</span>
    <span class="token property">&quot;create&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/bin/index.js&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>需要注意的是被执行的文件头部必须添加特殊说明使用node解释器去执行:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 必须添加如下的</span>
#<span class="token operator">!</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>env node

<span class="token comment">// ...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">link</span> <span class="token comment"># 将本地包链接到全局(调试全局命令的包)</span>
<span class="token function">npm</span> unlink xxx <span class="token comment"># 取消链接</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>通过<code>npm ls -g</code>可以查看本地链接的包, 如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">ls</span> <span class="token parameter variable">-g</span>
C:<span class="token punctuation">\</span>Program Files<span class="token punctuation">\</span>nodejs -<span class="token operator">&gt;</span> .<span class="token punctuation">\</span>
├── @anlib/cli@0.0.1 -<span class="token operator">&gt;</span> .<span class="token punctuation">\</span>D:<span class="token punctuation">\</span>project<span class="token punctuation">\</span>cli
├── corepack@0.12.1
├── front-frame-cli@0.1.2 -<span class="token operator">&gt;</span> .<span class="token punctuation">\</span>D:<span class="token punctuation">\</span>project<span class="token punctuation">\</span>front-frame-cli
├── npm@8.15.0
├── pnpm@7.25.1
├── typescript@4.9.4
└── yarn@1.22.19
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="npm发布"><a href="#npm发布" class="header-anchor">#</a> npm发布</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> pack <span class="token comment"># 本地模拟打包发布的产物</span>
<span class="token function">npm</span> adduser <span class="token comment"># 添加用户帐户</span>
<span class="token function">npm</span> login <span class="token comment"># 登录</span>
<span class="token function">npm</span> <span class="token builtin class-name">logout</span> <span class="token comment"># 登出</span>
<span class="token function">npm</span> <span class="token function">whoami</span> <span class="token comment"># 查看当前登录用户</span>
<span class="token function">npm</span> version patch <span class="token comment"># 自动修改版本并 commit(支持很多的参数可见 npm version -h)</span>
<span class="token function">npm</span> publish <span class="token comment"># 发布</span>
<span class="token function">npm</span> unpublish 包名 <span class="token parameter variable">-f</span> <span class="token comment"># 删除一个包</span>
<span class="token function">npm</span> unpublish 包名@0.0.1 <span class="token parameter variable">-f</span> <span class="token comment"># 删除指定版本的包</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>如果配置了淘宝源则需要修改为官方源<code>npm config set registry https://registry.npmjs.org</code>, 然后重新安装依赖再发布</p> <blockquote><p>如果报<code>TLS 1.2</code>错误需要将<code>.npmrc</code>的<code>registry</code>从<code>http</code>修改为<code>https</code></p></blockquote> <h4 id="发布命名空间的包"><a href="#发布命名空间的包" class="header-anchor">#</a> 发布命名空间的包</h4> <blockquote><p>使用命名空间的包发布的话还需要在npm上新建一个对应命名空间的<a href="https://www.npmjs.com/org/create" target="_blank" rel="noopener noreferrer">组织<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> publish <span class="token parameter variable">--access</span> public <span class="token comment"># 发布私有包</span>
<span class="token function">npm</span> access ls-packages <span class="token comment"># 查看当前用户的组织</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>可以配置<code>npm</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> access public
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者在<code>package.json</code>添加如下的配置:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;publishConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;access&quot;</span><span class="token operator">:</span> <span class="token string">&quot;public&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;registry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://registry.npmjs.org/&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="npm-create"><a href="#npm-create" class="header-anchor">#</a> npm create</h2> <p><code>npm create xxx</code>是很常见的一个命令, 常常被用于创建各种脚手架, 以<code>npm create vite</code>为例, 具体的执行流程如下:</p> <ul><li>命令行执行<code>npm create vite</code>会先去找<code>create-vite</code>这个包</li> <li>执行<code>npm exec create-vite</code>命令</li> <li>执行<code>create-vite</code>包里的<code>create-vite</code>命令(由<code>package.json</code>里的<code>bin</code>字段定义)</li></ul> <h2 id="npm-init"><a href="#npm-init" class="header-anchor">#</a> npm init</h2> <p><a href="https://docs.npmjs.com/cli/v6/commands/npm-init#examples" target="_blank" rel="noopener noreferrer"><code>init</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>命令如果后面添加了参数的话, 将转换为相应的<code>npx</code>操作, 如下所示</p> <ul><li><code>npm init foo</code> -&gt; <code>npx create-foo</code></li> <li><code>npm init @usr/foo</code> -&gt; <code>npx @usr/create-foo</code></li> <li><code>npm init @usr</code> -&gt; <code>npx @usr/create</code></li></ul> <h2 id="npm-实用包"><a href="#npm-实用包" class="header-anchor">#</a> npm 实用包</h2> <p><a href="https://github.com/sindresorhus/awesome-nodejs" target="_blank" rel="noopener noreferrer">awesome-nodejs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>前端工具包</strong></p> <table><thead><tr><th style="text-align:center;">包名</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">serve</td> <td style="text-align:center;">快速的为一个文件夹生成一个静态的 http 服务</td></tr> <tr><td style="text-align:center;">axios</td> <td style="text-align:center;">网络请求库</td></tr> <tr><td style="text-align:center;">ESLint</td> <td style="text-align:center;">代码检查工具</td></tr> <tr><td style="text-align:center;">prettier</td> <td style="text-align:center;">代码风格修正工具</td></tr> <tr><td style="text-align:center;">nanoid</td> <td style="text-align:center;">可以快速生成唯一的 id</td></tr> <tr><td style="text-align:center;">lodash</td> <td style="text-align:center;">JavaScript 实用函数库</td></tr> <tr><td style="text-align:center;">ramda</td> <td style="text-align:center;">JavaScript 实用函数库</td></tr> <tr><td style="text-align:center;">dayjs</td> <td style="text-align:center;">日期处理库</td></tr> <tr><td style="text-align:center;">mathjs</td> <td style="text-align:center;">数学库</td></tr> <tr><td style="text-align:center;">jsonwebtoken</td> <td style="text-align:center;">根据给定的数据生成 token</td></tr> <tr><td style="text-align:center;">cheerio</td> <td style="text-align:center;">基于JQuery的node模块, 可用于web爬取, 解析html</td></tr> <tr><td style="text-align:center;">jsdom</td> <td style="text-align:center;">文档对象模型模拟器(一般都是配合cheerio使用)</td></tr> <tr><td style="text-align:center;">puppeteer</td> <td style="text-align:center;">生成页面 PDF, 抓取 SPA, 自动提交表单, 进行 UI 测试, 键盘输入等, 功能很强大<br>可以配合 Headless Recorder 插件进行录制操作</td></tr> <tr><td style="text-align:center;">fabric</td> <td style="text-align:center;">canvas库</td></tr> <tr><td style="text-align:center;">xlsx</td> <td style="text-align:center;">读取和写入excel</td></tr> <tr><td style="text-align:center;">javascript-obfuscator</td> <td style="text-align:center;">js代码混淆</td></tr> <tr><td style="text-align:center;">markdown-it</td> <td style="text-align:center;">markdown解析</td></tr> <tr><td style="text-align:center;">monaco-editor</td> <td style="text-align:center;">vscode web版编辑器</td></tr> <tr><td style="text-align:center;">qrcode</td> <td style="text-align:center;">生成二维码</td></tr> <tr><td style="text-align:center;">relationship.js</td> <td style="text-align:center;">亲戚关系计算</td></tr> <tr><td style="text-align:center;">js-base64</td> <td style="text-align:center;">base64编解码</td></tr> <tr><td style="text-align:center;">jsencrypt</td> <td style="text-align:center;">rsa加解密</td></tr></tbody></table> <p><strong>服务端工具包</strong></p> <table><thead><tr><th style="text-align:center;">包名</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;">xlsx</td> <td style="text-align:center;">读取和写入excel</td></tr> <tr><td style="text-align:center;">fs-extra</td> <td style="text-align:center;">封装了fs</td></tr> <tr><td style="text-align:center;">body-parser</td> <td style="text-align:center;">解析 post 请求体数据到 req.body</td></tr> <tr><td style="text-align:center;">bcrypt</td> <td style="text-align:center;">密码加密</td></tr> <tr><td style="text-align:center;">compression</td> <td style="text-align:center;">可以通过压缩大大减小响应体的大小，从而提高 Web 应用程序的速度</td></tr> <tr><td style="text-align:center;">connect-history-api-fallback</td> <td style="text-align:center;">express中适配history路由</td></tr> <tr><td style="text-align:center;">axios</td> <td style="text-align:center;">网络请求库(前后端同构)</td></tr> <tr><td style="text-align:center;">request</td> <td style="text-align:center;">node网络请求库</td></tr> <tr><td style="text-align:center;">pkg</td> <td style="text-align:center;">将 node 文件打包成 二进制文件</td></tr> <tr><td style="text-align:center;">forever</td> <td style="text-align:center;">后台持续运行 node</td></tr> <tr><td style="text-align:center;">pm2</td> <td style="text-align:center;">后台持续运行 node, 比 forever 强大</td></tr> <tr><td style="text-align:center;">winston<br>winston-daily-rotate-file</td> <td style="text-align:center;">日志库<br>根据日期分割文件名</td></tr> <tr><td style="text-align:center;">log4js</td> <td style="text-align:center;">日志库</td></tr> <tr><td style="text-align:center;">textract</td> <td style="text-align:center;">可以读取 DOCX, PDF, HTML, PPTX等数据</td></tr> <tr><td style="text-align:center;">pdf2json</td> <td style="text-align:center;">读取 PDF 数据</td></tr> <tr><td style="text-align:center;">mysql</td> <td style="text-align:center;">mysql包</td></tr> <tr><td style="text-align:center;">mongobd</td> <td style="text-align:center;">mangodb包</td></tr> <tr><td style="text-align:center;">knex</td> <td style="text-align:center;">sql语句查询构建器</td></tr> <tr><td style="text-align:center;">exceljs</td> <td style="text-align:center;">node操作excel工具库, 支持excel的几乎全部操作</td></tr> <tr><td style="text-align:center;">node-xlsx</td> <td style="text-align:center;">node读取和写入excel</td></tr> <tr><td style="text-align:center;">ws</td> <td style="text-align:center;">用于WebSocket</td></tr> <tr><td style="text-align:center;">cross-env</td> <td style="text-align:center;">跨端设置环境变量</td></tr> <tr><td style="text-align:center;">fast-glob</td> <td style="text-align:center;">根据 global 遍历文件</td></tr> <tr><td style="text-align:center;">walkdir</td> <td style="text-align:center;">遍历目录树</td></tr> <tr><td style="text-align:center;">piscina</td> <td style="text-align:center;">多线程实现</td></tr> <tr><td style="text-align:center;">node-fetch</td> <td style="text-align:center;">node中的fetch实现</td></tr> <tr><td style="text-align:center;">tsx</td> <td style="text-align:center;">直接运行 ts文件</td></tr></tbody></table> <p><strong>终端工具</strong></p> <table><thead><tr><th>包名</th> <th>作用</th></tr></thead> <tbody><tr><td>nodemon</td> <td>可以监视 node 文件的变化自动更新</td></tr> <tr><td>rimraf</td> <td>跨平台使用 UNIX 命令 <code>rm -rf</code> , 需以管理员身份安装</td></tr> <tr><td>shelljs</td> <td>执行 shell 命令</td></tr> <tr><td>zx</td> <td>更方便的编写shell命令(兼容性不是很好)</td></tr> <tr><td>commander</td> <td>命令行界面库</td></tr> <tr><td>minimist</td> <td>解析命令行参数</td></tr> <tr><td>chalk</td> <td>终端字符串美化库</td></tr> <tr><td>picocolors</td> <td>也是终端字符串美化库, 但是比 chalk 要小</td></tr> <tr><td>log-symbols</td> <td>终端图标库</td></tr> <tr><td>ora</td> <td>终端加载动画</td></tr> <tr><td>prompts</td> <td>命令行询问选择</td></tr> <tr><td>inquirer</td> <td>命令行交互</td></tr> <tr><td>figlet</td> <td>生成基于 ASCII 的艺术字</td></tr> <tr><td>progress</td> <td>进度条</td></tr> <tr><td>update-notifier</td> <td>应用更新通知</td></tr> <tr><td>which-pm-runs</td> <td>检查当前使用的包管理器</td></tr> <tr><td>bumpp</td> <td>交互式更新package版本</td></tr></tbody></table> <h2 id="nvm"><a href="#nvm" class="header-anchor">#</a> nvm</h2> <p><a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noopener noreferrer">nvm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是node版本管理器，用于管理多个活动Node.js版本的简单bash脚本，让我们可以设置默认node版本，并在不同开发环境中切换不同版本</p> <p>在安装nvm时如果本地已经安装有node了会提示是否把本地的node纳入版本管理</p> <p><code>nvm v</code> 查看版本测试是否安装成功</p> <p><img src="/note-sites/assets/img/image-20220305101949058.dbe740e3.png" alt="image-20220305101949058"></p> <h3 id="设置镜像源"><a href="#设置镜像源" class="header-anchor">#</a> 设置镜像源</h3> <p>nvm默认node镜像源是<code>https://nodejs.org/dist</code>，从默认的镜像缘源下载会很慢，所以可以通过更换镜像源加快下载</p> <ol><li>找到安装nvm的文件夹目录，打开<code>settings.txt</code>文件</li></ol> <p><img src="/note-sites/assets/img/image-20220305100920241.880365d9.png" alt=""></p> <ol start="2"><li>新增两行配置，更换<code>node</code>和<code>npm</code>的下载源为淘宝镜像源</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>node_mirror: https://npm.taobao.org/mirrors/node/ <span class="token comment"># 添加 node 镜像</span>
npm_mirror: https://npm.taobao.org/mirrors/npm/ <span class="token comment"># 添加 npm 镜像</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/note-sites/assets/img/image-20220305101241784.125be1e6.png" alt="image-20220305101241784"></p> <h3 id="安装指定版本号的node"><a href="#安装指定版本号的node" class="header-anchor">#</a> 安装指定版本号的node</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>nvm <span class="token function">install</span> <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> <span class="token comment"># 安装指定版本的node</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/note-sites/assets/img/image-20220305102552432.669bec1d.png" alt="image-20220305102552432"></p> <p>会在nvm存储文件夹下多一个对应版本号的文件</p> <p><img src="/note-sites/assets/img/image-20220305102822478.e000715f.png" alt="image-20220305102822478"></p> <p><code>node</code> <code>npm</code> 和 <code>npx</code> 都会被安装(<strong>npm 和 npx 会安装对应node版本的</strong>)</p> <p><img src="/note-sites/assets/img/image-20220305102934542.c0f04723.png" alt="image-20220305103809335"></p> <h3 id="查看所有的node版本"><a href="#查看所有的node版本" class="header-anchor">#</a> 查看所有的node版本</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>nvm <span class="token function">ls</span> available
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="列出本地的node版本目录"><a href="#列出本地的node版本目录" class="header-anchor">#</a> 列出本地的node版本目录</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>nvm <span class="token function">ls</span> <span class="token comment"># 列出node版本目录(`*`号表示当前正在使用的node版本)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/note-sites/assets/img/image-20220305102626916.c92cd6c3.png" alt="image-20220305102626916"></p> <h3 id="使用指定版本node"><a href="#使用指定版本node" class="header-anchor">#</a> 使用指定版本node</h3> <p>使用指定版本node(需要有管理员权限), npm也会同时被切换</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>nvm use <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/note-sites/assets/img/image-20220305103419728.ea62058f.png" alt="image-20220305103419728"></p> <h3 id="卸载指定版本node"><a href="#卸载指定版本node" class="header-anchor">#</a> 卸载指定版本node</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>nvm uninstall <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> <span class="token comment"># 卸载指定版本node</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="其他命令"><a href="#其他命令" class="header-anchor">#</a> 其他命令</h3> <p><code>nvm arch [32|64]</code>: 显示node是运行在32位还是64位</p> <p><code>nvm current</code>: 显示活动版本</p> <p><code>nvm install &lt;version&gt; [arch]</code>: 安装node， version是特定版本也可以是最新稳定版本latest可选参数arch指定安装32位还是64位版本，默认是系统位数可以添加<code>--insecure</code>绕过- 远程服务器的SSL</p> <p><code>nvm list [available]</code>: 显示已安装的列表可选参数available，显示可安装的所有版本<code>list</code>可简化为<code>ls</code></p> <p><code>nvm on</code>: <strong>开启</strong>node版本管理</p> <p><code>nvm off</code>: <strong>关闭</strong>node版本管理</p> <p><code>nvm proxy [url]</code>: 设置下载代理不加可选参数url，显示当前代理将url设置为none则移除代理</p> <p><code>nvm use [version] [arch]</code>: 使用制定版本node可指定32/64位</p> <p><code>nvm root [path]</code>: 设置存储不同版本node的目录如果未设置，默认使用当前目录</p> <p><code>nvm version</code>: 显示nvm版本version可简化为v</p> <p><code>nvm node_mirror [node_mirror_url]</code>: 设置node镜像默认是<code>https://nodejs.org/dist/</code>如果不写url，则使用默认url设置后可至安装目录<code>settings.txt</code>文件查看，也可直接在该文件操作</p> <p><code>nvm npm_mirror [npm_mirror_url]</code>: 设置npm镜像默认是<code>https://github.com/npm/cli/archive/</code>如果不写url，则使用默认url设置后可至安装目录settings.txt文件查看，也可直接在该文件操作</p> <h2 id="multirepo"><a href="#multirepo" class="header-anchor">#</a> multirepo</h2> <p>在传统项目开发模式中每个项目都对应单独的一个代码仓库, 这种模式称之为方式<code>MultiRepo</code></p> <p>将公共的逻辑代码抽取出来, 然后发布到<code>npm</code>, 这样其他的项目都可以通过安装依赖包进行复用</p> <h3 id="multirepo缺点"><a href="#multirepo缺点" class="header-anchor">#</a> MultiRepo缺点</h3> <p>如果依赖包里面某个功能出错了或者是需要更新, 则需要做一下几个步骤：</p> <ol><li>去修改源代码</li> <li>重新发布新包</li> <li>通知所有项目安装新版本依赖包</li></ol> <p>只是修改或者更新依赖包，就需要这么复杂的步骤，在开发过程中，修改代码和bug是不可避免的, 这样就增加了很多的开发工作, 当然也有好处那就是一个项目只负责一个部分的功能好维护</p> <h2 id="monorepo"><a href="#monorepo" class="header-anchor">#</a> monorepo</h2> <p><code>monorepo</code>就是把多个工程放到一个<code>git</code>仓库中进行管理，因此它们可以共享同一套构建流程、代码规范也可以做到统一，特别是如果存在模块间的相互引用的情况，查看代码、修改bug、调试等会更加方便</p> <blockquote><p>包管理器<code>yarn</code>和<code>pnpm</code>都支持<code>monorepo</code>, 获取社区第三方库<a href="https://github.com/lerna/lerna" target="_blank" rel="noopener noreferrer"><code>lerna</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>也可以做<code>monorepo</code></p></blockquote> <h2 id="yarn"><a href="#yarn" class="header-anchor">#</a> yarn</h2> <p><a href="https://yarnpkg.com/getting-started/migration/" target="_blank" rel="noopener noreferrer"><code>yarn</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>执行任何<code>npm script</code>都可以直接运行, 如: <code>yarn dev</code></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token function">yarn</span> <span class="token parameter variable">-g</span> <span class="token comment"># 使用`npm`安装</span>

<span class="token function">yarn</span> <span class="token parameter variable">-v</span> <span class="token comment"># 查看版本</span>

<span class="token function">yarn</span> init <span class="token comment"># 初始化 package.json</span>

<span class="token function">yarn</span> <span class="token function">install</span> <span class="token comment"># 安装依赖(可以省略install)</span>

<span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">--save</span> xxx <span class="token comment"># 安装依赖到 dependencies, --save 简写 -S</span>

<span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">--dev</span> xxx <span class="token comment"># 安装依赖到 devDependencies, --dev 简写 -D</span>

<span class="token function">yarn</span> global <span class="token function">add</span> xxx <span class="token comment"># 全局安装依赖</span>

<span class="token function">yarn</span> remove xxx <span class="token comment"># 移除依赖</span>

<span class="token function">yarn</span> global remove xxx <span class="token comment"># 移除全局依赖</span>

<span class="token function">yarn</span> upgrade xxx <span class="token comment"># 升级依赖</span>

<span class="token function">yarn</span> upgrade xxx global <span class="token comment"># 升级全局依赖</span>

<span class="token function">yarn</span> info xxx <span class="token comment"># 查看依赖信息</span>

<span class="token function">yarn</span> config get registry <span class="token comment"># 查看源</span>

<span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry http://registry.npm.taobao.org/ <span class="token comment"># 切换源</span>

<span class="token function">yarn</span> list <span class="token comment"># 查看依赖</span>

<span class="token function">yarn</span> global list <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">0</span> <span class="token comment"># 查看全局依赖</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><blockquote><p>如果是使用<code>nvm</code>进行node的版本管理后, 需要在每个<code>node版本文件</code>下都需要安装<code>yarn</code>，安装后指定版本时文件夹会新增<code>yarn</code>文件</p></blockquote> <h2 id="pnpm"><a href="#pnpm" class="header-anchor">#</a> pnpm</h2> <p><a href="https://www.pnpm.cn/" target="_blank" rel="noopener noreferrer"><code>pnpm</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>以本地缓存+软链接的方式安装<code>node_modules</code>里面的依赖, 可以大大<strong>节约磁盘空间并提升安装速度</strong>而且还可以创建<strong>扁平化</strong>的依赖结构, 避免了<code>npm</code>&quot;幽灵依赖&quot;的问题</p> <p>同样的执行任何<code>npm script</code>使用<code>pnpm</code>都可以直接运行, 如: <code>pnpm dev</code></p> <p>同样执行任何<code>npm script</code>都可以直接运行, 如: <code>pnpm dev</code></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token function">pnpm</span> <span class="token parameter variable">-g</span> <span class="token comment"># 使用`npm`安装</span>

<span class="token function">pnpm</span> <span class="token parameter variable">-v</span> <span class="token comment"># 查看版本</span>

<span class="token function">pnpm</span> init <span class="token comment"># 生成 package.json</span>

<span class="token function">pnpm</span> <span class="token function">install</span> xxx <span class="token comment"># 安装依赖</span>

<span class="token function">pnpm</span> run xxx <span class="token comment"># 运行 script 命令</span>

<span class="token function">pnpm</span> dlx create-react-app xxx <span class="token comment"># 效果类型与 npx</span>

<span class="token function">pnpm</span> config list <span class="token comment"># 查看配置</span>

<span class="token function">pnpm</span> config get registry <span class="token comment"># 查看源</span>

<span class="token function">pnpm</span> config <span class="token builtin class-name">set</span> registry http://registry.npm.taobao.org/ <span class="token comment"># 切换源</span>

<span class="token function">pnpm</span> <span class="token function">add</span> xxx <span class="token comment"># 安装依赖包到 dependencies </span>

<span class="token function">pnpm</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> xxx <span class="token comment"># 安装依赖包到devDependencies</span>

<span class="token function">pnpm</span> <span class="token function">add</span> <span class="token parameter variable">-O</span> xxx <span class="token comment"># 安装依赖包到optionalDependencies</span>

<span class="token function">pnpm</span> <span class="token function">add</span> <span class="token parameter variable">-g</span> xxx <span class="token comment"># 全局安装依赖包</span>

<span class="token function">pnpm</span> <span class="token function">install</span> <span class="token comment"># 安装项目全部依赖, install 简写 i</span>

<span class="token function">pnpm</span> update <span class="token comment"># 更新依赖包, update 简写 up</span>

<span class="token function">pnpm</span> remove xxx <span class="token comment"># 删除依赖包, remove 简写 rm</span>

<span class="token function">pnpm</span> list <span class="token comment"># 查看本地安装的依赖, list 简写 ls</span>

<span class="token function">pnpm</span> list <span class="token parameter variable">--global</span> <span class="token comment"># 查看全局安装的依赖, --global 简写 --g</span>

<span class="token function">pnpm</span> outdated <span class="token comment"># 检查过期的依赖</span>

<span class="token function">pnpm</span> publish <span class="token comment"># 发布依赖包</span>

<span class="token function">pnpm</span> <span class="token function">env</span> use <span class="token operator">&lt;</span>node版本号<span class="token operator">&gt;</span> <span class="token comment"># 管理node版本, 本地安装并使用</span>

<span class="token function">pnpm</span> <span class="token function">env</span> use <span class="token parameter variable">--global</span> <span class="token operator">&lt;</span>node版本号<span class="token operator">&gt;</span> <span class="token comment"># 管理node版本, 全局安装并使用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><blockquote><p>如果是使用<code>nvm</code>进行node的版本管理后, 需要在每个<code>node版本文件</code>下都需要安装<code>pnpm</code>，安装后指定版本时文件夹会新增<code>pnpm</code>文件</p></blockquote> <h3 id="npm或yarn-转-pnpm"><a href="#npm或yarn-转-pnpm" class="header-anchor">#</a> npm或yarn 转 pnpm</h3> <p>使用<code>pnpm import</code>命令可以从<code>npm</code>或<code>yarn</code>的锁文件生成<code>pnpm</code>的锁文件</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 删除使用 npm 或 yarn 生成的安装的node_modules</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> node_modules

<span class="token comment"># 生成 pnpm-lock.yaml(可以根据 package-lock.json 或 yarn-lock 生成)</span>
<span class="token function">pnpm</span> <span class="token function">import</span>

<span class="token comment"># 重新安装依赖</span>
<span class="token function">pnpm</span> <span class="token function">install</span>

<span class="token comment"># 删除 package-lock.json 或 yarn.lock</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> package-lock.json <span class="token comment"># rm -rf yarn.lock</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p><code>yarn</code>也有<code>import</code>命令</p></blockquote> <h3 id="monorepo-2"><a href="#monorepo-2" class="header-anchor">#</a> monorepo</h3> <p><code>pnpm</code>内置支持<code>monorepo</code>, 通过一个叫<a href="https://www.pnpm.cn/workspaces" target="_blank" rel="noopener noreferrer"><code>workspace</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的概念来实现的, 基本使用:</p> <ol><li><p>创建一个工程项目, 初始化<code>package.json</code>后设置<code>&quot;private&quot;: &quot;true&quot;</code>(防止根目录被发布出去)</p></li> <li><p>工程目录创建<code>packages</code>目录, 这个目录里面的就是各个模块</p></li> <li><p>工程目录新建<code>pnpm-workspace.yaml</code>文件, 该文件是配置<code>pnpm</code>的工作空间, 如下:</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># pnpm-workspace.yaml</span>
<span class="token key atrule">packages</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;packages/*&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>最后的项目结构如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">.</span>
├── package.json
├── packages
│   ├── pkg1
│   │   ├── package.json
│   │   ├── src
│   │   │   └── index.ts
│   │   └── tsconfig.json
│   └── pkg2
│       ├── package.json
│       ├── src
│       │   └── index.ts
│       └── tsconfig.json
├── pnpm-workspace.yaml
└── tsconfig.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol> <h4 id="安装依赖"><a href="#安装依赖" class="header-anchor">#</a> 安装依赖</h4> <p>在<code>workspace</code>中<code>pnpm</code>安装依赖如下:</p> <blockquote><p>在 <a href="https://pnpm.io/zh/workspaces" target="_blank" rel="noopener noreferrer">workspace<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>内, <code>pnpm install</code> 会下载项目所有依赖, 如果想禁用这个行为, <code>.npmrc</code>配置 <a href="https://pnpm.io/zh/npmrc#recursive-install" target="_blank" rel="noopener noreferrer"><code>recursive-install = false</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h5 id="全局的公共依赖包"><a href="#全局的公共依赖包" class="header-anchor">#</a> 全局的公共依赖包</h5> <p>全局的公共依赖包, 是安装到根目录中的, 如: <code>rollup</code>, <code>typescript</code>, <code>vue</code>等</p> <p><code>pnpm</code>中提供了<a href="https://pnpm.io/zh/pnpm-cli#-w---workspace-root" target="_blank" rel="noopener noreferrer"><code>-w</code>(<code>--workspace-root</code>)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>参数, 可以将依赖安装到工程的根目录下, 作为<strong>所有</strong> 模块的公共依赖, 如:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 安装依赖到根目录的开发依赖中(默认安装到生产依赖)</span>
<span class="token function">pnpm</span> <span class="token function">add</span> typescript <span class="token parameter variable">-w</span> 

<span class="token comment"># 安装依赖到根目录的开发依赖</span>
<span class="token function">pnpm</span> <span class="token function">add</span> rollup <span class="token parameter variable">-wD</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="安装到某个模块中"><a href="#安装到某个模块中" class="header-anchor">#</a> 安装到某个模块中</h5> <p><code>pnpm</code>中提供了<a href="https://www.pnpm.cn/filtering" target="_blank" rel="noopener noreferrer"><code>--filter</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>参数, 可以用来对特定的package进行某些操作, 如安装依赖, 执行命令等, 下面是安装命令的基本使用:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 安装依赖到 pkg1 的开发依赖中</span>
<span class="token function">pnpm</span> <span class="token function">add</span> rollup <span class="token parameter variable">-D</span> <span class="token parameter variable">--filter</span> pkg1

<span class="token comment"># 安装依赖到 pkg1 的生产依赖中</span>
<span class="token function">pnpm</span> <span class="token function">add</span> chalk <span class="token parameter variable">-S</span> <span class="token parameter variable">--filter</span> pkg1

<span class="token comment"># 删除 pkg1 的依赖</span>
<span class="token function">pnpm</span> remove chalk <span class="token parameter variable">--filter</span> pkg1 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>注意<code>--filter</code> 参数跟着的是模块的 <code>package.json</code> 里的 <code>name</code> 字段, <strong>而不是</strong>模块目录名</p></blockquote> <h6 id="filter的其他操作"><a href="#filter的其他操作" class="header-anchor">#</a> filter的其他操作</h6> <p><code>--filter</code>除了安装依赖, 可以执行特定模块的命令, 如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 执行 pkg1 里面的 test 命令, 等价于 cd packages/pkg1 &amp;&amp; npm run test</span>
<span class="token function">pnpm</span> <span class="token parameter variable">--filter</span> pkg1 <span class="token builtin class-name">test</span> <span class="token comment"># 或 pnpm test --filter pkg1</span>

<span class="token comment"># 执行 packages 目录下所有包的 test 命令</span>
<span class="token function">pnpm</span> <span class="token parameter variable">--filter</span> <span class="token string">'./packages/**'</span> <span class="token builtin class-name">test</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>更多操作可见官方文档<a href="https://www.pnpm.cn/filtering" target="_blank" rel="noopener noreferrer">filtering<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h5 id="模块之间的相互依赖"><a href="#模块之间的相互依赖" class="header-anchor">#</a> 模块之间的相互依赖</h5> <p>一个模块依赖另外的一个或多个模块在<code>monorepo</code>中是很常见, 比如 <code>pkg1</code> 中将 <code>pkg2</code> 作为依赖进行安装, <code>pnpm</code>提供了基于<a href="https://www.pnpm.cn/workspaces#workspace-protocol-workspace" target="_blank" rel="noopener noreferrer"><code>workspace:协议</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 可以很方便的在模块内部进行相互引用, 比如 <code>pkg1</code> 引用 <code>pkg2</code> 作为依赖, 命令如下:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 安装 pkg2 到 pkg1 里(默认安装到生产依赖)</span>
<span class="token function">pnpm</span> <span class="token function">add</span> pkg2 <span class="token parameter variable">-r</span> <span class="token parameter variable">--filter</span> pkg1

<span class="token comment"># 安装 pkg2 到 pkg1 里的开发依赖</span>
<span class="token function">pnpm</span> <span class="token function">add</span> pkg2 <span class="token parameter variable">-rD</span> <span class="token parameter variable">--filter</span> pkg1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>此时可以看到<code>pkg1</code>里的<code>package.json</code>里出现了<code>pkg2</code>的依赖项以<code>workspace:</code>开头, 后面跟着具体的版本号, 如下:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>...
<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;pkg2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;workspace:^1.0.0&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查看<code>pkg2</code>的<code>node_modules</code>里面出现了<code>pkg1</code>其实这个就是指向<code>packages/pkg1</code>的软链接,</p> <p>在设置依赖版本的时候推荐用<code>workspace:*</code>, 这样就可以保持依赖的版本是工作空间里最新版本，不需要每次手动更新依赖版本,</p> <p>当 <code>pnpm publish</code> 的时候, 会自动将 <code>package.json</code> 中的 <code>workspace</code> 修正为对应的版本号</p> <h4 id="只允许pnpm"><a href="#只允许pnpm" class="header-anchor">#</a> 只允许pnpm</h4> <p>当在项目中使用 <code>pnpm</code> 时, 如果不希望用户使用 <code>yarn</code> 或者 <code>npm</code> 安装依赖, 可以在工程根目录下的 <code>package.json</code>里添加一个<code>preinstall</code>命令, 如下:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;preinstall&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx only-allow pnpm&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://docs.npmjs.com/cli/v9/using-npm/scripts/" target="_blank" rel="noopener noreferrer">preinstall<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 脚本会在 <code>install</code> 之前执行, 只要有人运行 <code>npm install</code> 或 <code>yarn install</code>，就会调用 <a href="https://github.com/pnpm/only-allow" target="_blank" rel="noopener noreferrer">only-allow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 去限制只允许使用 <code>pnpm</code> 安装依赖</p> <h3 id="release工作流"><a href="#release工作流" class="header-anchor">#</a> release工作流</h3> <p><a href="https://blog.csdn.net/waynelu92/article/details/73604172" target="_blank" rel="noopener noreferrer">软件开发版本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>可以使用<a href="https://github.com/antfu/bumpp" target="_blank" rel="noopener noreferrer"><code>bumpp</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>包来快速管理版本, 发布依赖包使用<code>pnpm publish</code>或者<code>pnpm -r publish</code>(发布所有的)命令即可</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-bac73764 data-v-c0d124fa><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm的介绍" class="sidebar-link reco-side-npm的介绍" data-v-bac73764>npm的介绍</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#创建包管理文件" class="sidebar-link reco-side-创建包管理文件" data-v-bac73764>创建包管理文件</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm常用命令" class="sidebar-link reco-side-npm常用命令" data-v-bac73764>npm常用命令</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#常用命令" class="sidebar-link reco-side-常用命令" data-v-bac73764>常用命令</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#查看命令" class="sidebar-link reco-side-查看命令" data-v-bac73764>查看命令</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#配置淘宝镜像" class="sidebar-link reco-side-配置淘宝镜像" data-v-bac73764>配置淘宝镜像</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#其他资源镜像" class="sidebar-link reco-side-其他资源镜像" data-v-bac73764>其他资源镜像</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#cmd窗口" class="sidebar-link reco-side-cmd窗口" data-v-bac73764>CMD窗口</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#常用的命令" class="sidebar-link reco-side-常用的命令" data-v-bac73764>常用的命令</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#环境变量-window系统变量" class="sidebar-link reco-side-环境变量-window系统变量" data-v-bac73764>环境变量(window系统变量)</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm-script" class="sidebar-link reco-side-npm-script" data-v-bac73764>npm script</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#使用npm-script" class="sidebar-link reco-side-使用npm-script" data-v-bac73764>使用npm script</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#原理" class="sidebar-link reco-side-原理" data-v-bac73764>原理</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#通配符" class="sidebar-link reco-side-通配符" data-v-bac73764>通配符</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#传参" class="sidebar-link reco-side-传参" data-v-bac73764>传参</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#执行顺序" class="sidebar-link reco-side-执行顺序" data-v-bac73764>执行顺序</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#默认值" class="sidebar-link reco-side-默认值" data-v-bac73764>默认值</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#钩子" class="sidebar-link reco-side-钩子" data-v-bac73764>钩子</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#变量" class="sidebar-link reco-side-变量" data-v-bac73764>变量</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npx" class="sidebar-link reco-side-npx" data-v-bac73764>npx</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npx查找原理" class="sidebar-link reco-side-npx查找原理" data-v-bac73764>npx查找原理</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npmrc" class="sidebar-link reco-side-npmrc" data-v-bac73764>.npmrc</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm-开发工具包" class="sidebar-link reco-side-npm-开发工具包" data-v-bac73764>npm 开发工具包</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm-本地开发" class="sidebar-link reco-side-npm-本地开发" data-v-bac73764>npm 本地开发</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm发布" class="sidebar-link reco-side-npm发布" data-v-bac73764>npm发布</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm-create" class="sidebar-link reco-side-npm-create" data-v-bac73764>npm create</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm-init" class="sidebar-link reco-side-npm-init" data-v-bac73764>npm init</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm-实用包" class="sidebar-link reco-side-npm-实用包" data-v-bac73764>npm 实用包</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#nvm" class="sidebar-link reco-side-nvm" data-v-bac73764>nvm</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#设置镜像源" class="sidebar-link reco-side-设置镜像源" data-v-bac73764>设置镜像源</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#安装指定版本号的node" class="sidebar-link reco-side-安装指定版本号的node" data-v-bac73764>安装指定版本号的node</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#查看所有的node版本" class="sidebar-link reco-side-查看所有的node版本" data-v-bac73764>查看所有的node版本</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#列出本地的node版本目录" class="sidebar-link reco-side-列出本地的node版本目录" data-v-bac73764>列出本地的node版本目录</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#使用指定版本node" class="sidebar-link reco-side-使用指定版本node" data-v-bac73764>使用指定版本node</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#卸载指定版本node" class="sidebar-link reco-side-卸载指定版本node" data-v-bac73764>卸载指定版本node</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#其他命令" class="sidebar-link reco-side-其他命令" data-v-bac73764>其他命令</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#multirepo" class="sidebar-link reco-side-multirepo" data-v-bac73764>multirepo</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#multirepo缺点" class="sidebar-link reco-side-multirepo缺点" data-v-bac73764>MultiRepo缺点</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#monorepo" class="sidebar-link reco-side-monorepo" data-v-bac73764>monorepo</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#yarn" class="sidebar-link reco-side-yarn" data-v-bac73764>yarn</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#pnpm" class="sidebar-link reco-side-pnpm" data-v-bac73764>pnpm</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#npm或yarn-转-pnpm" class="sidebar-link reco-side-npm或yarn-转-pnpm" data-v-bac73764>npm或yarn 转 pnpm</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#monorepo-2" class="sidebar-link reco-side-monorepo-2" data-v-bac73764>monorepo</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/Node/Npm.html#release工作流" class="sidebar-link reco-side-release工作流" data-v-bac73764>release工作流</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-2a01419c data-v-2a01419c><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-2a01419c><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-2a01419c></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-2a01419c></path></svg></div></div></div>
    <script src="/note-sites/assets/js/app.f770c40a.js" defer></script><script src="/note-sites/assets/js/5.2f78da70.js" defer></script><script src="/note-sites/assets/js/1.9e97c91a.js" defer></script><script src="/note-sites/assets/js/13.8288ad20.js" defer></script>
  </body>
</html>
