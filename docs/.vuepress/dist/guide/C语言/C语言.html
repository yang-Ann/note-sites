<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C语言 | An的个人笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/note-sites/favicon.ico">
    <script type="module" src="/note-sites/js/index.js"></script>
    <meta name="description" content="记录学习笔记">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/note-sites/assets/css/0.styles.a5e0cdd4.css" as="style"><link rel="preload" href="/note-sites/assets/js/app.ed5079c9.js" as="script"><link rel="preload" href="/note-sites/assets/js/5.b61defdf.js" as="script"><link rel="preload" href="/note-sites/assets/js/1.9e97c91a.js" as="script"><link rel="preload" href="/note-sites/assets/js/29.44e12246.js" as="script"><link rel="prefetch" href="/note-sites/assets/js/10.876f14db.js"><link rel="prefetch" href="/note-sites/assets/js/11.a01237ec.js"><link rel="prefetch" href="/note-sites/assets/js/12.cc76d3e0.js"><link rel="prefetch" href="/note-sites/assets/js/13.515b1d7f.js"><link rel="prefetch" href="/note-sites/assets/js/14.6139debb.js"><link rel="prefetch" href="/note-sites/assets/js/15.abccf30b.js"><link rel="prefetch" href="/note-sites/assets/js/16.0595bdb6.js"><link rel="prefetch" href="/note-sites/assets/js/17.86802a0a.js"><link rel="prefetch" href="/note-sites/assets/js/18.2db992b3.js"><link rel="prefetch" href="/note-sites/assets/js/19.637f8ced.js"><link rel="prefetch" href="/note-sites/assets/js/20.c05213b8.js"><link rel="prefetch" href="/note-sites/assets/js/21.2c617288.js"><link rel="prefetch" href="/note-sites/assets/js/22.be9f6ca9.js"><link rel="prefetch" href="/note-sites/assets/js/23.80bbcbd3.js"><link rel="prefetch" href="/note-sites/assets/js/24.4aba7625.js"><link rel="prefetch" href="/note-sites/assets/js/25.91591d19.js"><link rel="prefetch" href="/note-sites/assets/js/26.095ab067.js"><link rel="prefetch" href="/note-sites/assets/js/27.4fa5322b.js"><link rel="prefetch" href="/note-sites/assets/js/28.bdbe9bfa.js"><link rel="prefetch" href="/note-sites/assets/js/3.a9c7fc87.js"><link rel="prefetch" href="/note-sites/assets/js/30.b36f03d2.js"><link rel="prefetch" href="/note-sites/assets/js/31.930cc53f.js"><link rel="prefetch" href="/note-sites/assets/js/32.2139bb15.js"><link rel="prefetch" href="/note-sites/assets/js/33.83f9e6fa.js"><link rel="prefetch" href="/note-sites/assets/js/34.817f18ab.js"><link rel="prefetch" href="/note-sites/assets/js/35.7dfe1ab1.js"><link rel="prefetch" href="/note-sites/assets/js/36.43ee11e7.js"><link rel="prefetch" href="/note-sites/assets/js/37.8c74bcf8.js"><link rel="prefetch" href="/note-sites/assets/js/38.ef669d6c.js"><link rel="prefetch" href="/note-sites/assets/js/39.06e37409.js"><link rel="prefetch" href="/note-sites/assets/js/4.11c71fac.js"><link rel="prefetch" href="/note-sites/assets/js/40.faeb9d03.js"><link rel="prefetch" href="/note-sites/assets/js/41.954001e2.js"><link rel="prefetch" href="/note-sites/assets/js/42.004a4fb6.js"><link rel="prefetch" href="/note-sites/assets/js/43.c93ecbae.js"><link rel="prefetch" href="/note-sites/assets/js/44.dd0a3deb.js"><link rel="prefetch" href="/note-sites/assets/js/45.cfbf833c.js"><link rel="prefetch" href="/note-sites/assets/js/46.4a9dd838.js"><link rel="prefetch" href="/note-sites/assets/js/47.582e9935.js"><link rel="prefetch" href="/note-sites/assets/js/48.310adb08.js"><link rel="prefetch" href="/note-sites/assets/js/6.ae94e05a.js"><link rel="prefetch" href="/note-sites/assets/js/7.08a27202.js"><link rel="prefetch" href="/note-sites/assets/js/8.cfaee78e.js"><link rel="prefetch" href="/note-sites/assets/js/9.f1c18954.js">
    <link rel="stylesheet" href="/note-sites/assets/css/0.styles.a5e0cdd4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-c0d124fa><div data-v-c0d124fa><div class="password-shadow password-wrapper-out" style="display:none;" data-v-30dff670 data-v-c0d124fa data-v-c0d124fa><h3 class="title" data-v-30dff670>An的个人笔记</h3> <p class="description" data-v-30dff670>记录学习笔记</p> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2024
      </a></span></div></div> <div class="hide" data-v-c0d124fa><header class="navbar" data-v-c0d124fa><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note-sites/" class="home-link router-link-active"><!----> <span class="site-name">An的个人笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/代理服务器/" class="nav-link"><i class="undefined"></i>
  代理服务器
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c0d124fa></div> <aside class="sidebar" data-v-c0d124fa><div class="personal-info-wrapper" data-v-5c49c935 data-v-c0d124fa><img src="/note-sites/assets/img/logo.png" alt="author-avatar" class="personal-img" data-v-5c49c935> <h3 class="name" data-v-5c49c935>
    An
  </h3> <div class="num" data-v-5c49c935><div data-v-5c49c935><h3 data-v-5c49c935>37</h3> <h6 data-v-5c49c935>文章</h6></div> <div data-v-5c49c935><h3 data-v-5c49c935>29</h3> <h6 data-v-5c49c935>标签</h6></div></div> <ul class="social-links" data-v-5c49c935><li class="social-item" data-v-5c49c935><i class="iconfont reco-github" style="color:#67cc86;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-mayun" style="color:#f47e60;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-juejin" style="color:#e15b64;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-npm" style="color:#f8b26a;" data-v-5c49c935></i></li><li class="social-item" data-v-5c49c935><i class="iconfont reco-bilibili" style="color:#abbd81;" data-v-5c49c935></i></li></ul> <hr data-v-5c49c935></div> <nav class="nav-links"><div class="nav-item"><a href="/note-sites/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/note-sites/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  全部
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/categories/第三方库/" class="nav-link"><i class="undefined"></i>
  第三方库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/前端基础/" class="nav-link"><i class="undefined"></i>
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程语言/" class="nav-link"><i class="undefined"></i>
  编程语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/版本管理/" class="nav-link"><i class="undefined"></i>
  版本管理
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Shell/" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/代理服务器/" class="nav-link"><i class="undefined"></i>
  代理服务器
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/web开发框架/" class="nav-link"><i class="undefined"></i>
  web开发框架
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/混合开发/" class="nav-link"><i class="undefined"></i>
  混合开发
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/打包工具/" class="nav-link"><i class="undefined"></i>
  打包工具
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/小程序/" class="nav-link"><i class="undefined"></i>
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/编程干货/" class="nav-link"><i class="undefined"></i>
  编程干货
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/categories/系统语言/" class="nav-link"><i class="undefined"></i>
  系统语言
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      前端
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/HTML/HTML.html" class="nav-link"><i class="undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/CSS/CSS.html" class="nav-link"><i class="undefined"></i>
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/JavaScript/JavaScript.html" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/TypeScript/TypeScript.html" class="nav-link"><i class="undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><h4>其他</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note-sites/guide/JQuery/JQuery.html" class="nav-link"><i class="undefined"></i>
  JQuery
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/JavaScript/AJAX.html" class="nav-link"><i class="undefined"></i>
  AJAX
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Axios/Axios.html" class="nav-link"><i class="undefined"></i>
  Axios
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/webpack/webpack.html" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Three/Three.html" class="nav-link"><i class="undefined"></i>
  Three
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/Electron.html" class="nav-link"><i class="undefined"></i>
  electron
</a></li><li class="dropdown-subitem"><a href="/note-sites/guide/Electron/VS Code.html" class="nav-link"><i class="undefined"></i>
  VS Code
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/设计模式.html" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Node.html" class="nav-link"><i class="undefined"></i>
  Node
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Node/Npm.html" class="nav-link"><i class="undefined"></i>
  npm
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue2.html" class="nav-link"><i class="undefined"></i>
  Vue2
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Vue/Vue3.html" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-16.html" class="nav-link"><i class="undefined"></i>
  React-16
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/React/React-18.html" class="nav-link"><i class="undefined"></i>
  React-18
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/微信小程序/微信小程序.html" class="nav-link"><i class="undefined"></i>
  微信小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-other"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note-sites/guide/Git/Git.html" class="nav-link"><i class="undefined"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/C语言/C语言.html" class="nav-link"><i class="undefined"></i>
  C语言
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Java/Java.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/ArcGIS/ArcGIS.html" class="nav-link"><i class="undefined"></i>
  ArcGIS
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Linux/Shell.html" class="nav-link"><i class="undefined"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/note-sites/guide/Rust/Rust.html" class="nav-link"><i class="undefined"></i>
  Rust
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      博客生成工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress-theme-reco.recoluan.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  vuepress-theme-reco
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-30dff670 data-v-c0d124fa><h3 class="title" data-v-30dff670>C语言</h3> <!----> <label id="box" class="inputBox" data-v-30dff670><input type="password" value="" data-v-30dff670> <span data-v-30dff670>Konck! Knock!</span> <button data-v-30dff670>OK</button></label> <div class="footer" data-v-30dff670><span data-v-30dff670><i class="iconfont reco-theme" data-v-30dff670></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-30dff670>vuePress-theme-reco</a></span> <span data-v-30dff670><i class="iconfont reco-copyright" data-v-30dff670></i> <a data-v-30dff670><span data-v-30dff670>An</span>
          
        <!---->
        2024
      </a></span></div></div> <div data-v-c0d124fa><div data-v-c0d124fa><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">C语言</h1> <div data-v-7b22c628><i class="iconfont reco-account" data-v-7b22c628><span data-v-7b22c628>An</span></i> <i class="iconfont reco-date" data-v-7b22c628><span data-v-7b22c628>2022/3/5</span></i> <!----> <i class="tags iconfont reco-tag" data-v-7b22c628><span class="tag-item" data-v-7b22c628>C</span></i></div></div> <div class="theme-reco-content content__default"><div><h1 id="c语言"><a class="header-anchor" href="#c语言">#</a> C语言</h1> <p></p><div class="table-of-contents"><ul><li><a href="#程序结构-https-www-runoob-com-cprogramming-c-program-structure-html">程序结构</a></li><li><a href="#常用内置函数">常用内置函数</a><ul><li><a href="#printf-https-www-runoob-com-cprogramming-c-function-printf-html">printf</a></li><li><a href="#scanf-https-www-runoob-com-cprogramming-c-function-sprintf-html">scanf</a></li><li><a href="#rand">rand</a></li></ul></li><li><a href="#数据类型-https-www-runoob-com-cprogramming-c-data-types-html">数据类型</a><ul><li><a href="#整数">整数</a><ul><li><a href="#计算机内部表达负数">计算机内部表达负数</a></li><li><a href="#数的范围">数的范围</a></li><li><a href="#unsigned">unsigned</a></li><li><a href="#整数越界">整数越界</a></li><li><a href="#整数的输入输出">整数的输入输出</a></li><li><a href="#_8进制和16进制">8进制和16进制</a></li></ul></li><li><a href="#浮点数">浮点数</a><ul><li><a href="#浮动数输入输出">浮动数输入输出</a></li><li><a href="#输出精度">输出精度</a></li><li><a href="#浮动运算精度">浮动运算精度</a></li></ul></li><li><a href="#字符类型">字符类型</a><ul><li><a href="#bool">bool</a></li></ul></li></ul></li><li><a href="#sizeof">sizeof</a></li><li><a href="#循环-https-www-runoob-com-cprogramming-c-loops-html">循环</a><ul><li><a href="#switch-语句">switch 语句</a></li><li><a href="#goto">goto</a></li></ul></li><li><a href="#转义字符-https-www-runoob-com-cprogramming-c-constants-html">转义字符</a></li><li><a href="#类型转换">类型转换</a><ul><li><a href="#运算自动转换">运算自动转换</a></li><li><a href="#输入输出转换">输入输出转换</a></li><li><a href="#强制类型转换">强制类型转换</a></li></ul></li><li><a href="#函数-https-www-runoob-com-cprogramming-c-functions-html">函数</a><ul><li><a href="#函数的原型">函数的原型</a><ul><li><a href="#函数原型的定义问题">函数原型的定义问题:</a></li><li><a href="#main函数">main函数</a></li></ul></li><li><a href="#作用域-https-www-runoob-com-cprogramming-c-scope-rules-html">作用域</a><ul><li><a href="#局部变量-本地变量">局部变量 (本地变量)</a></li><li><a href="#全局变量">全局变量</a></li><li><a href="#全局变量的初始化">全局变量的初始化</a></li></ul></li><li><a href="#静态全局变量">静态全局变量</a></li><li><a href="#变量的生存期和作用域">变量的生存期和作用域</a></li></ul></li><li><a href="#数组-https-www-runoob-com-cprogramming-c-arrays-html">数组</a><ul><li><a href="#数组的有效下标范围">数组的有效下标范围</a></li><li><a href="#数组的赋值">数组的赋值</a></li><li><a href="#数组作为函数的参数-形参-时">数组作为函数的参数(形参)时:</a></li><li><a href="#二维数组的初始化">二维数组的初始化</a></li></ul></li><li><a href="#运算符">运算符&amp;</a><ul><li><a href="#不能取的地址">&amp;不能取的地址</a></li><li><a href="#数组的地址">数组的地址</a></li></ul></li><li><a href="#指针-https-www-runoob-com-cprogramming-c-pointers-html">指针</a><ul><li><a href="#指针变量">指针变量</a></li><li><a href="#作为参数的指针">作为参数的指针</a></li><li><a href="#返回指针的函数">返回指针的函数</a></li><li><a href="#指针的运算符-和">指针的运算符 &amp; 和 *</a></li><li><a href="#指针的使用">指针的使用:</a></li><li><a href="#传入函数的数组">传入函数的数组</a></li><li><a href="#指针和const">指针和const</a><ul><li><a href="#指针是const">指针是const</a></li></ul></li><li><a href="#非const的值转换为const">非const的值转换为const</a><ul><li><a href="#const数组">const数组</a></li><li><a href="#保护数组的值">保护数组的值</a></li></ul></li><li><a href="#指针运算">指针运算</a><ul><li><a href="#p">*p++</a></li><li><a href="#指针比较">指针比较</a></li><li><a href="#_0地址">0地址</a></li></ul></li><li><a href="#指针的类型">指针的类型</a><ul><li><a href="#指针的类型转换">指针的类型转换</a></li></ul></li><li><a href="#指针的使用场景">指针的使用场景</a><ul><li><a href="#malloc">malloc</a><ul><li><a href="#malloc-可以申请的最大内存空间">malloc 可以申请的最大内存空间</a></li></ul></li><li><a href="#free">free</a><ul><li><a href="#free常见问题">free常见问题</a></li></ul></li></ul></li></ul></li><li><a href="#字符串-https-www-runoob-com-cprogramming-c-strings-html">字符串</a><ul><li><a href="#字符串常量">字符串常量</a><ul><li><a href="#字符串常量的一些问题">字符串常量的一些问题</a></li></ul></li><li><a href="#字符串赋值">字符串赋值</a></li><li><a href="#字符串输入和输出">字符串输入和输出</a><ul><li><a href="#安全的输入">安全的输入</a></li><li><a href="#常见错误">常见错误</a><ul><li><a href="#字符串指针未初始化">字符串指针未初始化</a></li><li><a href="#空字符串">空字符串</a></li></ul></li><li><a href="#程序参数">程序参数</a></li><li><a href="#putchar">putchar</a></li><li><a href="#getchar">getchar</a></li><li><a href="#利用-putchar-和-getchar-行编辑">利用 putchar 和 getchar 行编辑</a></li></ul></li></ul></li><li><a href="#string-h-https-www-runoob-com-cprogramming-c-standard-library-string-h-html">string.h</a><ul><li><a href="#strlen-https-www-runoob-com-cprogramming-c-function-strlen-html">strlen</a><ul><li><a href="#strcmp-https-www-runoob-com-cprogramming-c-function-strcmp-html">strcmp</a><ul><li><a href="#strncmp">strncmp</a></li></ul></li></ul></li><li><a href="#strcpy-https-www-runoob-com-cprogramming-c-function-memcpy-html">strcpy</a><ul><li><a href="#复制一个字符串">复制一个字符串</a></li></ul></li><li><a href="#strcat-https-www-runoob-com-cprogramming-c-function-strcat-html">strcat</a></li><li><a href="#strcpy-和-strcat-的安全问题">strcpy 和 strcat 的安全问题</a></li><li><a href="#strchr-https-www-runoob-com-cprogramming-c-function-strchr-html">strchr</a><ul><li><a href="#strrchr-https-www-runoob-com-cprogramming-c-function-strrchr-html">strrchr</a></li><li><a href="#找第二个指定字符串">找第二个指定字符串</a></li></ul></li></ul></li><li><a href="#枚举-https-www-runoob-com-cprogramming-c-enum-html">枚举</a><ul><li><a href="#指定枚举量">指定枚举量</a></li></ul></li><li><a href="#结构类型-https-www-runoob-com-cprogramming-c-structures-html">结构类型</a><ul><li><a href="#声明结构类型">声明结构类型</a><ul><li><a href="#形式一">形式一</a></li><li><a href="#形式二">形式二</a></li><li><a href="#形式三">形式三</a></li></ul></li><li><a href="#结构的初始化">结构的初始化</a></li><li><a href="#结构成员">结构成员</a></li><li><a href="#结构运算">结构运算</a></li><li><a href="#结构指针">结构指针</a></li><li><a href="#结构作为函数参数">结构作为函数参数</a></li><li><a href="#指针访问结构里的成员">指针访问结构里的成员</a></li><li><a href="#结构中的结构">结构中的结构</a></li></ul></li><li><a href="#自定义数据类型">自定义数据类型</a></li><li><a href="#联合体-共同体">联合体 (共同体)</a></li><li><a href="#define">\#define</a><ul><li><a href="#预先定义的宏">预先定义的宏</a></li><li><a href="#携带参数的宏">携带参数的宏</a></li><li><a href="#带参数的宏定义原则">带参数的宏定义原则</a></li></ul></li><li><a href="#项目">项目</a><ul><li><a href="#头文件">头文件</a></li><li><a href="#include">\#include</a></li><li><a href="#使用-或">使用 &quot;&quot; 或 &lt;&gt;</a></li><li><a href="#include的误区">#include的误区</a></li><li><a href="#头文件中不对外公开的函数">头文件中不对外公开的函数</a></li><li><a href="#头文件定义全局变量">头文件定义全局变量</a></li><li><a href="#声明和定义">声明和定义</a></li></ul></li><li><a href="#格式化输入输出">格式化输入输出</a><ul><li><a href="#printf-和-scanf-的返回值">printf 和 scanf 的返回值</a></li></ul></li><li><a href="#文件的输入输出">文件的输入输出</a><ul><li><a href="#fopen-https-www-runoob-com-cprogramming-c-function-fopen-html">fopen</a></li></ul></li><li><a href="#二进制文件">二进制文件</a><ul><li><a href="#文本-和-二进制">文本 和 二进制</a></li><li><a href="#程序为什么要文件">程序为什么要文件</a></li><li><a href="#二进制读写">二进制读写</a><ul><li><a href="#fread-https-www-runoob-com-cprogramming-c-function-fread-html">fread</a></li><li><a href="#fwrite-https-www-runoob-com-cprogramming-c-function-fwrite-html">fwrite</a></li><li><a href="#文件定位">文件定位</a><ul><li><a href="#ftell-https-www-runoob-com-cprogramming-c-function-ftell-html">ftell</a></li><li><a href="#fseek-https-www-runoob-com-cprogramming-c-function-fseek-html">fseek</a></li></ul></li></ul></li></ul></li><li><a href="#按位运算-https-www-runoob-com-w3cnote-bit-operation-html">按位运算</a><ul><li><a href="#按位与">按位与 &amp;</a></li><li><a href="#按位或">按位或 |</a></li><li><a href="#按位取反">按位取反 ~</a></li><li><a href="#逻辑运算-和-按位运算">逻辑运算 和 按位运算</a></li><li><a href="#按位异或">按位异或 ^</a></li><li><a href="#左移">左移 &lt;&lt;</a></li><li><a href="#右移">右移 &gt;&gt;</a></li><li><a href="#位段">位段</a></li></ul></li></ul></div><p></p> <h2 id="程序结构"><a class="header-anchor" href="#程序结构">#</a> <a href="https://www.runoob.com/cprogramming/c-program-structure.html" target="_blank" rel="noopener noreferrer">程序结构<OutboundLink></OutboundLink></a></h2> <p><a href="https://www.runoob.com/cprogramming/c-standard-library-stdio-h.html" target="_blank" rel="noopener noreferrer">stdio.h<OutboundLink></OutboundLink></a> 标准库</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="常用内置函数"><a class="header-anchor" href="#常用内置函数">#</a> 常用内置函数</h2> <h3 id="printf"><a class="header-anchor" href="#printf">#</a> <a href="https://www.runoob.com/cprogramming/c-function-printf.html" target="_blank" rel="noopener noreferrer">printf<OutboundLink></OutboundLink></a></h3> <p>格式化输出指定的类型</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// %d 说明后面有一个整数要输出在这个位置上</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token operator">+</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;23+43=%dn&quot;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token operator">+</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="scanf"><a class="header-anchor" href="#scanf">#</a> <a href="https://www.runoob.com/cprogramming/c-function-sprintf.html" target="_blank" rel="noopener noreferrer">scanf<OutboundLink></OutboundLink></a></h3> <p>scanf函数可以输入</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> price <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;请输入: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// scanf 将读取到的整数(%d)赋值给 price</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;你输入的值是%d\n&quot;</span><span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 还可以接受多个输入</span>
<span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;请输入两个整数: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d + %d = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>注意点:
<ul><li>scanf括号里写什么格式, scanf 就必须要读取到什么格式的数据, 如:
<ol><li><code>scanf(&quot;%d,%d&quot;, &amp;a, &amp;b);</code> 接受的输入必须是 <code>整数1,整数2</code></li> <li><code>scanf(&quot;%d %d,&quot;, &amp;a, &amp;b);</code> 接受的输入必须是 <code>整数1 整数2,</code></li> <li><code>scanf(&quot;hello %d %d&quot;, &amp;a, &amp;b);</code> 接受的输入必须是 <code>hello 整数1 整数2</code></li></ol></li></ul></li></ul> <h3 id="rand"><a class="header-anchor" href="#rand">#</a> rand</h3> <p>随机生成一个整数</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span> </span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language- line-numbers-mode"><pre v-pre="" class="language-text"><code>\n 换行
\t 制表符
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="数据类型"><a class="header-anchor" href="#数据类型">#</a> <a href="https://www.runoob.com/cprogramming/c-data-types.html" target="_blank" rel="noopener noreferrer">数据类型<OutboundLink></OutboundLink></a></h2> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 定义变量</span>
<span class="token keyword">int</span> a<span class="token punctuation">;</span> 
<span class="token keyword">int</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>
<span class="token comment">// 定义常量</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> AMOUNT <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="整数"><a class="header-anchor" href="#整数">#</a> 整数</h3> <p>chart: 1字节 -128 ~ 127</p> <p>short: 2字节 -32768 ~ 32767</p> <p>init: 取决于编译器(CPU), 通常的意义是&quot; 一个字 &quot;</p> <p>long: 4字节</p> <p>long long: 8字节</p> <blockquote><p>没有特殊需要, 只使用 int 就可以了</p></blockquote> <blockquote><p>c语言中没有布尔值类型, 可以使用1或者0表示, 1表示 true, 0表示 false</p></blockquote> <h4 id="计算机内部表达负数"><a class="header-anchor" href="#计算机内部表达负数">#</a> 计算机内部表达负数</h4> <p>使用补码的形式</p> <p>希望 -1 + 1 —&gt; 0
0 -&gt; 00000000
1 -&gt; 00000001
11111111 + 00000001 -&gt; 1 00000000</p> <p>因为 0 - 1 -&gt; -1, 所以, -1=
1 0000000 - 00000001 -&gt; 11111111</p> <p>111111111当作纯二进制看待时, 是255, 被当作补码看待时是-1
同理, 对于-a, 其补码就是0-a, 实际是 <strong>2<sup>n</sup>-a</strong>, n是这种类型的位数</p> <blockquote><p>补码的意义就是那补码和原吗可以加出一个溢出的 &quot; 零 &quot;</p></blockquote> <h4 id="数的范围"><a class="header-anchor" href="#数的范围">#</a> 数的范围</h4> <p>对于一个字节(8位), 可以表达的是:
00000000 - 11111111</p> <p>其中
00000000 &gt; 0
11111111 ~ 100000000 -&gt; -1 ~ -128 // 负数范围
00000001 ~ 01111111 -&gt; 1 ~ 127 // 正数范围</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;c=%d, i=%d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c=-1, i=255</span>
<span class="token comment">// char 1个字节 11111111 -&gt; -1(最高位为1是负数)</span>
<span class="token comment">// int 8个字节 00000000 00000000 00000000 11111111 -&gt; 255</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>计算一个整数类型的范围: <strong>-2<sup>n-1</sup> ~ -2<sup>n-1</sup>-1</strong></p></blockquote> <h4 id="unsigned"><a class="header-anchor" href="#unsigned">#</a> unsigned</h4> <p><strong>以二进制的方式进行计算(没有补码)</strong></p> <p>如果一个字面量常数想要表达自己是 unsigned
可以在后面加u或∪, 例如: 255U
用l或L表示long(long)</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">unsigned</span> <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;c=%d, i=%d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c=255, i=255</span>
<span class="token comment">// unsigned 以二进制的方式进行计算(没有补码)</span>
<span class="token comment">// char 1个字节 00000000 -&gt; 11111111 -&gt; 0 ~ 255</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>unsigned 的初衷并非扩展数能表达的范围, 而是为了做<strong>纯二进制运算</strong>, 主要是为了<strong>移位</strong></p></blockquote> <h4 id="整数越界"><a class="header-anchor" href="#整数越界">#</a> 整数越界</h4> <div class="language- line-numbers-mode"><pre v-pre="" class="language-text"><code>整数是以纯二进制方式进行计算的,所以
11111111 + 1 —&gt; 100000000 —&gt; 0 (-1 + 1)
01111111 + 1 -&gt; 10000000 -&gt; -128 ( 127 + 1 )  // 二进制最高位为1表示负数, 故等于-128
10000000 - 1 -&gt; 01111111 -&gt; 127 (-128-1)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 正负数越界</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token number">127</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> d <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;c=%d, d=%d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c=-128 d=127</span>

<span class="token comment">// 二进制越界</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> e <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">char</span> f <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;unsigned e=%d\n&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// unsigned e=0</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;unsigned f=%d\n&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// unsigned f=255</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="整数的输入输出"><a class="header-anchor" href="#整数的输入输出">#</a> 整数的输入输出</h4> <ul><li><p>只有两种形式: int 或 long long</p> <ul><li><code>%d</code>: int</li> <li><code>%u</code>: unsigned  int</li> <li><code>%ld</code>: long long</li> <li><code>%lu</code>: unsigned long long</li></ul> <blockquote><p><strong>等于 int 或 比 int 小的整数都用 %d, 比 int 大的都用 %ld 但是输入 short 要使用 %hd</strong></p></blockquote></li></ul> <h4 id="_8进制和16进制"><a class="header-anchor" href="#_8进制和16进制">#</a> 8进制和16进制</h4> <p>一个以 <code>0</code> 开始的数字字面量是<strong>8进制</strong>
一个以 <code>0x</code>开始的数字字面量是<strong>16进制</strong></p> <p><code>%o</code>用于8进制, <code>%x</code> 或者 <code>%X</code>用于16进制</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">012</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0x12</span><span class="token punctuation">;</span>
<span class="token comment">// 以十进制输出 c 和 i</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;c=%d, i=%d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c=10, i=18</span>

<span class="token comment">// 以8进制输出c, 以16进制输出i</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;c=%o, i=%x\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c=12, i=12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>使用 printf 输出8进制或者16进制是<strong>不带前缀的</strong>需要的话可以手动添加</p></blockquote> <h3 id="浮点数"><a class="header-anchor" href="#浮点数">#</a> 浮点数</h3> <p>float: 4字节, (1.2E-38 ~ 3.4E+38) , 7位有效位</p> <p>double: 8字节,  (2.3E-308 ~ 1.7E+308), 15位有效位</p> <p>long double: 16字节, (3.4E-4932 ~ 1.1E+4932), 19位有效位</p> <blockquote><p>没有特殊需要, 只使用 double 就可以了</p></blockquote> <h4 id="浮动数输入输出"><a class="header-anchor" href="#浮动数输入输出">#</a> 浮动数输入输出</h4> <ul><li>float
<ul><li>scanf: <code>%f</code></li> <li>printd: <code>%f, %e</code></li></ul></li> <li>double
<ul><li>scanf: <code>%lf</code></li> <li>printf: <code>%f, %e</code></li></ul></li> <li>long double</li></ul> <h4 id="输出精度"><a class="header-anchor" href="#输出精度">#</a> 输出精度</h4> <p>在%和f之间加上.n可以指定输出小数点后几位, 这样的输出是做4舍5入的</p> <div class="language-js line-numbers-mode"><pre v-pre="" class="language-js"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.3f\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.0049</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -0.005</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.4f\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.00049</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -0.000</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.30f\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.0049</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// -0.004899999999999999800000000000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="浮动运算精度"><a class="header-anchor" href="#浮动运算精度">#</a> 浮动运算精度</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">float</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token number">1.345f</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token number">1.123f</span><span class="token punctuation">;</span>
c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token number">2.468</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;相等\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;不相等! c=%.10f, 或%f\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不相等! c=2.4679999352, 或2.468000</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>带小数点的字面量<strong>是double</strong>而非float</p> <p>float需要用 <strong>f 或者 F 后缀来表明身份</strong></p> <p>int 表示 正无穷大</p> <p>-int 表示负无穷大</p> <p>nan 表示不是一个数</p> <h3 id="字符类型"><a class="header-anchor" href="#字符类型">#</a> 字符类型</h3> <p>char 是一种整数, 也是一种特殊的类型: 字符。
这是因为:
用<strong>单引号</strong>表示的字符字面量如: <strong>'a', '1'</strong> <strong>''</strong> 也是一个字符
在 printf 和 scanf 里用<code>%c</code>来输入输出字符</p> <h4 id="bool"><a class="header-anchor" href="#bool">#</a> bool</h4> <p>布尔值类型, 需引入 <code>#include &lt;stdbool.h&gt;</code></p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code>bool b <span class="token operator">=</span> <span class="token number">6</span><span class="token operator">&gt;</span><span class="token number">5</span><span class="token punctuation">;</span>
bool t <span class="token operator">=</span> true<span class="token punctuation">;</span> 
bool f <span class="token operator">=</span> false<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>实际上还是整数 1 或者 0, 来表示 true 或者 false</p></blockquote> <h2 id="sizeof"><a class="header-anchor" href="#sizeof">#</a> sizeof</h2> <p>运算符, 可以给出指定类或变量在内存中的所占据的字节大小</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">double</span> n<span class="token operator">=</span><span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;sizeof(int)=%ld\n&quot;</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;sizeof(n)=%ld\n&quot;</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>sizeof 是静态运算符, 括号里面不可以做运算 (运算不生效)</p></blockquote> <h2 id="循环"><a class="header-anchor" href="#循环">#</a> <a href="https://www.runoob.com/cprogramming/c-loops.html" target="_blank" rel="noopener noreferrer">循环<OutboundLink></OutboundLink></a></h2> <h3 id="switch-语句"><a class="header-anchor" href="#switch-语句">#</a> switch 语句</h3> <ul><li><strong>witch</strong> 语句条件是常量表达式，必须是一个<strong>整型或枚举类型</strong></li></ul> <h3 id="goto"><a class="header-anchor" href="#goto">#</a> goto</h3> <p><strong>goto</strong> 语句允许把控制无条件转移到同一函数内的被标记的地方</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span>
            <span class="token keyword">goto</span> out<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
out<span class="token operator">:</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;我跳出来了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>只在<strong>跳出多重循环</strong>时建议使用 goto, 在其他地方尽量不要使用 goto 语句</p></blockquote> <h2 id="转义字符"><a class="header-anchor" href="#转义字符">#</a> <a href="https://www.runoob.com/cprogramming/c-constants.html" target="_blank" rel="noopener noreferrer">转义字符<OutboundLink></OutboundLink></a></h2> <p>转义字符(逃逸字符)是用来表达无法印出来的控制字符或者特殊字符，它由一个反斜杠 \ 开头，后面跟上另一个字符，这两个字符合起来，组成一个字符</p> <table><thead><tr><th>字符</th> <th>意义</th> <th>字符</th> <th>意义</th></tr></thead> <tbody><tr><td>\b</td> <td>回退一格</td> <td>\&quot;</td> <td>双引号</td></tr> <tr><td>\t</td> <td>制表符</td> <td>\'</td> <td>单引号</td></tr> <tr><td>\n</td> <td>换行</td> <td>\\</td> <td>反斜杠</td></tr> <tr><td>\r</td> <td>回车</td> <td></td> <td></td></tr></tbody></table> <h2 id="类型转换"><a class="header-anchor" href="#类型转换">#</a> 类型转换</h2> <h3 id="运算自动转换"><a class="header-anchor" href="#运算自动转换">#</a> 运算自动转换</h3> <p>当运算符的两边出现不一致的类型时, 会自动转换成较大的类型</p> <p>大的意思是能表达的数的范围更大</p> <p>char -&gt; short -&gt; int -&gt; long -&gt; long long
int -&gt; float -&gt; double</p> <h3 id="输入输出转换"><a class="header-anchor" href="#输入输出转换">#</a> 输入输出转换</h3> <p>对于 printif, <strong>任何小于int的类型会被转换成int; foat会被转换成 double</strong></p> <p>但是 scant不会, 要输入 short, 需要<code>%hd</code></p> <h3 id="强制类型转换"><a class="header-anchor" href="#强制类型转换">#</a> 强制类型转换</h3> <p>要把一个强制转换成另一个类型(通常是较小的类型), 需要:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// (类型)值</span>
<span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token number">10.2</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">32</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>需要注意安全性, 小的变量不一定能表示大的量:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token number">32768</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token number">32768</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -32768</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>强制类型转换并不改变那个变量的值或者类型, 只是计算出了一个新的类型的值</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">32768</span><span class="token punctuation">;</span>
<span class="token keyword">short</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span>i<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -32768</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 32768</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>强制类型转换的计算优先级高于四则运算</p></blockquote> <h2 id="函数"><a class="header-anchor" href="#函数">#</a> <a href="https://www.runoob.com/cprogramming/c-functions.html" target="_blank" rel="noopener noreferrer">函数<OutboundLink></OutboundLink></a></h2> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 函数定义语法</span>
返回值类型 函数名<span class="token punctuation">(</span>形参<span class="token number">1</span>类型 形参<span class="token number">1</span><span class="token punctuation">,</span> 形参<span class="token number">2</span>类型 形参<span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// void 表示没有返回值</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello function\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>使用 void 定义的函数不能 return 值出去, 也不能做函数返回值赋值</p></blockquote> <p>函数参数的注意点:</p> <ul><li>函数调用时参数类型和函数定义的类型不匹配时, c语言的编译器会自动进行类型转换,
<ul><li>但是自动转换后的结果可能就不对了</li></ul></li> <li>c语言在调用函数时, 永远只能传递值给函数 (没有引用关系)</li></ul> <h3 id="函数的原型"><a class="header-anchor" href="#函数的原型">#</a> 函数的原型</h3> <p>可以在 min 函数前声明需要用到的函数原型</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 声明hello函数原型, 没有返回值, 不接受参数</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 定义hello函数 </span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello function\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>在函数内部 <strong><code>__func__</code></strong> 变量使用 <strong><code>%s</code></strong> 可以获得函数的名字</p></blockquote> <h4 id="函数原型的定义问题"><a class="header-anchor" href="#函数原型的定义问题">#</a> 函数原型的定义问题:</h4> <ol><li><p>函数的原型和定义需要保持一致</p></li> <li><p>函数的原型可以只写参数类型不写参数名, 一般不推荐这样写</p></li> <li><p>函数在声明原型时如果不接受参数, 建议写成 <code>void fnName(void);</code> 避免出现不必要的麻烦</p></li> <li><p>c语言不允许函数嵌套定义 (main函数不算)</p></li></ol> <h4 id="main函数"><a class="header-anchor" href="#main函数">#</a> main函数</h4> <p>main函数是c语言程序的入口, return 0是有意义的</p> <h3 id="作用域"><a class="header-anchor" href="#作用域">#</a> <a href="https://www.runoob.com/cprogramming/c-scope-rules.html" target="_blank" rel="noopener noreferrer">作用域<OutboundLink></OutboundLink></a></h3> <h4 id="局部变量-本地变量"><a class="header-anchor" href="#局部变量-本地变量">#</a> 局部变量 (本地变量)</h4> <ul><li><p>函数的每次运行,就产生了一个独立的变量空间, 在这个空间中的变量,</p> <ul><li>是函数的这次运行所独有的,称作局部变量 (本地变量)</li></ul></li> <li><p>定义在函数内部的变量就是局部变量, 参数也是局部变量</p></li></ul> <h4 id="全局变量"><a class="header-anchor" href="#全局变量">#</a> 全局变量</h4> <ul><li><p>定义在函数外面的变量是全局变量</p></li> <li><p>全局变量具有全局的生存期和作用域</p> <ul><li>它们与任何函数都无关</li> <li>在任何函数内部都可以使用它们</li></ul></li> <li><p>全局变量和函数的局部变量冲突, 以局部变量为主 (全局变量会隐藏)</p></li></ul> <h4 id="全局变量的初始化"><a class="header-anchor" href="#全局变量的初始化">#</a> 全局变量的初始化</h4> <ul><li><p>没有做初始化的全局变量会得到0值</p> <ul><li>指针会得到NULL值</li></ul></li> <li><p>只能用编译时刻已知的值来初始化全局变量</p></li> <li><p>它们的初始化发生在 main 函数之前</p></li></ul> <h3 id="静态全局变量"><a class="header-anchor" href="#静态全局变量">#</a> 静态全局变量</h3> <ul><li><p>在本地变量定义时加上 **static ** 修饰符就成为静态本地变量</p></li> <li><p>当函数离开的时候,静态本地变量会继续存在并保持其值</p></li> <li><p>静态本地变量的初始化只会在第一次进入这个函数时做</p> <ul><li>以后进入函数时会保持上次离开时的值</li></ul></li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 3</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3 5</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 7</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> all <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> <span class="token constant">__func__</span><span class="token punctuation">,</span> all<span class="token punctuation">)</span><span class="token punctuation">;</span>
    all <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s, %d\n&quot;</span><span class="token punctuation">,</span> <span class="token constant">__func__</span><span class="token punctuation">,</span> all<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>静态本地变量实际上是特殊的全局变量它们位于相同的内存区域</p> <p>静态本地变量具有全局的生存期,函数内的局部作用域</p> <p>statIc 在这里的意思是局部作用域(本地可访问)</p> <h3 id="变量的生存期和作用域"><a class="header-anchor" href="#变量的生存期和作用域">#</a> 变量的生存期和作用域</h3> <ul><li><p>生存期: 什么时候这个变量开始出现了, 到什么时候它消亡了</p></li> <li><p>作用域: 在 (代码的) 什么范围内可以访问这个变量 (这个变量可以起作用)</p></li> <li><p>对于局部变量, 这两个问题的答案都是在大括号内——块</p></li></ul> <h2 id="数组"><a class="header-anchor" href="#数组">#</a> <a href="https://www.runoob.com/cprogramming/c-arrays.html" target="_blank" rel="noopener noreferrer">数组<OutboundLink></OutboundLink></a></h2> <ul><li><p>c语言的数组是固定的容器, 其中所有的元素具有相同的数据类型,</p></li> <li><p>一旦创建大小不能改变, 数组中的元素在内存中是连续依次排列的,</p></li></ul> <p>定义指定长度的数组:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 定义数组时数组的长度必须是整数</span>
<span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// nums 数组里的每个元素都是int类型, 长度是10</span>
<span class="token keyword">double</span> dous<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// dous 数组里的每个元素都是double类型, 长度是20</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>定义数组并初始化值:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 定义时在大括号里给出数组所有元素的初始值</span>
<span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 未指定的位置默认为0</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// a ==&gt; 1 2 0 0 0</span>

<span class="token comment">// 可以指定一个0来默认初始化数组的所有变量都为0</span>
<span class="token keyword">int</span> b<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// b ==&gt; 0 0 0 0 0</span>

<span class="token comment">// 还可以初始化指定位置的变量</span>
<span class="token keyword">int</span> c<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// c ==&gt; 0 2 3 4 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="数组的有效下标范围"><a class="header-anchor" href="#数组的有效下标范围">#</a> 数组的有效下标范围</h3> <p>编译器和运行环境都不会检查数组下标是否越界, 无论是对数组单元做读还是写</p> <p>一旦程序运行, 越界的数组访问可能造成问题, 导致程序崩溃</p> <p>所以需要保证程序只使用有效的数组下标值: <code>0 ~ 数组的大小-1</code></p> <p>利用 <code>sizeof</code>来计算数组的大小:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a数组的总内存大小: %lu\n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a数组的单个元素内存大小: %lu\n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a数组的长度: %lu\n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">/</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>💡xxx数组的长度为: <code>sizeof(xxx) / sizeof(xxx[0]);</code></p></blockquote> <h3 id="数组的赋值"><a class="header-anchor" href="#数组的赋值">#</a> 数组的赋值</h3> <p>数组变量本身不能被赋值</p> <p>要把一个数组的所有元素交个另一个数组, 必须使用循环遍历, 逐个赋值</p> <h3 id="数组作为函数的参数-形参-时"><a class="header-anchor" href="#数组作为函数的参数-形参-时">#</a> 数组作为函数的参数(形参)时:</h3> <p>不能在 参数[] 中给出数组的长度</p> <p>不能在使用 sizeof 来计算数组的长度</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 找出 key 在数组 a 中的位置</span>
<span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>
            ret <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="二维数组的初始化"><a class="header-anchor" href="#二维数组的初始化">#</a> 二维数组的初始化</h3> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>	
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>	
    <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>列数必须给出, 行数自动生成</p> <p>每行一个 {}, 逗号分隔,</p> <p>省略列里的某些表示补零</p> <p>也可以用定位</p> <h2 id="运算符"><a class="header-anchor" href="#运算符">#</a> 运算符&amp;</h2> <p><code>scanf(“%d&quot;,&amp;i);</code>里的&amp;</p> <p>是获得变量的地址,它的操作数必须是变量</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> i<span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token operator">%</span>p&quot;<span class="token punctuation">,</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出使用: <code>%p</code> 以内存地址的方式输出 (十六进制)</p> <h3 id="不能取的地址"><a class="header-anchor" href="#不能取的地址">#</a> &amp;不能取的地址</h3> <p>&amp;不能对没有地址的东西取地址, 如: <code>int p = &amp;(i++);</code></p> <h3 id="数组的地址"><a class="header-anchor" href="#数组的地址">#</a> 数组的地址</h3> <p><strong>数组的地址等于数组的第0个元素的地址</strong></p> <p><strong>数组里相邻元素的地址相差一个数组元素类型</strong></p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 000000000061FDF0</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 000000000061FDF0</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 000000000061FDF0</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 000000000061FDF4</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 000000000061FDF8</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="指针"><a class="header-anchor" href="#指针">#</a> <a href="https://www.runoob.com/cprogramming/c-pointers.html" target="_blank" rel="noopener noreferrer">指针<OutboundLink></OutboundLink></a></h2> <p>就是保存地址的变量</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> <span class="token comment">// 定义一个 int 类型的指针变量p, 指向i的值</span>

<span class="token comment">// p是一个指针 *p是指针指向的值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>指针定义时需带上 * 表示指针变量</li> <li>定义以后 *p 表示 指针指向的值, p表示是一个指针</li></ul> <h3 id="指针变量"><a class="header-anchor" href="#指针变量">#</a> 指针变量</h3> <p>指针变量的值是内存的地址</p> <p>普通变量的值是实际的值</p> <p><strong>指针变量的值是具有实际值的变量的地址</strong></p> <h3 id="作为参数的指针"><a class="header-anchor" href="#作为参数的指针">#</a> 作为参数的指针</h3> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在被调用的时候得到了某个变量的地址</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span> 
<span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在函数里面可以通过这个指针访问外面的这个 i 变量</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot; p=%p&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>	 <span class="token comment">// 读取 p 指针的地址</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*p=%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取 p 指针地址对应的值</span>
    <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>            <span class="token comment">// 修改 p 指针地址对应的值</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用 * 可以访问指针地址的变量</p> <p>可以做左值也可以做右值</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token operator">*</span>p<span class="token punctuation">;</span> <span class="token comment">// 读取 p 指针地址对应的值</span>
<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 修改 p 指针地址对应的值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>左值之左右叫左值是因为出现在赋值号左边的不是变量, 而是值,</p> <p>是表达式 (如 *, [] ) 计算的结果: 是特殊的值,所以叫做左值</p> <h3 id="返回指针的函数"><a class="header-anchor" href="#返回指针的函数">#</a> 返回指针的函数</h3> <ul><li><p>返回局部变量的地址是危险的</p> <ul><li>离开函数局部变量就不存在了</li></ul></li> <li><p>返回 全局变量或静态本地变量的地址 是安全的</p></li> <li><p>返回在函数内 malloc 的内存是安全的, 但是容易造成问题</p></li> <li><p>最好的做法是返回传入的指针</p></li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token operator">*</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*p=%d\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
    <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*p=%d\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 99 f函数返回的 i的指针的地址被分配给g函数里面的k了</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token operator">*</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// OK</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// NG</span>
    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span> <span class="token comment">// 这里k的地址就是f函数里面 i分配过的地址</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;k =%d\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 99</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>⚠️ 指针返回局部变量的地址是危险的, 当这个函数使用完以后这个地址会被继续分配给其他的函数使用</p></blockquote> <ul><li>不要使用全局变量来在函数间传递参数和结果</li> <li>尽量避免使用全局变量</li> <li>使用全局变量和静态本地变量的函数的线程不安全的</li></ul> <h3 id="指针的运算符-和"><a class="header-anchor" href="#指针的运算符-和">#</a> 指针的运算符 &amp; 和 *</h3> <p>互相反作用</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> yptr <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">&amp;</span>yptr <span class="token operator">-&gt;</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>yptr<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>yptr的地址<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> 得到那个地址上的变量 <span class="token operator">-&gt;</span> <span class="token number">100</span>
<span class="token operator">&amp;</span><span class="token operator">*</span>yptr <span class="token operator">-&gt;</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">*</span>yptr<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>yptr<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> 得到yptr的地址
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="指针的使用"><a class="header-anchor" href="#指针的使用">#</a> 指针的使用:</h3> <p>函数返回多个值, 需要通过指针返回</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 交换两个变量</span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>pa<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token operator">*</span>pa<span class="token punctuation">;</span>
    <span class="token operator">*</span>pa <span class="token operator">=</span> <span class="token operator">*</span>pb<span class="token punctuation">;</span>
    <span class="token operator">*</span>pb <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>函数返回运算的状态, 通过指针返回</p> <p>常用的是让函数返回特殊的不属于有效范围内的值来表示出错</p> <p>-1 或者 0 (在文件操作时经常会看到)</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 两数相除, 成功返回1, 失败返回0</span>
<span class="token keyword">int</span> <span class="token function">divide</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>result<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token operator">*</span>result <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>⚠️ 指针的常见错误: 定义了指针变量, 还没有指向任何变量, 就开始使用指针</p></blockquote> <h3 id="传入函数的数组"><a class="header-anchor" href="#传入函数的数组">#</a> 传入函数的数组</h3> <p>传入函数参数的数组实际上是一个指针</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">arr</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">arr</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 在函数中使用 sizeof 相当于是计算指针的大小    </span>
    <span class="token function">sizrof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ==&gt; sizeof(*a);</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>数组变量就是特殊的指针</p> <p>​	数组变量本身表达的就是地址</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 无需用 &amp; 取地址</span>
<span class="token comment">// 但是取数组的每个元素的值, 必须使用 &amp; 取地址</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>指针也可以使用 [] 运算符, 类似于数组的数组下标的使用</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// 无需用 &amp; 取地址</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>数组也可以使用 * 运算符, 类似于指针的用法 (默认访问数组的第0位)</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 999</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>数组变量实际上是 const 的指针, 不能被赋值</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// --&gt; int * const a = ...</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// Error! 不能被直接赋值 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="指针和const"><a class="header-anchor" href="#指针和const">#</a> 指针和const</h3> <p>指针可以是 const</p> <p>指针指向的值也可以是 const</p> <h4 id="指针是const"><a class="header-anchor" href="#指针是const">#</a> 指针是const</h4> <p>表示指针一旦得到某个变量的地址, 就不能再指向其他的变量</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span> <span class="token keyword">const</span> q <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> <span class="token comment">// q这个指针是 const 的 </span>
<span class="token operator">*</span>q <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span> <span class="token comment">// 可s以修改 q指针指向的值</span>
<span class="token comment">// q++; // Error! 不可以再修改 q指针的指向</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>指针所指向的值是 const</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token keyword">const</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>
<span class="token comment">// *p = 999; // Error! p指针指向的值(*p)是 const 的不允许修改</span>
i <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> 
p <span class="token operator">=</span> <span class="token operator">&amp;</span>j<span class="token punctuation">;</span> <span class="token comment">// ok</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>const 在 * 的前面还是后面是不一样的</p> <p>​	const 在 * <strong>前面</strong>表示: 不能通过<strong>该指针去修改该指针所指向的值</strong></p> <p>​	const 在 * <strong>后面</strong>表示: 不能<strong>再次修改该指针的指向</strong></p> <h3 id="非const的值转换为const"><a class="header-anchor" href="#非const的值转换为const">#</a> 非const的值转换为const</h3> <p>总是可以把一个非const的值转换为const</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>

<span class="token comment">// 在对应的函数里不能修改 const 的参数</span>
<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span> <span class="token comment">// Error!</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="const数组"><a class="header-anchor" href="#const数组">#</a> const数组</h4> <p>数组变量本身就是 const 的指针, 下面的 const 表示数组里的每一项都是 const</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">const</span> <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>const 数组必须通过初始化赋值才可以指定数组的每一项都是 const</p></blockquote> <h4 id="保护数组的值"><a class="header-anchor" href="#保护数组的值">#</a> 保护数组的值</h4> <p>把数组传入函数时传递的是地址, 所以在那个函数内部可以修改数组的值
为了保护数组不被函数破坏, 可以设置参数为 const</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 函数定义时指定参数为 const void arr(const int a[]);</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="指针运算"><a class="header-anchor" href="#指针运算">#</a> 指针运算</h3> <p>给一个指针加1表示要让指针指向下一个变量
如果指针不是指向一片连续分配的空间
如数组, 则这种运算没有意义</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> ac<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> ac<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;p  = %p\n&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0x61FDF0</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;p+1= %p\n&quot;</span><span class="token punctuation">,</span> p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0x61FDF4</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;*(p+5)= %d\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 --&gt; *(p+n) -&gt; ac[n]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>指针还可以做: +, +=, -, -=, ++/--</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> ac<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> ac<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>ac<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;p1 - p = %d\n&quot;</span><span class="token punctuation">,</span> p1 <span class="token operator">-</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6 --&gt; ac[0] ~ ac[6] 之间的字节数 24字节(4*6)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="p"><a class="header-anchor" href="#p">#</a> *p++</h4> <p>取出p指针所指向的数据来, 之后顺便把p移到下一个位置去</p> <p>*的优先级没有++高, 常用于<strong>数组类的连续空间操作</strong></p> <p>在某些CPU上,这可以直接被翻译成一条汇编指令</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> ac<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> ac<span class="token punctuation">;</span><span class="token comment">// 利用指针后移遍历数组</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d &quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 1 2 3 4 5 6 7 8 9}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="指针比较"><a class="header-anchor" href="#指针比较">#</a> 指针比较</h4> <p>&lt;, &lt;=, ==, !=, &gt;, &gt;= 都可以用于指针</p> <p>比较它们在内存中的地址</p> <p>数组中的每个元素的地址是线性递增的</p> <h4 id="_0地址"><a class="header-anchor" href="#_0地址">#</a> 0地址</h4> <ul><li><p>内存中有0地址, 但是0地址通常是不能随便碰的地址</p></li> <li><p>所以指针中不应该具有0值, 因此可以用0地址来表示特殊的事情</p> <ul><li><p>返回的指针是无效的</p></li> <li><p>指针没有被真正初始化(先初始化为0或者Null)</p></li></ul></li> <li><p>NUL是一个预定定义的符号, 表示0地址</p> <ul><li>有的编译器不愿意让开发者使用用0来表示0地址</li></ul></li></ul> <h3 id="指针的类型"><a class="header-anchor" href="#指针的类型">#</a> 指针的类型</h3> <p>无论指向什么类型, 所有的指针的大小都是一样的, 都是地址</p> <p>但是指向不同类型的指针是不能直接互相赋值的</p> <p>这是为了避免用错指针</p> <h4 id="指针的类型转换"><a class="header-anchor" href="#指针的类型转换">#</a> 指针的类型转换</h4> <ul><li><p><code>void*</code> 表示不知道指向什么东西的指针</p> <ul><li>计算时与 <code>char*</code> 相同(但不相通)</li></ul></li> <li><p>指针也可以转换类型 <code>(类型*)指针</code></p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> <span class="token comment">// 将 p指针的类型转换为 void(类型不知道) 赋值给 q指针</span>
<span class="token keyword">void</span> <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span>p<span class="token punctuation">;</span><span class="token comment">// 将 p指针的类型转换为 int 赋值给 a指针int *a = (int*)p;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这并没有改变p所指的变量的类型, 而是让用不同的眼光通过p看它所指的变量</p> <p>我不再当你是int啦, 我认为你就是个void</p></li></ul> <h3 id="指针的使用场景"><a class="header-anchor" href="#指针的使用场景">#</a> 指针的使用场景</h3> <ul><li>需要传入较大的数据时用作函数参数</li> <li>传入数组后对数组做操作</li> <li>函数返回不止一个结果
<ul><li>需要用函数来修改不止一个变量</li></ul></li> <li>动态申请内存</li></ul> <h4 id="malloc"><a class="header-anchor" href="#malloc">#</a> malloc</h4> <p>动态申请内存空间, 需引入 <a href="https://www.runoob.com/cprogramming/c-standard-library-stdlib-h.html" target="_blank" rel="noopener noreferrer">&lt;stdlib.h&gt;<OutboundLink></OutboundLink></a> 标准库</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token class-name">size_t</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>向 malloc 申请的空间大小是以字节为单位的</p> <p>返回的结果是void*, 需要类型转换为自己需要的类型</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>n<span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>malloc 申请内存空间失败返回0, 或者NULL</p></blockquote> <h5 id="malloc-可以申请的最大内存空间"><a class="header-anchor" href="#malloc-可以申请的最大内存空间">#</a> malloc 可以申请的最大内存空间</h5> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">void</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
<span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cnt<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;一共分配了%d00MB的空间\n&quot;</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="free"><a class="header-anchor" href="#free">#</a> free</h4> <p>把 malloc 申请的空间归还 &quot;系统&quot;</p> <p>申请过的空间, 最终都应该要还</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> number<span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">;</span><span class="token comment">// malloc 动态申请内存</span>
a <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span>number <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// free 归还内存</span>
<span class="token function">free</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>free 可以释放 0 或者 NULL 不会报错, 所以要养成初始化指针为 0 或者 NULL 的习惯</p></blockquote> <h5 id="free常见问题"><a class="header-anchor" href="#free常见问题">#</a> free常见问题</h5> <ul><li><p>申请了内存没有 free --&gt; 长时间运行内存会逐渐内存下降</p></li> <li><p>free 过了再 free</p></li> <li><p>malloc 申请来的地址变了, 直接 free</p></li></ul> <h2 id="字符串"><a class="header-anchor" href="#字符串">#</a> <a href="https://www.runoob.com/cprogramming/c-strings.html" target="_blank" rel="noopener noreferrer">字符串<OutboundLink></OutboundLink></a></h2> <p>以0(整数0)结尾的一串字符</p> <p>0 或 '\0' 是一样的, 但是和 '0' 不同</p> <ul><li>0标志字符串的结束, 但它不是字符串的一部分
<ul><li>计算字符串长度的时候不包含这个 '\0' (终止符)</li></ul></li> <li>字符串以数组的形式存在,以数组或指针的形式都可以访问
<ul><li>更多的是以指针的形式使用</li> <li><a href="https://www.runoob.com/cprogramming/c-standard-library-string-h.html" target="_blank" rel="noopener noreferrer">string.h<OutboundLink></OutboundLink></a> 标准库里有很多处理字符串的函数</li></ul></li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> word1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'H'</span><span class="token punctuation">,</span> <span class="token char">'e'</span><span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">,</span> <span class="token char">'o'</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 字符数组</span>
<span class="token keyword">char</span> word2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token char">'H'</span><span class="token punctuation">,</span> <span class="token char">'e'</span><span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">,</span> <span class="token char">'o'</span><span class="token punctuation">,</span> <span class="token char">'\0'</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 字符串</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="字符串常量"><a class="header-anchor" href="#字符串常量">#</a> 字符串常量</h3> <p>也叫 字符串字面量</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span>str <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 字符串指针</span>
<span class="token keyword">char</span> word<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 字符串数组</span>
<span class="token keyword">char</span> line<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 没用上的为空字符串 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>&quot;Hello&quot; 会被编译器变成一个字符数组放在某处, 这个数组的长度是6, 结尾还有表示<strong>结束的0</strong></li> <li>c语言相邻的字符串常量会被自动连接起来</li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;你好! &quot;</span>     
       <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 你好! Hello</span>
<span class="token comment">// 或者这样</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;你好! \
Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 你好! Hello</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>c语言的字符串是以字符串数组的形式存在的
<ul><li>不能用运算符对字符串做运算</li> <li>通过数组的方式可以变量字符串</li></ul></li> <li>唯一特殊的地方就是字符串字面量可以用来初始化字符数组</li></ul> <h4 id="字符串常量的一些问题"><a class="header-anchor" href="#字符串常量的一些问题">#</a> 字符串常量的一些问题</h4> <p>如下: s 和 s2 是指向同一个内存地址</p> <p>使用字符串常量定义的字符串是不能修改的 (默认使用 const)</p> <p>如果修改会到导致程序崩溃</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>s2 <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// s[0] = 'B'; // Error! 不能修改字符串常量的值</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0x404000</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0x404000</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c\n&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// H</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如果需要修改字符串, 应该使用字符串数组:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> s3<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
s3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'B'</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%p\n&quot;</span><span class="token punctuation">,</span> s3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0x61FE14</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c\n&quot;</span><span class="token punctuation">,</span> s3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// B</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>如果要构造一个字符串 —&gt; 字符串数组</li> <li>如果要处理一个字符串 一&gt; 字符串指针</li></ul> <h3 id="字符串赋值"><a class="header-anchor" href="#字符串赋值">#</a> 字符串赋值</h3> <p>并没有产生新的字符串, 只是让指针 s 指向了</p> <p>t 指针所指向的字符串, 对 s 的任何操作就是对 t 做的</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span>t <span class="token operator">=</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>s <span class="token operator">=</span> t<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="字符串输入和输出"><a class="header-anchor" href="#字符串输入和输出">#</a> 字符串输入和输出</h3> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> string<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n&quot;</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>scanf 读入 <strong>%s</strong> 时会读入一个单词 (到结束, tab或回车为止)</p> <p>scanf 读入 <strong>%s</strong> 是不安全的, 因为不知道要读入的内容的长度</p> <h4 id="安全的输入"><a class="header-anchor" href="#安全的输入">#</a> 安全的输入</h4> <p>在 % 和 s 之间的数字表示最多允许读入字符的数量, 这个数字应该比数组的大小要小1</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> string<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%7s&quot;</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>scanf 超过指定大小的字符数会被交给下一次 scanf 读取</p></blockquote> <h4 id="常见错误"><a class="header-anchor" href="#常见错误">#</a> 常见错误</h4> <h5 id="字符串指针未初始化"><a class="header-anchor" href="#字符串指针未初始化">#</a> 字符串指针未初始化</h5> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span>string<span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>以为 char* 就是定义了一个字符串类型的变量 string就直接使用</p> <p>由于没有对 string初始化为 0 或 NULL, 所以运行时不一定会出错</p> <h5 id="空字符串"><a class="header-anchor" href="#空字符串">#</a> 空字符串</h5> <p><code>char buf[100] = &quot;&quot;;</code> 这是一个空的字符串, 实际就是<code>buf[0] == '\0'</code></p> <p>如果这样写: <code>char buf2[] = &quot;&quot;;</code> 这个字符串数组的长度只有1, 只有一个元素就是 <code>'\0'</code></p> <h4 id="程序参数"><a class="header-anchor" href="#程序参数">#</a> 程序参数</h4> <p>main函数也是有参数的</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> argc<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
    	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d : %s\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span>argv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 : E:\C\C语言学习代码\Dev_C++.exe</span>
	<span class="token punctuation">}</span>	
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>argv[0] 是命令本身 (命令行执行这个程序的名称)</p> <p>后续携带的参数被 argc 和 argv 所读取到</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXkAAABkCAIAAADsXtebAAAACXBIWXMAABJ0AAASdAHeZh94AAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AACAASURBVHic7d13QFNX3zjwE3ZIbhIgjDBk42CDKFNAQBAQd9XWilpr36fv73lrraPW1Wqtq7X1eTqtirNaJ4qo4ATZO0Ec7BHCyIIMSMjg98fVNIYAATGW5zmfv5JzLzeXQL4553vO/V7MJI+pAIIg6A3TedsnAEHQfwUYayAI0ga9t30Cw9u2c/fBfXvEYtHWHbuNjIzU7vPN7p29vT0D27ds+/LwoYM9PcKhX2LzFzt/+vchAZ+/ecuOn3/8gc/noe2bPt/+y8+H+Tzea/4KAID1G7ekHP2Ny+UAANZv2JJy/Dcuh/P6h4Wg8QIzLvI123bu/nb/HpFIhD7dumPXdwf2ikS9mvyspuFmy46ffvxewOdv2rL9lx8P8/m8TVu2//KTmkCzcfM2ApE4xKG+O/BNVxdXpVFtrPl0w+cnj//O4bAHO9S69ZvMyObKLYcPHWCxmEP/LhD0NzQO+jUj8sX2r7BYY5XGLdu+VGnZ981XQoFAuWX/3l3ogwN7dwMAFBFn4Esc3P/1ECewYdNWzc/2+2/3qYSbTz/bbGpGVuzww6EDbKXI8sn6TZofHIL+VlRjzYLFS319/RVPe4TCkylHGQz6YD+/es3/6OjoHD/6q1wuV9nk6emdNG+REdYIANDc1Jhy7DepVLpy9Vo9Pb0Tx49IpVKV/T08vObMW2RsjAUAtDQ3pRz7TSKRoJu+/mo7+kAxjNq6Y5fiB7/ZvaO3t/fl452a/uoAAAA2f7ETj8er3bRpy3bF44P7vubxukd0ZGWfbfzi+NFf0U7N0L7/bj8AYN1nm0+fOMZmswAA69ZvOn0qhT2Svoyb26T4xHmmZqYYDAYAwGhtPX/u1JgP2Vxd3eLik8wtLDAYTFsb4+KfZ5mdnWP7Em8IFmucMGeugaHhvTu3O9rbNfmR4NDwkNAwAoEoFokybt+kUcvFYhEAIChkRkjoDCKRKBaJMjNu0ahlit73qE4MOys2frK7Z0VZaX7eo+7urmmBwWEzIkgkE3QHFrMz7frV+rpa9GlkVMz0wBAcDsfn8TJupz+pqlR8ZAYyMsJGxcR6evlUUivycrPR/0YSySQmNn6Ku4eenh6bxUy/cb2m+hkAwD9getiMSDMzMwCAgM+7m3mbRqsY4uCaUNOvYTE7jx/9Te1X+kDFhfmz4hIoFBsGg97f369o9/T0Tpq/+NmzqtTLF2QyWUhYeFBIWO6jrJKigpjYeArFhk5vVt4fDTQ1Nc9SL1+QSqXBoTMCg0Pzch7JZK+EpD27tqsMoL7YvgsMsGXbV8bGqr0b1L49XwqFr4yn9n/zleDVPo6KTZ9vH9i4cfO23379N6979AEIAPDphs9NTc0+3fD599/uG2IkNQpSmeT2zbSy0mJdXb2Fi5esSP7g6pWL9JbmgV8Jo+Pq6hYXP5fDZZ85fZzL4fj4TZ002V3UK9Lw32bcycvJysvJcvf0Cg2NUG7Pz83Oz8129/AMDYtQ/5Mj4eXjZ2fvADCgv/+vPxOzs/PqpQv19bXKe5JIpnGzE8zI5hfPn62rqxn2yHZ29hFR0YaGhiqZB28fv54e4a8/HRaLxTGzZoeGhff1iZsaG0qLC0uLCwEARkbYyKiYKZ5ebA67saH+dX671x1DNTY29PWJA0NCr176UxE7EIQQHhnV0c5AAw0AIPdRFrqpqamxr088LSiYcZmObgIA4PHIjIiZLGbHtSsX0f5OXk42umnbzt2GhkYAgD27tmv+jbH365H1bkbh4P6vN27eduTXH7u7u4be87ONX5BMTAAA6zduMTExRRvXb9gCAFAbYpQ7NcPyD5geGhqecTu9tub5wK4iAEAoFNxKT1u4eFlIWHh6WuprBkeUsTFuWmCwWNybeesG2l2qKCt5/cP+lzMxMbWf4NDS3GRmRh72K8Ft0iQDQ8PbN9M0CTRGRthJk6c8raqSSiXTpgcrb8p6eE/xuL6hztfX38yUzGilK7owIlGvUMC3sbE1NDAc+e/0ihHEGgQhrPpgLQ6HP3niGKO1BW3k83nl5aV+flMRhKD41Dk4OBrj8TnZDwe+ZXw+r6Ki1M8vgEAgdnVx0fDk4OCIw+PvZt5WRB8FdPS0beduMMgACgDwxfZdKvNQmvdr9n/zFRh8JHVg324+j3dg3+7h3huwYdPW34/81N2lGnc+2/jFsaO/fLDmHwCAQwf3oo3DzkOt+2wz+uCHQwcAAOuU0jRoyubw9wdZzE4AQGlxoampWdK8RbnZD0pLi9SGYyazk9nZYWJqqqerBwBYsGiJu4eXgYGBqLc39cql6uqnnl4+4ZHRJYX5JSWFvb29OBxu/sJ3jI1xVy79qTYPbWNjQyCSHtMqhEL1/cGIqJjJk6Zk3EpvampQ/ptGzIyePNk9M+NmY0P9wL+1isSk+d4+fkZGRiKRKD0t9UnVYzs7u9jZcwAAVy//2dbGcHJyiZ2dKBAKbt+8zuzsjE+c6+vnb2SEFYtEN9OvVz2micXiIY6vp6e3YOESsrmFgYFBaWlx1oO76F8kbnai39RpWCxWLBJl3Eqn0SrQ4dKIYLHGcbMTPDy9DQwNpVJZQd6jgvyc7iEDvd/UAAKRWFZSPOynGovFWlpadXVxeZr1IkWi3juZtwAAEydN1vxXQBGJJhYWVl1d3GG/U4elJtaQzS0UqQoWszPl2JGhUxXU8jJfX39vX79HWQ/Rvh+BRNLXMxh8/3IfH38vH9+c7IfoPxyBRNLXN8QMd657dqkZy6g10n4NGnGUDZEbVkCTxBs2byUSSd8e2DMw0AAAvjv4zYjOBM0N//DdfjabhUYcNNwo++TTjcpP72Tc5HDYMTFx9k5OadeuDDZDj8Vi8QgSFR1rRaGcSjna0tIcGR0TOzsBAFBXW+Pu7mltZ2dQWdHb22ttbUsgkmgVZYOFEjxCMDQ0QpNBb0hi0nwHB8cL587U19eGhEVEREZhAKaqqjLjVtqsuMSp0wKrKmnhEVF8AS/j1g1mZ2dC4lxHJ+eLf56rq60JDg0LmxEJABg63DjYO9Iqqef/OD3Fw8vfP8DZ2bVSSI2cGe3i6nb18p811c+nB4UEhYQCAEYabtBAY2FpderksabGhinunuGRUQCAIcKNvb2DNcWmklbR1sZwcXVT3mRuYbFqzUcAALFYfP9ORllZiaEh1sjQSE9ff8nS5eYWFjo6OjRaxcP7d5mdHZqfpAoSycTJ0Vkmk7E5LLRTMyN8ZlBIKB6PNDc3ZWbcbG9vG/XBUSPI1/D5vH/98O3A/fl8Xgu9xc1tUk72Q6UMzKAEAj69le7i4pb7KBuAYb7cRmdE+RoVm7ZsRxDCgb27h009oJPf3+7fM9KQf+jbvYN1bb7/br+iU6O50uJCfnd3/Jx57y1fdf7cqcF2M8biiCRSWUlRR0e7XC6jlZe5OLva2ds3NtUz2lonTpxMIpnweXw7B4fenp6nT6sUGXctMzMzNzU1q6RWMBitMpmsqpLq4uxqY2dX31BbV1ebm5MVGhbu4uLW0yO8fe0Gs7PTzIxsakp+XElltLbIZNKqykpnJ1cbW9v6utohYk1tXU1+bjaXy2HQWyZNnkIkEq2sKKZm5CePK+ktLVKp9GnVYycnF4qNTV1dzYhijaWlJcnUtL6uFv37NtTXuU2cRLawwOERtbEGi8X6+E3tB4BOb1HJpxQV5BUV5KGPZ0bNCgwOBQA0NNTr6upSKNb37mY8qap0dnENj4gOCJiel/to4GILDXn7+NnaTSgpLuzseBGwsrPuZ2fdBwDMCI9MTJxbkJ9Lo5a/Tnp4bOa8C3Jz3l2e7OXlQ6WW9/f387q6JNK+IfYvzMtd+u77np5eVGq5XC7ndXVJJGINwhRQu5xPeR5KYe/XO3t6VFf3fb71S5WWwUZPypNQYMA8FBplDu7/ekzSH0NYN2CS+/CAbg6Ky+WKRb1kcwv3KZ4qURKHw+PwOLFYTCQRcXgkNn5OXEKSYmtLSzMAgFpe7uDgZGtjJ+DzrSnWDAZdPHh2TMDnicWi/gFfLD5+/tExcUQiCX2Kfhu3tzFqap57evmSSC/aV65ei7ZfunhO7TQQiUTC4wlRs+KiY2crGlnsF6M5GrXczm7C5CnuRQX5bBYLAEAkkvAIEhkVGxUT99cbUjLieTcikYgghIkzp0RGz1I0lpUVj/Q4xni8vp4Br7u7r08MAOjt7REKBGSyuYG++s6+g5MziUQqKy3paG9HEGSww9bWVNtNsEeIBENDQ5lM9riS2tTYIJFIGhsaXF1bTMlkhEAYXawJj4gKmBb07Onjx5XUgWti6+vqJtg7WFlRGurrXmcGY2xiTXs7o6uL6+TqRqNV9Pf3M5lMIO93dptYWUlVOyxX7F9ZSZXL5SwWq1/e7+zqVkmrGCIrhgaaPbt2KMd+tfNQmhvp6Gnj59sIhDGIMmjX5sTxIxwOe4gVfSrrawbjHzA9JiauuaXpzOkUPo/n5jZJeauNja2JKfn5syft7e1CAb+kMK+0tETl+1MoEHA4bGs7u74+sY6O7rMnT3p6Bu3UcLldUonEzt7h8WOackCvKCutKCsF6vI1mbdvAo3zNV1dXQIB715mRUlJ0cBxXFjETLsJ9p2dnYHBIUKhoK6utru7S8DnP3iSUVJcOPSU4tC6u7v5fF7W/TvFxYWvM6HWIxBIpH0EItHAwFAkEmGxxjg8vlfU2ydR/wVsY21rbWPr4jpRudHXz//2zRtPnlRJpS+6EsZ4nBHWWAejIxKJRGKRERarb/BX8OLzukc33T41YLqXj9/TJ48VE+EDyaSy7u5uDVfPDuZ1c8MKxYX56GQ2g0Fvb2dU1zz385vKYnY+ynogl8tDwsJ1dHRyH2UpQony5De6v79/ALq/TCYLDp2hq6urPOe9dcfuPbu2fzaSlXJvwsF9Qy3kG5FD3+5Fo8zATSMaRsXExvv6BTzKUp8bNje3mBkdKxb1FhXkcThsDoftN3UanU5vaWmWy1/5tD+mUYNCwtwmTxH2CLu7u1S2KmOxOmvragIDQ4JDZ2Q/uMfn8338piIIUlFWOoqPqJmZ+bz5iyg2trnZD4qK8oVCIZvN5HDYnt4+DEZrfX2tclTy8vb18fGvolVUVlIjo2Iio2L4An4bo5XDYXl4ejMYjLraGpV1EprjcFgcNmuKh2dbO6OmWv28niY6Ojq6OBwnZ5fq6mc8Xre3r5+d3YSiwgIOW32n4O6d23fv3EYfm5iYxsyazeVyigrzlcfmJiamPj7+ero6z58/bW9ndHS0e3v7WlvbdHE5Do6OllaUp1VVgpG/+W6TJgdMD+rsaCspLlAbaIyMsJ7ePkQSqay0eOBAYUSGyQ0Pu5ZPobGxQSLpc3Z1bWtr7e/vT718gdnZMSs2PjomDrxcy6fcZ0Eny51cXBgMukwmu371EovZOSs2Pio6Frxcy6f8T6OY81aZhBrMlm2qHRYtGGw2ajDoumFTUzOVduXc8ND8A6ZPmeJxPfWSypy3nq5+XPyc2QlJAICnT5/cuH4F7YhdufTngkVLVqxaY2BgAABQTEVJJBIGg94vl9va2N1ISx0sK6zw4G5mF4cTHRMXGBgCAEDX8o3h4pob168mJs1/Z9lydMgsEolupl3T1debER7JYrFolVQWs7OkqDB2duL8he9cvXwh/ca1+MS5i5csMzLCAgA0nIoa6PatG3Egcf7CJVjsi+Nk3EqvqamOio6Z4uGFvmm2dnbxiUl5OY9o1LKQ0Bnunl4GBoYAAFu7CbMTkvJzswvycx8+uB+fmLTqg490dXXFItGdzNvUirJR9AtmRs+aPj3YGIcDANCo5RfOn2UyOwEARQV5eBx+dkLSoneWicXi+3czy8uKh8ivRURGBwaF4PB4AIDdhAmBwSGPK6nlZaXe3n4WFpbW1jYent7ono8f0wryctzdPX39A9A3v7m56datG02vt7gGjO31UKEzwv38Ak6dOKbhoDE4dIa/f8CZUymKye9hbd2x+7sD36iMob7/dq/Ku7xl21eHD+1Xm6/59w8HB8sNb96yA48gAABNEsMqNmzaSiQNOhs19LrhYa+KUvhk/SYy2Vwx4Q1B48hYxhorK+vkVWsKCnLRcZMm+7+fvLq4uAAdN43VaUAQ9Dc0Pq7zhrSPTLZYsOgdG1s7HR3VIkcF+blZD+8J+Py3cmLQOAVjDQRB2gDr8kEQpA0w1kAQpA0w1kAQpA0w1kAQpA1q1vKtWfuxvYMjGMlCPg15eHglzV+Mxb64oKm5qTHl2BHFEuyx4u7ukTh3ER6PAwC0NDefOvH765RKgyBoTOiSLayVny9YvJRMJv/4r0O3b92YOGmyr5//0ydVI118ORgLC0snV9f061fPnztdVJDvPzUgMCi4+vmzUdQHGYy7u2fi3EX19TVHfvnxbuYtfQMDuwn2bYzWsapHB0HQ6LwyhqJQbCa6TSorK0FXzRYX5iMEkrefPwBjX6lEIOBfvvingYFh1Kw4XV3dMTkmHo+EhUdy2MzrqZfRS2wL8nIeZT14zTqpEAS9vlfGUC5ubgCA2upq9GnA9CBDQwNzcwsMBgxxCQGCEFau/hCPR06dOKZSdXho7e0MJrODRCShsSx51YfOzi4YHZ3enp4zp1JaWpqCQkLDI2IybqZRqWUymQyPR95PXi2VSk+mHEVDiQp7ewccgn94765Uov6quYSk+U6OTufPnWExO5XPM2HOPEdHpwvn/2AyO4Y9/2XvrZg4cbKunl5vT8+F82cbGurc3CYlzJnP53efPZ0iEAgmTZqSkLSATm9Ou3a5Ryhcuuz9iZOn6Onp9fb0XLxwrr6udtQXB0LQ+KWaG+7pEQoEfArFZsvWL7ld3KbGBtOXJXLfEBwOhyDIytVriUTiD4cO7Ni66XFV5bL3VtjZ2T+m0bq72E6urhgdHYCGEjy+rKRosM8qgUTU1xu+vt/rWPZesrm5xa8//2vH1s3lFaXzFy52dHSurn6WnnYFQYiBIWF2dvYxsfF0elNa6otAY2FpeeSXH3du21xaVjJ33kJnZxdd3f+0W+VA0LDUzENNDwpZ89H/pqelXrl4vr+/nzPcnUb4fN6/D3+3d8+Xra0tmndqlOHxCIlEepT1EL0Isyg/TyaTObm4CIVCOp1OsaIQECIGg3FydeNyOJWVtLd18ZSFhZWJiWlBXg6bzervl5cWFYnFfQ5OTnp6ek+fPsnOvufl6bNw8RKRqDf9empPjxDdvzA/l81myuXy8pJisUhk7+ior6//Vs4fgt4i1S9YsrmFu7vHD9/t4/N5CELA4XDc0VYVHBYej+BweKFQaGZmhjXGL1i8ZMHiJYqtaDnbooJ8R0dnBwcHmUxqa2P79GnVEHVVeF3dEqma+n6BwaExs2YbvCws9H/rNgAA6C3N1dXPQsPCDV6Wkv7nus/Q9tMnj6kt1WFmZobD4RPnLpgzb+Ff5/n0RUeqqCDfycnV3t4+Pe0aWtzM1NTUGI9PSJqfOHeBYv/n1c80fYMg6D/IK7Gmtro6NDRckRvG4xF9fYO66uej660My8HBkUg0ycvLZjKZvT2C2+nXqdQylQmj9nZGF5fj6OIql8tlMhmNWjFEp4bFYvXL+p1cXCtpVOVxVkFeTkFeDlCXr3lw7w7QOF/DZrOFQkHWgzvl5aUD881xCUlkMpneSo+dnXD54vmOjnYOh9MjEORk3S8vL+3rG6ooKgT9x3tlDNXW1spkdoaGhlMoNgCA+MQkqVTSMFyNHAQh/POTz7Zs/dLGxk7z2vpWVtazE5KYzI6c7KzW1hYulxsWHkEimQw8QklxoZmZ2WQPTxabxed1DxELOjraqmueT5niETojHB2nBAaHhoVHjm7MYmlp9cmnm7bv3DNtWhB6hM7Odi6XExgcamZGxmBeeeumBQZ5evoUFxXcTLvW29ubmDTf2BiH7j89KMTMzHzg1dIQ9F9FdQx19MjPa9Z+/PE/1wHNbtgyUvp6BgsWL12weCkAgEotR+9yCQA4mfJ78qoP163fhKaBFVNR/f39TU2N4boz7Sc4nDt7SiodJlNz49oVtL5f5MwY8HIt3xjOeZ87e3LZeyv+5+P/09XTQ8/zwvmz5paWM6Ni6upqK2kVPT09uY+yEpIWvPf+yrNnTpw/d3rpsvfX/uP/6b3c/9KFc3VwKgr67wNrSkAQpA2wYw9BkDaMv4UelpaU5StWEUmkgZmdB/fvZD98MOYXWEEQ9PrgGAqCIG2AYygIgrQBxhoIgrQBxhoIgrQBxhoIgrRBzTwUghBWr/mIQDS5fvUilVo+hi+GIITklR+0dbSnXr6g4fWTSfMW+vkH6Orq9vb0nD19orm5qb9fDgCYM2+Bv/+0F+1nTrY0N8JqWBD0d6Yaa7y8fOKT5jU21BOIJm/lhFRcT718PfVycGhYSEi4cnta6pW01CtBIWGhoeGD/SwEQX8fr4yhEIQwLTD45LHfW+ktb+uEIAj6j/RKv4bP5x098jN4WaBPQyOty2dgYPC///yUbG6BwWDu3c1Q3Mx7YF2+UVxfjscjy1estLa2xejo9PVJbt24VlFRil5yBUHQW/QW1g1Pnux+/15m9sMHiXPnT58eXFdTQ6c3r1i5Bq3Lx+Vy5sxbuOy9FefOnhppuMHjkeUrVslksj1f7xSLRIHBodGx8QAAGG4g6K0bg3mokdblo1LLH2U9kMtl9TXVctBPJpMpFBsTE5OBdfl0dEZW8xytN1xWWozWG35Mo3I5LAdnZ50xqp0OQdCo/S2uhyKTyYPV5RsRAomoA3TYLBY6VyUQ8IVCIYlI0hn5oSAIGlt/i1jDYrEGq8s3IryubjmQm5HJLS3NAMjxeASHw7E5bPmbqSsIQZDmxmAMNbq6fMra2xlD1OXTXFNTo5Av8PMP0NPXAwBEzIwmEkklRYVSeH8oCHrbVPs1ihvsAgAWLXl30ZJ372Teyn74AIA32zVQW5evq4u7fMVKK4oNGoDWfPRxX5/kZtrV2tqad5cnU6xftq/9R1+f5NaN1PLy0quXL773/sqt23dhMJjenp4/zp5qbmqAy/wg6K2DNSUgCNIGeD0UBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaoLqWj0KxWbn6Q2McDgDQ1Nhw7PdfRlHYYVh4PJK8ao2JKTk97Sq1okwulyfNX+TvH6C46XVLc1PKsd8U98ZNXrnGycVVR0eHzWKePnmcw2G/ibOCIOjNUY01CXPm5uRkPcp6QKHYJK9aM3/RkquX/hzzD3bUrDg8gkhlEqB05OamxlMnjqrce9vKynr5ipXd3d17dm3v6+sb29OAIEhrVGMNWisLANDW1vq8+tkEuwkIQuDxusfwJa2srB0dnAryc/39pw2787TAIC6Xe+rkMQkMNBA0nr2Fay/j4hMFAn5dTc2wlynh8YitrW1dXY1cBi9ogqDxbdCaEhSKzUS3SdU1z/l83hi+noeHl4mJ6aUL5wbeR2GCvcOOr74BLy+8bGlpwuMRfX1DBCFs/mInFmsEALh/L/NR1gNYZA+Cxp1BY03CnLkYDKYgN2fYZA1al0+TF0MQQkRkVHNLE4NBNze3VN50/eql61cvoY+TV3347vLkP86clEgk+vp6zs4uv/50mMtlBwaHRkTG8Lq6KirKNLzlCwRBfxPqx1Br1n5Msba9eeMag0Efwxfz8vHF6Ojcv5Mx9OiptLhQKpeRyWQMBiORSLMf3u/u5vb391dSK7q4bEcXV8V0FQRB44Wafs2CxUsp1rbXrlyg0SrG9sVcXSeaW1iu37hF+bXCI6NOphxFKw2jjQQSyUDfAAAgFAokEjGBRALgrzQQi9kJJ7whaNxRjTVh4ZG+vv6ZGTc1DzSa37PlxPEjisdWVtZL330/68FdKrVcuZtjZWUdHBzG7OyorKRKJBI6ne7p6U2rqOBy2Z7ePng80lBXB2tfQdC480qsoVBs0NtIzoqNnxUbjzZqpy6f4uZQAID79zKzH95HMzLXUy8nr1zzyfqNOjo66G12W1qaYKyBoHEH1uWDIEgbYJIVgiBtgLEGgiBtgLEGgiBtgLEGgiBtgLEGgiBtgLEGgiBtgLEGgiBtUF03vGDxUl9ff/Qxi9mZcuzI2BavAeqK8oEXNbFWEYlEgMEoF+VLmrfQzz9AV1cXAACL8kHQ+DXoWj4EIaz6YC29lT62dfk8PLxmz5lLb2l2dnZNT0tVxJrkVR82NtbnZD80N7dcvmJVY1ND6uULyrUj8Hjk/eTVTBbz2pWLKrX7IAj6+xu0pgSfzxMKhaYmpmP4YghCCJgedO70SQcnJ0dHF+VNJ1N+Rx+0tzOqa5472DsQCEQul6MIcwIBXygUkogkDAaO+yBo/Bn0c0uh2JibWzx//nTYPo3mdfn4fF7Ksd/o9Ob+/hFf0GRlRTE3t6irq5HLYeUaCBp/1PRr1qz92N7BEQBQXl6ak/3wTV91qcLKytrNdWJjUwOP1412ahQ3UaDRKnKyH8KifBA0Hg117eUHH/4Dj8e/ifRwSNiM8IiYW+nXFPkaheRVH1Io1n+cOdnS0qSSJ1qxcg2JRDp7+gRMD0PQuDNU7qO4MN/I2NjR0UlrZ5O86kO7CQ6Zt9Pp9OaB0aS0uNDA0NDBwRHW5YOgcWeYD620T8JkMrVzKknzF9na2d9Mu1oxoLPz1/lIpCwWC3ZqIGjcGXQeCkEIETOju7u72tpahz6E5nX5hhAcOsPPb+rDAWX6FPB4ZEbETKFQ0NbGgLWyIGjceSXWIAhh9ZqPyOYW6NPy8tIxv+nlytVrnZxd0OmqBYuWLFi05N7djJrnz4ODw3R1dKKiY6OiY9E979/LLC8teXf5CiuKDbo/jVaRevkCXFwDQeMRrMsHQZA2wCQrBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHaAGMNBEHakST2wQAAAAdJREFU8P8BoSoQ2YFMpvYAAAAASUVORK5CYII=" alt=""></p> <h4 id="putchar"><a class="header-anchor" href="#putchar">#</a> putchar</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>向标准输出写入一个字符</p> <p>返回写了几个字符, EOF(-1)表示写入失败</p> <h4 id="getchar"><a class="header-anchor" href="#getchar">#</a> getchar</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> <span class="token function">getchart</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从标准输入读入一个字符</p> <p>返回值类型是 int 是为了返回 EOF(-1)</p> <h4 id="利用-putchar-和-getchar-行编辑"><a class="header-anchor" href="#利用-putchar-和-getchar-行编辑">#</a> 利用 putchar 和 getchar 行编辑</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> ch<span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>ch<span class="token operator">=</span><span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>    
    <span class="token function">putchar</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;EOF\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>windown --&gt; Ctrl + Z</li> <li>UXlinux --&gt; Ctrl + D</li></ul> <blockquote><p>Ctrl + C 会强制退出程序不会输出 EOF</p></blockquote> <h2 id="string-h"><a class="header-anchor" href="#string-h">#</a> <a href="https://www.runoob.com/cprogramming/c-standard-library-string-h.html" target="_blank" rel="noopener noreferrer">string.h<OutboundLink></OutboundLink></a></h2> <p><strong>string .h</strong> 头文件定义了一个变量类型、一个宏和各种操作字符数组的函数</p> <h3 id="strlen"><a class="header-anchor" href="#strlen">#</a> <a href="https://www.runoob.com/cprogramming/c-function-strlen.html" target="_blank" rel="noopener noreferrer">strlen<OutboundLink></OutboundLink></a></h3> <p>返回 s 的字符串长度(不包括结尾的0)</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token class-name">size_t</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> line<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;strlen=%lu\n&quot;</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;sizeof=%lu\n&quot;</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6 sizeof 不准确</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="strcmp"><a class="header-anchor" href="#strcmp">#</a> <a href="https://www.runoob.com/cprogramming/c-function-strcmp.html" target="_blank" rel="noopener noreferrer">strcmp<OutboundLink></OutboundLink></a></h4> <p>比较两个字符串 (ASCII码)</p> <p>0 表示相等</p> <p>1 表示 str2 大</p> <p>-1 表示 str1大</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> s2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> s3<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;bbc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> s4<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Abc&quot;</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h5 id="strncmp"><a class="header-anchor" href="#strncmp">#</a> strncmp</h5> <ul><li>strncmp 的 size_t 参数表示只比较前 n 个字符</li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> <span class="token function">strncmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="strcpy"><a class="header-anchor" href="#strcpy">#</a> <a href="https://www.runoob.com/cprogramming/c-function-memcpy.html" target="_blank" rel="noopener noreferrer">strcpy<OutboundLink></OutboundLink></a></h3> <p>把 src 的字符串拷贝到 dst</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>dst<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以使用 restrict 关键字来表明 src 和 dst 是不重叠的 (互相之间没有重叠的关系)</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>restrict dst<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>返回 dst, 方便后面的链式调用</p> <h4 id="复制一个字符串"><a class="header-anchor" href="#复制一个字符串">#</a> 复制一个字符串</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// strlen 获取的长度需要+1</span>
<span class="token keyword">char</span> <span class="token operator">*</span>dst <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">strcpy</span><span class="token punctuation">(</span>dst<span class="token punctuation">,</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="strcat"><a class="header-anchor" href="#strcat">#</a> <a href="https://www.runoob.com/cprogramming/c-function-strcat.html" target="_blank" rel="noopener noreferrer">strcat<OutboundLink></OutboundLink></a></h3> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>des<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把 src 拷贝到 des 的后面, 拼接成一个长的字符串, 返回 des;</p> <p>des 必须具有足够的空间</p> <p>使用 restrict 关键字</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>restrict des<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>restrict src<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="strcpy-和-strcat-的安全问题"><a class="header-anchor" href="#strcpy-和-strcat-的安全问题">#</a> strcpy 和 strcat 的安全问题</h3> <p>如果目的地没有足够的内存空间</p> <ul><li>可以使用安全版本的 strcpy 和 strcat
<ul><li>函数名多一个字母 n</li> <li>多一个参数 size_t 表示最大可以拷贝的内存空间</li></ul></li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strncpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>restrict dst<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strncat</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>restrict des<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>restrict src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="strchr"><a class="header-anchor" href="#strchr">#</a> <a href="https://www.runoob.com/cprogramming/c-function-strchr.html" target="_blank" rel="noopener noreferrer">strchr<OutboundLink></OutboundLink></a></h3> <p>在参数 <strong>str</strong> 所指向的字符串中搜索<strong>第一次</strong>出现字符 <strong>c</strong>（一个无符号字符）的位置</p> <p>返回 NULL 表示没有找到</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strchr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="strrchr"><a class="header-anchor" href="#strrchr">#</a> <a href="https://www.runoob.com/cprogramming/c-function-strrchr.html" target="_blank" rel="noopener noreferrer">strrchr<OutboundLink></OutboundLink></a></h4> <p>在参数 <strong>str</strong> 所指向的字符串中搜索<strong>最后</strong>一次出现字符 <strong>c</strong>（一个无符号字符）的位置</p> <p>返回 NULL 表示没有找到</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strrchr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="找第二个指定字符串"><a class="header-anchor" href="#找第二个指定字符串">#</a> 找第二个指定字符串</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token function">strchr</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 找第一个'l' --&gt; p ==&gt; 'llo'</span>
p <span class="token operator">=</span> <span class="token function">strchr</span><span class="token punctuation">(</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在 p 上继续找第二个'l'</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// lo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="枚举"><a class="header-anchor" href="#枚举">#</a> <a href="https://www.runoob.com/cprogramming/c-enum.html" target="_blank" rel="noopener noreferrer">枚举<OutboundLink></OutboundLink></a></h2> <p>枚举是一种用户定义的数据类型, 使用关键字 <strong>enum</strong> 定义:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">enum</span> 枚举类型的名字 <span class="token punctuation">{</span>名字<span class="token number">0</span><span class="token punctuation">,</span> 名字<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> 名字n<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>枚举类型名字通常并不使用, 要用的是在大括号里的名字, 因为它们就是常量符号,</p> <p>它们的类型是 <strong>int</strong>, 值则依次从 <strong>0 到 n</strong>. 如:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">enum</span> <span class="token class-name">colors</span> <span class="token punctuation">{</span>red<span class="token punctuation">,</span> yellow<span class="token punctuation">,</span> green<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 创建三个常量, red为0, yellow为1, green为2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>枚举可以作为值</li> <li>枚举类型可以跟上 <strong>enum</strong> 作为类型</li> <li>实际上是以整数来做内部计算和外部输入输出的</li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span> </span>
<span class="token keyword">enum</span> <span class="token class-name">color</span><span class="token punctuation">{</span>red<span class="token punctuation">,</span> yellow<span class="token punctuation">,</span> green<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 定义的枚举类型为 colo 值是red,yellow,green ==&gt; 0, 1, 2</span>
<span class="token keyword">void</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">enum</span> <span class="token class-name">color</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fn 函数接受的参数类型是 枚举类型 color</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token class-name">color</span> t <span class="token operator">=</span> green<span class="token punctuation">;</span> 
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 整数(int)接受输入</span>
    <span class="token function">fn</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">enum</span> <span class="token class-name">color</span> c<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2  整数(int)接受输出</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>声明枚举时可以在最后面加一个 <strong>numxxx</strong> 的值来表示有多少个枚举类型的值</p> <p>这样需要遍历所有的枚举量或者需要建立一个用枚举量做下标的数组的时候就很方便了</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">enum</span> <span class="token class-name">COLOR</span> <span class="token punctuation">{</span>RES<span class="token punctuation">,</span> YELLOW<span class="token punctuation">,</span> GREEN<span class="token punctuation">,</span> numColors<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>colorNames<span class="token punctuation">[</span>numColors<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> red<span class="token punctuation">,</span> yellow<span class="token punctuation">,</span> green <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="指定枚举量"><a class="header-anchor" href="#指定枚举量">#</a> 指定枚举量</h3> <p>声明枚举量时可以指定值</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">enum</span> <span class="token class-name">COLOR</span> <span class="token punctuation">{</span>RES<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> YELLOW<span class="token punctuation">,</span> GREEN<span class="token operator">=</span><span class="token number">99</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 	<span class="token comment">// ==&gt;  RES = 1, YELLOW = 2, GREEN = 99</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   	
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;YELLOW = %d&quot;</span><span class="token punctuation">,</span> YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// YELLOW = 2   </span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>即使给枚举类型的变量赋不存在的整数值也没有任何 warning 或 eror</p></blockquote> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">enum</span> <span class="token class-name">COLOR</span> <span class="token punctuation">{</span>RES<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> YELLOW<span class="token punctuation">,</span> GREEN<span class="token operator">=</span><span class="token number">99</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   	
    <span class="token keyword">enum</span> <span class="token class-name">COLOR</span> color <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;color = %d&quot;</span><span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// color = 0    </span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>虽然枚举类型可以当作类型使用, 但是实际上<strong>很少使用</strong></li> <li>如果有意义上排比的名字, 用枚举比 const int 方便</li> <li>枚举比宏( macro)好, 因为枚举有int类型</li></ul> <h2 id="结构类型"><a class="header-anchor" href="#结构类型">#</a> <a href="https://www.runoob.com/cprogramming/c-structures.html" target="_blank" rel="noopener noreferrer">结构类型<OutboundLink></OutboundLink></a></h2> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token punctuation">{</span>    
    <span class="token keyword">int</span> year<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> month<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span> today<span class="token punctuation">;</span>
    today<span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">2021</span><span class="token punctuation">;</span>
    today<span class="token punctuation">.</span>month <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>
    today<span class="token punctuation">.</span>day <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;现在的时间是: %i-%i-%i&quot;</span><span class="token punctuation">,</span>today<span class="token punctuation">.</span>year<span class="token punctuation">,</span>today<span class="token punctuation">.</span>month<span class="token punctuation">,</span>today<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	 <span class="token comment">// 现在的时间是: 2021-11-21 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="声明结构类型"><a class="header-anchor" href="#声明结构类型">#</a> 声明结构类型</h3> <ul><li>和局部变量一样, 在函数内部声明的结构类型只能在函数内部使用</li> <li>通常在函数外部声明结构类型, 这样可以被多个函数所使用</li></ul> <h4 id="形式一"><a class="header-anchor" href="#形式一">#</a> 形式一</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 声明结构体</span>
<span class="token keyword">struct</span> <span class="token class-name">point</span><span class="token punctuation">{</span>  <span class="token comment">// 声明 point 结构的变量  </span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token keyword">struct</span> <span class="token class-name">point</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">;</span> <span class="token comment">// p1和p2 里面都有 x和y</span>
<span class="token comment">// 赋值</span>
p1<span class="token punctuation">.</span>x <span class="token operator">=</span> xxx<span class="token punctuation">;</span>
p2<span class="token punctuation">.</span>y <span class="token operator">=</span> xxx<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="形式二"><a class="header-anchor" href="#形式二">#</a> 形式二</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 声明结构体</span>
<span class="token keyword">struct</span> <span class="token punctuation">{</span>    
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">;</span><span class="token comment">// p1和p2 都是一种无名结构, 里面都有 x和y</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="形式三"><a class="header-anchor" href="#形式三">#</a> 形式三</h4> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">point</span><span class="token punctuation">{</span>    
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">;</span><span class="token comment">// p1和p2 都是 point结构, 里面都有 x和y</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>第一和第三种形式, 都声明了<strong>结构 point</strong>, 但是第二种形式<strong>没有声明结构的名字</strong>, 只是定义了两个变量</p></blockquote> <h3 id="结构的初始化"><a class="header-anchor" href="#结构的初始化">#</a> 结构的初始化</h3> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token punctuation">{</span>    
    <span class="token keyword">int</span> year<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> month<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 按照顺序赋值</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span> today1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// ==&gt; 按照顺序依次赋值</span>
<span class="token comment">// 指定属性赋值</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span> today2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">.</span>year<span class="token operator">=</span><span class="token number">1999</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>month<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// ==&gt;  指定了属性的赋指定值, 未指定的为 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="结构成员"><a class="header-anchor" href="#结构成员">#</a> 结构成员</h3> <p>结构成员和数组成员有点像</p> <p>数组使用 <strong>[] 运算符和下标</strong>来访问其成员</p> <p>结构变量使用 <strong>. 运算符和名字</strong>来访问其成员</p> <h3 id="结构运算"><a class="header-anchor" href="#结构运算">#</a> 结构运算</h3> <p>要访问整个结构, 直接用结构变量的名字</p> <p>对于整个结构, 可以做赋值、取地址, 也可以传递给函数参数</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">point</span><span class="token punctuation">{</span>    
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// 先定义 p1, p2 为 point 结构</span>
<span class="token keyword">struct</span> <span class="token class-name">point</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">;</span>
p1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">point</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 相当于p1.×=5; p1.y = 10;</span>
p1 <span class="token operator">=</span> p2<span class="token punctuation">;</span> <span class="token comment">// 相当于p1.x = p2.x; p1.y = p2.y;</span>
<span class="token comment">// 上面赋值以后 p1和p2 就是完全分开的两个结构, 之间没有任何关系</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="结构指针"><a class="header-anchor" href="#结构指针">#</a> 结构指针</h3> <p>和数组不同呢, 结构变量的名字并不是结构变量的地址, 必须使用 &amp;运算符</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token operator">*</span>pDate <span class="token operator">=</span> <span class="token operator">&amp;</span>today<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="结构作为函数参数"><a class="header-anchor" href="#结构作为函数参数">#</a> 结构作为函数参数</h3> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">date</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>可以将整个结构可以作为参数的值传入函数 (不推荐这样做)</p> <ul><li>这时候是在函数内新建一个结构变量, 并<strong>复制调用者的结构的值</strong></li></ul></li> <li><p><strong>最好的做法是传递结构的指针</strong></p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">date</span><span class="token operator">*</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token operator">*</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span><span class="token operator">*</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token operator">*</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h3 id="指针访问结构里的成员"><a class="header-anchor" href="#指针访问结构里的成员">#</a> 指针访问结构里的成员</h3> <ul><li>使用 <strong>-&gt;</strong> 运算符(不带 *运算符)</li> <li>*(p).xxx 的方式</li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token punctuation">{</span>    
    <span class="token keyword">int</span> year<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> month<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span> today <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token operator">*</span>pDate <span class="token operator">=</span> <span class="token operator">&amp;</span>today<span class="token punctuation">;</span> 
pDate<span class="token operator">-&gt;</span>year <span class="token operator">=</span> <span class="token number">9999</span><span class="token punctuation">;</span> <span class="token comment">// 使用指针修改 today 结构里的 year</span>
<span class="token comment">// 或者</span>
<span class="token punctuation">(</span><span class="token operator">*</span>pDate<span class="token punctuation">)</span><span class="token punctuation">.</span>year <span class="token operator">=</span> <span class="token number">9999</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="结构中的结构"><a class="header-anchor" href="#结构中的结构">#</a> 结构中的结构</h3> <p>数组结构</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token punctuation">{</span>    
    <span class="token keyword">int</span> year<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> month<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span> todays<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>  
    <span class="token punctuation">{</span><span class="token number">1999</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">2001</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">2002</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>结构类型里还有结构</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token comment">// 两个结构类型</span>
<span class="token keyword">struct</span> <span class="token class-name">date</span> <span class="token punctuation">{</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span> <span class="token keyword">int</span> y<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">time</span> <span class="token punctuation">{</span> <span class="token keyword">int</span> a<span class="token punctuation">;</span> <span class="token keyword">int</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 结构里放结构</span>
<span class="token keyword">struct</span> <span class="token class-name">dateAndTime</span><span class="token punctuation">{</span>    
    <span class="token keyword">struct</span> <span class="token class-name">date</span> d<span class="token punctuation">;</span>    
    <span class="token keyword">struct</span> <span class="token class-name">time</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">dateAndTime</span> DA<span class="token punctuation">;</span>

<span class="token comment">// 正常修改</span>
DA<span class="token punctuation">.</span>d<span class="token punctuation">.</span>x <span class="token operator">=</span> xxx<span class="token punctuation">;</span>
DA<span class="token punctuation">.</span>t<span class="token punctuation">.</span>a <span class="token operator">=</span> xxx<span class="token punctuation">;</span>

<span class="token comment">// 指针访问结构的结构成员</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>DA<span class="token punctuation">;</span>
p<span class="token operator">-&gt;</span>d<span class="token punctuation">.</span>x <span class="token operator">=</span> xxx<span class="token punctuation">;</span>
<span class="token comment">// 或者</span>
<span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">.</span>d<span class="token punctuation">.</span>x <span class="token operator">=</span> xxx<span class="token punctuation">;</span>

<span class="token comment">// p-&gt;d-&gt;x = xxx; Error! 因为 d 不是指针</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="自定义数据类型"><a class="header-anchor" href="#自定义数据类型">#</a> 自定义数据类型</h2> <p>C语言提供了一个叫做 <strong><a href="https://www.runoob.com/cprogramming/c-typedef.html" target="_blank" rel="noopener noreferrer">typedef<OutboundLink></OutboundLink></a></strong> 的功能来声明一个已有的数据类型的新名字, 比如:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">int</span> myInt<span class="token punctuation">;</span> <span class="token comment">// typedef 原来的类型名 新的类型名</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使得 <strong>myInt</strong> 成为 <strong>int</strong> 类型的别名这样,</p> <p><strong>myInt</strong> 这个名字就可以代替 <strong>int</strong> 出现在变量定义和参数声明的地方了</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code>myInt a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> len<span class="token punctuation">;</span> <span class="token comment">// ==&gt; int a, b, len;</span>
myInt numbers<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ==&gt; int numbers[10];</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用 typedef 可以重载已有的类型名字, 使其更清晰, 更有可读性</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token class-name">int64_t</span><span class="token punctuation">;</span> <span class="token comment">// long 的别名为 int64_t</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">myDate</span> <span class="token punctuation">{</span>
<span class="token comment">// typedef struct{  匿名的也可以    </span>
    <span class="token keyword">int</span> year<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> month<span class="token punctuation">;</span>    
    <span class="token keyword">int</span> day<span class="token punctuation">;</span>
<span class="token punctuation">}</span> date<span class="token punctuation">;</span> <span class="token comment">// myDate 的别名为 date</span>
<span class="token class-name">int64_t</span> i <span class="token operator">=</span> <span class="token number">10000000</span><span class="token punctuation">;</span>
date d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="联合体-共同体"><a class="header-anchor" href="#联合体-共同体">#</a> 联合体 (共同体)</h2> <p><strong>联合体</strong>是一种特殊的数据类型，允许您在相同的内存位置存储不同的数据类型</p> <ul><li>所有成员共享一个内存空间</li> <li>同一时间只有一个成功是有效的</li> <li>union 的大小是其最大的成员</li> <li>只对第一个成员做初始化</li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">union</span> AnElt<span class="token punctuation">{</span>    
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>    
    <span class="token keyword">char</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span> elt1<span class="token punctuation">,</span> elt2<span class="token punctuation">;</span>

elt1<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
elt1<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>
elt2<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="define"><a class="header-anchor" href="#define">#</a> #define</h2> <p># 开头的都是预处理指令</p> <p>它们不是C语言的成分, 但是C语言程序离不开它们</p> <p># define用来定义一个宏</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PI</span> <span class="token expression"><span class="token number">3.14159</span> </span><span class="token comment">// 定义一个宏(PI) 值为 3.14159 </span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">FORMAT</span> <span class="token string">&quot;%f\n&quot;</span> <span class="token comment">// 定义一个宏(FORMAT) 值为 &quot;%f\n&quot; </span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PI2</span> <span class="token expression"><span class="token number">2</span><span class="token operator">*</span>PI  </span><span class="token comment">// 定义一个宏(PI2) 值为 2*PI </span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">PRI</span> <span class="token expression"><span class="token function">printf</span><span class="token punctuation">(</span></span><span class="token string">&quot;hello &quot;</span><span class="token expression"><span class="token punctuation">)</span><span class="token punctuation">;</span>\ </span><span class="token comment">// 定义一个宏(PRI) 值为两次 printf</span></span>
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span>FORMAT<span class="token punctuation">,</span> PI2 <span class="token operator">*</span> <span class="token number">3.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18.849540</span>
    PRI<span class="token punctuation">;</span> <span class="token comment">// hello world</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>注意点:</p> <ul><li><p>结尾是<strong>没有分号</strong>的, 因为不是C的语句</p></li> <li><p>名字必须是一个单词, 值可以是各种东西 (包括空格)</p> <ul><li>使用了宏会在C语言的编译器开始编译之前,</li> <li>编译预处理程序(cpp)会把程序中的名字换成值, 完全的<strong>文本替换</strong></li></ul></li> <li><p>如果一个宏的值中有其他的宏的名字, 也是可以的</p></li> <li><p>如果一个宏的值超过一行, 最后一行之前的行末需要<strong>加 \</strong></p></li> <li><p>宏的值后面出现的注释不会被当作宏的值的一部分</p></li></ul> <blockquote><p>也可以定义没有值的宏, 一般用于条件编译</p></blockquote> <h3 id="预先定义的宏"><a class="header-anchor" href="#预先定义的宏">#</a> 预先定义的宏</h3> <p>c语言预先有定义一些宏</p> <ul><li>__LINE__
<ul><li>源代码文件的行号</li></ul></li> <li>__FILE__
<ul><li>源代码的文件名</li></ul></li> <li>__DATE__
<ul><li>编译时的日期</li></ul></li> <li>__TIME__
<ul><li>编译时的日期</li></ul></li> <li>__STDC__
<ul><li>当要求程序严格遵循<strong>ANSIC标准时</strong>该标识符被赋值为1</li></ul></li></ul> <div class="language-C line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n&quot;</span><span class="token punctuation">,</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// E:\C\C语言学习代码\Dev_C++.c</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;:%d\n&quot;</span><span class="token punctuation">,</span><span class="token constant">__LINE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// :6</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n&quot;</span><span class="token punctuation">,</span><span class="token constant">__DATE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Nov 22 2021</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n&quot;</span><span class="token punctuation">,</span><span class="token constant">__TIME__</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 21:04:54</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="携带参数的宏"><a class="header-anchor" href="#携带参数的宏">#</a> 携带参数的宏</h3> <p>有点类似于函数 (参数没有类型检查)</p> <p>如果需要类型检查可以使用 <strong><a href="https://www.runoob.com/w3cnote/cpp-inline-usage.html" target="_blank" rel="noopener noreferrer">inline<OutboundLink></OutboundLink></a> 函数</strong></p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">cube</span><span class="token expression"><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> </span><span class="token comment">// 定义一个宏(cube)有参数x 值为((x)*(x)*(x))</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">cube</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ==&gt; (5)*(5)*(5)</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>❌ 错误的宏定义方式:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">A1</span><span class="token expression"><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span>x <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> </span><span class="token comment">// Error</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">A2</span><span class="token expression"><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span> </span><span class="token comment">// Error</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>    
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">A1</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 205       </span>
    <span class="token comment">// 替换为 ==&gt;  (5+2 * 100)    </span>
    
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">/</span> <span class="token function">A2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20000       </span>
    <span class="token comment">// 替换为 ==&gt;  200/(1) * 100   </span>
    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="带参数的宏定义原则"><a class="header-anchor" href="#带参数的宏定义原则">#</a> 带参数的宏定义原则</h3> <ul><li>一切都要带括号
<ul><li>整个值要括号</li> <li>参数出现的每个地方都要括号</li></ul></li></ul> <div class="language-C line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">A1</span><span class="token expression"><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span></span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>多种类型的参数宏定义:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">MIN</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">:</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span></span><span class="token comment">// 也可以组合(嵌套)其他的宏</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>⚠️ 宏定义最后一定一定不要加<strong>分号 (😉</strong></p></blockquote> <h2 id="项目"><a class="header-anchor" href="#项目">#</a> 项目</h2> <p>在DevC++中新建一个项目, 然后把几个源代码文件加入进去</p> <p>对于项目, DeVC++的编译会把一个项目中所有的源代码文件都编译后, 链接起来</p> <p>有的IDE有分开的编译和构建两个按钮, 前者是对单个源代码文件编译, 后者是对整个项目做链接</p> <h3 id="头文件"><a class="header-anchor" href="#头文件">#</a> 头文件</h3> <p>把函数原型放到一个头文件 <strong>(以.h结尾)</strong> 中,在需要</p> <p><strong>调用 / 定义</strong> 这个函数的源代码文件(.c文件)中 <strong>#include</strong> 这个头文件,</p> <p>就能让编译器在编译的时候知道函数的原型</p> <blockquote><p>在头文件里是可以引入其他的头文件的</p></blockquote> <blockquote><p>💡一般的做法就是<strong>任何.c文件</strong>都有对应<strong>同名的.h文件</strong>, 把所有对外公开的函数的原型和全局变量的声明都放进去</p></blockquote> <p>头文件的一些规则:</p> <ul><li>声明才可以被放在头文件中
<ul><li>这是规则不是一定要遵守的</li> <li>否则会造成一个项目中多个编译单元里有重名的实体</li></ul></li> <li>某些编译器允许几个编译单元 (.c文件) 中存在同名的函数, 或者用 <a href="https://blog.csdn.net/sinat_36544290/article/details/104635316" target="_blank" rel="noopener noreferrer">weak<OutboundLink></OutboundLink></a> 修饰符来强调这种存在</li></ul> <h3 id="include"><a class="header-anchor" href="#include">#</a> #include</h3> <p>#include 是一个编译预处理指令, 和宏一样, 在编译之前就处理了</p> <p>它把那个文件的全部文本内容原封不动地插入到它所在的地方</p> <p>所以也不是一定要在c文件的最前面 #include</p> <h3 id="使用-或"><a class="header-anchor" href="#使用-或">#</a> 使用 &quot;&quot; 或 &lt;&gt;</h3> <p>#include 有两种形式来指出要插入的文件</p> <ul><li><strong>#include &quot;xxx.h&quot;</strong> 要求编译器首先在当前目录(c文件所在的目录)
<ul><li>寻找这个文件, 如果没有则到编译器指定的目录去找</li></ul></li> <li><strong>#include &lt;xxx.h&gt;</strong> 让编译器只在指定的目录去找</li> <li>编译器自己知道自己的标准库的头文件在哪里</li> <li>环境变量和编译器命令行参数也可以指定寻找头文件的目录</li></ul> <h3 id="include的误区"><a class="header-anchor" href="#include的误区">#</a> #include的误区</h3> <ul><li>#include 不是用来引入库的</li> <li><strong>stdio.h</strong> 里只有 printf 的原型, printf 的代码在另外的地方,某个.lib( Windows)或.a(Unix)中</li> <li>现在的C语言编译器默认会引入所有的标准库</li> <li>**#include &lt; stdio. h&gt;**只是为了让编译器知道printf 函数的原型
<ul><li>保证你调用时给出的参数值是正确的类型</li></ul></li></ul> <h3 id="头文件中不对外公开的函数"><a class="header-anchor" href="#头文件中不对外公开的函数">#</a> 头文件中不对外公开的函数</h3> <ul><li>在函数前面加上 <strong>static</strong> 就使得它成为只能在所在的编译单元(.c文件)中被使用的函数</li> <li>在全局变量前面加上 <strong>statIc</strong> 就使得它成为只能在所在的编译单元(.c文件)中被使用的全局变量</li></ul> <h3 id="头文件定义全局变量"><a class="header-anchor" href="#头文件定义全局变量">#</a> 头文件定义全局变量</h3> <p>变量和函数一样也是有声明的</p> <ul><li><p>变量的定义: <strong><code>int i;</code></strong></p></li> <li><p>变量的声明: <strong><code>extern int i;</code></strong></p> <ul><li>变量声明的时候不能初始化</li></ul></li></ul> <h3 id="声明和定义"><a class="header-anchor" href="#声明和定义">#</a> 声明和定义</h3> <ul><li><p>声明不产生代码的东西, 告诉编译器有这个声明的东西存在</p> <ul><li>函数声明 (原型)</li> <li>变量声明</li> <li>结构声明</li> <li>枚举声明</li> <li>类型声明 (typedef)</li> <li>宏声明</li> <li>inline 函数</li></ul></li> <li><p>定义是产生代码的东西</p></li></ul> <p>同一个编译单元里, 同名的结构不能被重复声明</p> <p>如果你的头文件里有结构的声明, 很难这个头文件不</p> <p>会在一个编译单元里被 #include 多次</p> <p>所以需要 “标准头文件结构&quot;, 如下:</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_MAX_H_ </span><span class="token comment">// 如果 _MAX_H_ 这个宏没有定义则往下走, 否则不会往下走</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_MAX_H_</span> <span class="token comment">// 定义这个宏</span></span>
<span class="token comment">// 声明下面的一些东西</span>

<span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">extern</span> <span class="token keyword">int</span> gAll<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// 结束 </span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>运用条件编译和宏, 保证这个头文件在</p> <p>​	一个编译单元中只会被 <strong>#include一次</strong></p> <p><strong>#pragma once</strong> 也能起到相同的作用,</p> <p>​	但是不是所有的编译器都支持</p> <h2 id="格式化输入输出"><a class="header-anchor" href="#格式化输入输出">#</a> 格式化输入输出</h2> <ul><li><p><a href="https://www.runoob.com/cprogramming/c-function-printf.html" target="_blank" rel="noopener noreferrer">printf<OutboundLink></OutboundLink></a></p> <p>printf函数格式化输出指定的类型</p> <ul><li><code>%[flags][width][.prec][hIL]type</code></li></ul> <table><thead><tr><th>flag</th> <th>含义</th></tr></thead> <tbody><tr><td>-</td> <td>左对齐</td></tr> <tr><td>+</td> <td>在前面放 + 或 - (不影响结果)</td></tr> <tr><td>(space)</td> <td>正数留空</td></tr> <tr><td>0</td> <td>0填充</td></tr></tbody></table> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%9d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//      123</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%09d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//000000123</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%-9d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+9d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//      +123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><table><thead><tr><th>width 或 prec</th> <th>含义</th></tr></thead> <tbody><tr><td>number</td> <td>最小字符数</td></tr> <tr><td>*</td> <td>下一个参数是字符数</td></tr> <tr><td>.number</td> <td>小数点后的位数</td></tr> <tr><td>.*</td> <td>下一个参数是小数点后的位数</td></tr></tbody></table> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%9.2f\n&quot;</span><span class="token punctuation">,</span> <span class="token number">123.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//    123.00</span>
<span class="token comment">// ==&gt; 9.2 整个输出占9个位置小数点后2位</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%*d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//   123</span>
<span class="token comment">// ==&gt; 整数并且整个输出占6个位置, 前面补空白</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%6d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//   123</span>
<span class="token comment">// 和上面一样</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.*d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00123</span>
<span class="token comment">// ==&gt; 整数并且整个输出占6个位置, 前面补0</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.5d\n&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00123</span>
<span class="token comment">// 和上面一样</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><table><thead><tr><th>类型修饰(hIL)</th> <th>含义</th></tr></thead> <tbody><tr><td>hh</td> <td>单个字节</td></tr> <tr><td>h</td> <td>short</td></tr> <tr><td>l</td> <td>long</td></tr> <tr><td>ll</td> <td>long long</td></tr> <tr><td>L</td> <td>long double</td></tr></tbody></table> <table><thead><tr><th>type</th> <th>用于</th> <th>type</th> <th>用于</th></tr></thead> <tbody><tr><td>i 或 d</td> <td>int</td> <td>g</td> <td>float</td></tr> <tr><td>u</td> <td>unsigned int</td> <td>G</td> <td>float</td></tr> <tr><td>o</td> <td>八进制</td> <td>a 或 A</td> <td>十六进制浮点</td></tr> <tr><td>x</td> <td>十六进制</td> <td>c</td> <td>char</td></tr> <tr><td>X</td> <td>字母大写的十六进制</td> <td>s</td> <td>字符串</td></tr> <tr><td>f 或 F</td> <td>float, 6</td> <td>p</td> <td>指针</td></tr> <tr><td>e 或 E</td> <td>指数</td> <td>n</td> <td>读入 /  写出的个数</td></tr></tbody></table></li> <li><p><a href="https://www.runoob.com/cprogramming/c-function-sprintf.html" target="_blank" rel="noopener noreferrer">scanf<OutboundLink></OutboundLink></a></p> <p>scanf函数可以输入</p> <ul><li><code>%[flag]type</code></li></ul> <table><thead><tr><th>flag</th> <th>含义</th> <th>flag</th> <th>含义</th></tr></thead> <tbody><tr><td>*</td> <td>跳过</td> <td>l</td> <td>long / double</td></tr> <tr><td>数字</td> <td>最大字符数</td> <td>ll</td> <td>long long</td></tr> <tr><td>hh</td> <td>char</td> <td>L</td> <td>long double</td></tr> <tr><td>h</td> <td>short</td> <td></td> <td></td></tr></tbody></table> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> num<span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%*d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输入 10 99 </span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 跳过 10 输出 99 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th>type</th> <th>用于</th> <th>type</th> <th>用于</th></tr></thead> <tbody><tr><td>d</td> <td>int</td> <td>s</td> <td>字符串(单词)</td></tr> <tr><td>i</td> <td>可以为 整数 16进制 8 进制</td> <td>[...]</td> <td>所允许的字符</td></tr> <tr><td>u</td> <td>unsigned int</td> <td>p</td> <td>指针</td></tr> <tr><td>o</td> <td>八进制</td> <td>x</td> <td>十六进制</td></tr> <tr><td>a,e,f,g</td> <td>float</td> <td>c</td> <td>char</td></tr></tbody></table></li></ul> <h3 id="printf-和-scanf-的返回值"><a class="header-anchor" href="#printf-和-scanf-的返回值">#</a> printf 和 scanf 的返回值</h3> <ul><li>读入的项目数</li> <li>输出的字符数</li> <li>在要求严格的程序中, 应该判断每次调用 printf 或
<ul><li>scanf 的返回值,从而了解程序运行中是否存在问题</li></ul></li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> num<span class="token punctuation">;</span>
<span class="token keyword">int</span> i1 <span class="token operator">=</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%i&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输入 1234</span>
<span class="token keyword">int</span> i2 <span class="token operator">=</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d:%d\n&quot;</span><span class="token punctuation">,</span> i1<span class="token punctuation">,</span> i2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// i1=1 i2=5(\n算一个字符)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="文件的输入输出"><a class="header-anchor" href="#文件的输入输出">#</a> 文件的输入输出</h2> <p>命令行使用 &gt; 和 &lt; 做重定向可以让文件的输入输出到指定文件中去</p> <h3 id="fopen"><a class="header-anchor" href="#fopen">#</a> <a href="https://www.runoob.com/cprogramming/c-function-fopen.html" target="_blank" rel="noopener noreferrer">fopen<OutboundLink></OutboundLink></a></h3> <p>使用 fopen函数 读取文件的基本代码</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    FILE <span class="token operator">*</span>fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;hello.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token keyword">int</span> num<span class="token punctuation">;</span> 
        <span class="token function">fscanf</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> <span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;无法打开文件\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><table><thead><tr><th>参数</th> <th>含义</th></tr></thead> <tbody><tr><td>r</td> <td>打开只读</td></tr> <tr><td>r+</td> <td>打开读写, 从文件头开始</td></tr> <tr><td>W</td> <td>打开只写。如果不存在则新建, 如果存在则清空</td></tr> <tr><td>W+</td> <td>打开读写。如果不存在则新建, 如果存在则清空</td></tr> <tr><td>a</td> <td>打开追加。如果不存在则新建, 如果存在则从文件尾开始</td></tr> <tr><td>[w/a]x</td> <td>只新建, 如果文件已存在则不能打开</td></tr></tbody></table> <h2 id="二进制文件"><a class="header-anchor" href="#二进制文件">#</a> 二进制文件</h2> <ul><li>其实所有的文件最终都是二进制的</li> <li>文本文件无非是用最简单的方式可以读写的文件
<ul><li>more、tail</li> <li>cat</li> <li>vi</li></ul></li> <li>而二进制文件是需要专门的程序来读写文件</li> <li>文本文件的输入输出是格式化，可能经过转码</li></ul> <h3 id="文本-和-二进制"><a class="header-anchor" href="#文本-和-二进制">#</a> 文本 和 二进制</h3> <ul><li><p>文件的优势是方便人类读写, 而且却跨平台</p> <ul><li>文本的缺点是程序输入输出要经过格式化, 开销大</li></ul></li> <li><p>二进制的缺点是人类读取困难, 而却不跨平台</p> <ul><li>int的大小不一致, 大小端问题</li> <li>二进制的优点是程序读写块</li></ul></li></ul> <h3 id="程序为什么要文件"><a class="header-anchor" href="#程序为什么要文件">#</a> 程序为什么要文件</h3> <ul><li>配置
<ul><li>Unix用文本，Windows用注册表</li></ul></li> <li>数据
<ul><li>稍微有点量的数据都放数据库了</li></ul></li> <li>媒体
<ul><li>这个只能是二进制的</li></ul></li> <li>现实是，程序通过第三方库来读写文件，很少直接读写二进制文件了</li></ul> <h3 id="二进制读写"><a class="header-anchor" href="#二进制读写">#</a> 二进制读写</h3> <h4 id="fread"><a class="header-anchor" href="#fread">#</a> <a href="https://www.runoob.com/cprogramming/c-function-fread.html" target="_blank" rel="noopener noreferrer">fread<OutboundLink></OutboundLink></a></h4> <p>读取文件以二进制形式</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token class-name">size_t</span> <span class="token function">fread</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">,</span> <span class="token class-name">size_t</span> size<span class="token punctuation">,</span> <span class="token class-name">size_t</span> nitem<span class="token punctuation">,</span> FILE <span class="token operator">*</span>stream<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数</p> <ul><li><p><strong>ptr</strong>: 这是指向要被写入的元素数组的指针</p></li> <li><p><strong>size</strong>: 这是要被写入的每个元素的大小，以字节为单位。</p></li> <li><p><strong>nitem</strong>: 这是元素的个数，每个元素的大小为 size 字节</p></li> <li><p><strong>stream</strong>: 这是指向文件指针</p></li> <li><p>返回的是成功读取的字节数</p></li></ul> <blockquote><p>二进制文件的读写一般都是通过对一个结构变量的操作来进行的, nitem参数就是用来说明这次读写几个结构变量</p></blockquote> <h4 id="fwrite"><a class="header-anchor" href="#fwrite">#</a> <a href="https://www.runoob.com/cprogramming/c-function-fwrite.html" target="_blank" rel="noopener noreferrer">fwrite<OutboundLink></OutboundLink></a></h4> <p>写入文件以二进制形式</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token class-name">size_t</span> <span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">,</span> <span class="token class-name">size_t</span> size<span class="token punctuation">,</span> <span class="token class-name">size_t</span> nitem<span class="token punctuation">,</span> FILE <span class="token operator">*</span>stream<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数和 <code>fread函数类似</code></p> <h4 id="文件定位"><a class="header-anchor" href="#文件定位">#</a> 文件定位</h4> <h5 id="ftell"><a class="header-anchor" href="#ftell">#</a> <a href="https://www.runoob.com/cprogramming/c-function-ftell.html" target="_blank" rel="noopener noreferrer">ftell<OutboundLink></OutboundLink></a></h5> <p>返回给定流 stream 的当前文件位置</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">long</span> <span class="token function">ftell</span><span class="token punctuation">(</span>FILE <span class="token operator">*</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="fseek"><a class="header-anchor" href="#fseek">#</a> <a href="https://www.runoob.com/cprogramming/c-function-fseek.html" target="_blank" rel="noopener noreferrer">fseek<OutboundLink></OutboundLink></a></h5> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> <span class="token function">fseek</span><span class="token punctuation">(</span>FILE <span class="token operator">*</span>stream<span class="token punctuation">,</span> <span class="token keyword">long</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> whence<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>offset: 相对 whence 的偏移量，以字节为单位</p> <p>whence常量:</p> <ul><li>SEEK_SET: 从头开始</li> <li>SEEK_CUR: 从当前位置开始</li> <li>SEEK_END: 从尾开始（倒过来）</li></ul> <h2 id="按位运算"><a class="header-anchor" href="#按位运算">#</a> <a href="https://www.runoob.com/w3cnote/bit-operation.html" target="_blank" rel="noopener noreferrer">按位运算<OutboundLink></OutboundLink></a></h2> <p>c语言是有按位运算符的运算符:</p> <table><thead><tr><th>运算符</th> <th>含义</th></tr></thead> <tbody><tr><td><strong>.&amp;</strong></td> <td>按位的与</td></tr> <tr><td><strong>.|</strong></td> <td>按位的或</td></tr> <tr><td><strong>.~</strong></td> <td>按位取法</td></tr> <tr><td><strong>.^</strong></td> <td>按位的异或</td></tr> <tr><td><strong>.&lt;&lt;</strong></td> <td>左移</td></tr> <tr><td><strong>.&gt;&gt;</strong></td> <td>右移</td></tr></tbody></table> <h3 id="按位与"><a class="header-anchor" href="#按位与">#</a> 按位与 &amp;</h3> <ul><li><p>如果 <strong>(x)<sub>i</sub> == 1</strong> <b>并且</b> <strong>(y)<sub>i</sub> == 1</strong>, 那么 <strong>(x &amp; y)<sub>i</sub> = 1</strong></p></li> <li><p>否则的话 <strong>(x &amp; y)<sub>i</sub> = 0</strong></p></li> <li><p>按位与常用于两种应用：</p> <ul><li>让某一位或某些位的值为0: <strong>x &amp; 0xFE</strong></li> <li>取一个数中的一段: <strong>x &amp; 0xFF</strong></li></ul></li></ul> <blockquote><p>当两个二进制都为 1 时, 按位与的值为1, 否则为0</p></blockquote> <h3 id="按位或"><a class="header-anchor" href="#按位或">#</a> 按位或 |</h3> <ul><li><p>如果 <strong>(x)<sub>i</sub> == 1</strong> <b>或</b> <strong>(y)<sub>i</sub> == 1</strong>, 那么 <strong>(x | y)<sub>i</sub> = 1</strong></p></li> <li><p>否则的话 <strong>(x | y)<sub>i</sub> = 0</strong></p></li> <li><p>按位或常用于两种应用：</p> <ul><li>使的一位或几个位的值为1: <strong>x | 0x01</strong></li> <li>把两个数拼起来: <strong>0x00FF | 0xFF00</strong></li></ul></li></ul> <blockquote><p>当两个二进制有一个为 1 时, 按位或的值为1, 只有两个都为0, 才为0</p></blockquote> <h3 id="按位取反"><a class="header-anchor" href="#按位取反">#</a> 按位取反 ~</h3> <ul><li><p><strong>(~x)<sub>i</sub> = 1 - (~x)<sub>i</sub></strong></p></li> <li><p><strong>把1位变0, 0位变1</strong></p></li> <li><p>想得到全部位为1的数: <strong>~0</strong></p></li> <li><p>7的二进制是0111</p> <ul><li>**x | 7 **使得 <strong>低3位为1</strong></li> <li><strong>x &amp; ~7</strong> 使得 <strong>低3位为0</strong></li></ul></li></ul> <blockquote><p>按位取反会将二进制位上的数取反, <strong>1变0, 0变1</strong></p></blockquote> <h3 id="逻辑运算-和-按位运算"><a class="header-anchor" href="#逻辑运算-和-按位运算">#</a> 逻辑运算 和 按位运算</h3> <p>对于逻辑运算，它只看到两个值：0和1</p> <p>可以认为逻辑运算相当于把所有非0值都变成1，然后做按位运算</p> <ul><li><strong>5 &amp; 4 --&gt; 4</strong> 然后 <strong>5 &amp;&amp; 4 ---&gt; 1 &amp; 1 ---&gt; 1</strong></li> <li><strong>5|4 --&gt; 5</strong> 然后 <strong>5 ‖ 4 --&gt; 1|1 --&gt; 1</strong></li> <li><strong>~4 --&gt; 3</strong> 然后 <strong>!4 --&gt; !1 --&gt; 0</strong></li></ul> <h3 id="按位异或"><a class="header-anchor" href="#按位异或">#</a> 按位异或 ^</h3> <ul><li><p>如果 <strong>(x)<sub>i</sub> == (y)<sub>i</sub></strong> , 那么 <strong>(x ^ y)<sub>i</sub> = 0</strong></p></li> <li><p>否则的话 <strong>(x ^ y)<sub>i</sub> = 1</strong></p></li> <li><p>如果两个位相等，那么结果为0；不相等则结果为1</p></li> <li><p>如果x和y相等，那么 <strong>x^y</strong> 的结果为0</p></li> <li><p>对一个变量用<strong>同一个值异或两次</strong>，等于什么也没做</p> <ul><li><strong>x ^ y ^ y --&gt; x</strong></li></ul></li></ul> <h3 id="左移"><a class="header-anchor" href="#左移">#</a> 左移 &lt;&lt;</h3> <ul><li><strong>i &lt;&lt; j</strong></li> <li><strong>i</strong> 中所有的位<strong>向左移动j个位置右边填入0</strong></li> <li>所有小于int的类型，移位以int的方式来做，结果是int</li> <li><strong>x &lt;&lt;= 1</strong> 等价于 <strong>x *= 2</strong></li> <li><strong>x &lt;&lt;= n</strong> 等价于 <strong>x *= 2<sup>n</sup></strong></li></ul> <h3 id="右移"><a class="header-anchor" href="#右移">#</a> 右移 &gt;&gt;</h3> <ul><li><strong>i &gt;&gt; j</strong></li> <li><strong>i</strong> 中所有的<strong>位向右移j个位置</strong></li> <li>所有小于int的类型，移位以int的方式来做，结果是int</li> <li>对于 unsigned 的类型，左边填入0</li> <li>对于signed的类型，左边填入原来的最高位（保持符号不变）</li> <li><strong>x &gt;&gt;= 1</strong> 等价于 <strong>x /= 2</strong></li> <li><strong>x &gt;&gt;= n</strong> 等价于 <strong>x /= 2<sup>n</sup></strong></li></ul> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0x80000000</span><span class="token punctuation">;</span>
<span class="token keyword">unsigned</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0x80000000</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a=%d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -2147483648</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;b=%u\n&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2147483648</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a&gt;&gt;1=%d\n&quot;</span><span class="token punctuation">,</span> a<span class="token operator">&gt;&gt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1073741824</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;b&gt;&gt;1=%u\n&quot;</span><span class="token punctuation">,</span> b<span class="token operator">&gt;&gt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1073741824</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>移位的位数不要使用负数, 这是没有定义的行为</p></blockquote> <p>输出一个数的二进制</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> number<span class="token punctuation">;</span>
    <span class="token comment">// scanf(&quot;%d&quot;, &amp;number);</span>
    number <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> mask <span class="token operator">=</span> <span class="token number">1u</span> <span class="token operator">&lt;&lt;</span> <span class="token number">31</span><span class="token punctuation">;</span> <span class="token comment">// unsigned 省略类型默认为 int</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> mask<span class="token punctuation">;</span> mask <span class="token operator">&gt;&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> number <span class="token operator">&amp;</span> mask <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// 00000000000000000000000000000101</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="位段"><a class="header-anchor" href="#位段">#</a> 位段</h3> <p>把一个 int 若干位组合成一个结构</p> <div class="language-c line-numbers-mode"><pre v-pre="" class="language-c"><code><span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// a 占 3个比特</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> b<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// b 占 1个比特</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> c<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// c 占 1个比特</span>
	<span class="token keyword">int</span> d<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">;</span> <span class="token comment">// d 占 11个比特</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>可以直接用位段的成员名称来访问
<ul><li>比移位、与、或还方便</li></ul></li> <li>编译器会安排其中的位的排列，不具有可移植性</li> <li>当所需的位超过一个 int 时会采用多个 int 保存</li></ul></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/2/27 19:41:45</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-bac73764 data-v-c0d124fa><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#程序结构" class="sidebar-link reco-side-程序结构" data-v-bac73764>程序结构</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#常用内置函数" class="sidebar-link reco-side-常用内置函数" data-v-bac73764>常用内置函数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#printf" class="sidebar-link reco-side-printf" data-v-bac73764>printf</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#scanf" class="sidebar-link reco-side-scanf" data-v-bac73764>scanf</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#rand" class="sidebar-link reco-side-rand" data-v-bac73764>rand</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#数据类型" class="sidebar-link reco-side-数据类型" data-v-bac73764>数据类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#整数" class="sidebar-link reco-side-整数" data-v-bac73764>整数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#浮点数" class="sidebar-link reco-side-浮点数" data-v-bac73764>浮点数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#字符类型" class="sidebar-link reco-side-字符类型" data-v-bac73764>字符类型</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#sizeof" class="sidebar-link reco-side-sizeof" data-v-bac73764>sizeof</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#循环" class="sidebar-link reco-side-循环" data-v-bac73764>循环</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#switch-语句" class="sidebar-link reco-side-switch-语句" data-v-bac73764>switch 语句</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#goto" class="sidebar-link reco-side-goto" data-v-bac73764>goto</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#转义字符" class="sidebar-link reco-side-转义字符" data-v-bac73764>转义字符</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#类型转换" class="sidebar-link reco-side-类型转换" data-v-bac73764>类型转换</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#运算自动转换" class="sidebar-link reco-side-运算自动转换" data-v-bac73764>运算自动转换</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#输入输出转换" class="sidebar-link reco-side-输入输出转换" data-v-bac73764>输入输出转换</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#强制类型转换" class="sidebar-link reco-side-强制类型转换" data-v-bac73764>强制类型转换</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#函数" class="sidebar-link reco-side-函数" data-v-bac73764>函数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#函数的原型" class="sidebar-link reco-side-函数的原型" data-v-bac73764>函数的原型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#作用域" class="sidebar-link reco-side-作用域" data-v-bac73764>作用域</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#静态全局变量" class="sidebar-link reco-side-静态全局变量" data-v-bac73764>静态全局变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#变量的生存期和作用域" class="sidebar-link reco-side-变量的生存期和作用域" data-v-bac73764>变量的生存期和作用域</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#数组" class="sidebar-link reco-side-数组" data-v-bac73764>数组</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#数组的有效下标范围" class="sidebar-link reco-side-数组的有效下标范围" data-v-bac73764>数组的有效下标范围</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#数组的赋值" class="sidebar-link reco-side-数组的赋值" data-v-bac73764>数组的赋值</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#数组作为函数的参数-形参-时" class="sidebar-link reco-side-数组作为函数的参数-形参-时" data-v-bac73764>数组作为函数的参数(形参)时:</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#二维数组的初始化" class="sidebar-link reco-side-二维数组的初始化" data-v-bac73764>二维数组的初始化</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#运算符" class="sidebar-link reco-side-运算符" data-v-bac73764>运算符&amp;</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#不能取的地址" class="sidebar-link reco-side-不能取的地址" data-v-bac73764>&amp;不能取的地址</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#数组的地址" class="sidebar-link reco-side-数组的地址" data-v-bac73764>数组的地址</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针" class="sidebar-link reco-side-指针" data-v-bac73764>指针</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针变量" class="sidebar-link reco-side-指针变量" data-v-bac73764>指针变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#作为参数的指针" class="sidebar-link reco-side-作为参数的指针" data-v-bac73764>作为参数的指针</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#返回指针的函数" class="sidebar-link reco-side-返回指针的函数" data-v-bac73764>返回指针的函数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针的运算符-和" class="sidebar-link reco-side-指针的运算符-和" data-v-bac73764>指针的运算符 &amp; 和 *</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针的使用" class="sidebar-link reco-side-指针的使用" data-v-bac73764>指针的使用:</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#传入函数的数组" class="sidebar-link reco-side-传入函数的数组" data-v-bac73764>传入函数的数组</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针和const" class="sidebar-link reco-side-指针和const" data-v-bac73764>指针和const</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#非const的值转换为const" class="sidebar-link reco-side-非const的值转换为const" data-v-bac73764>非const的值转换为const</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针运算" class="sidebar-link reco-side-指针运算" data-v-bac73764>指针运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针的类型" class="sidebar-link reco-side-指针的类型" data-v-bac73764>指针的类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针的使用场景" class="sidebar-link reco-side-指针的使用场景" data-v-bac73764>指针的使用场景</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#字符串" class="sidebar-link reco-side-字符串" data-v-bac73764>字符串</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#字符串常量" class="sidebar-link reco-side-字符串常量" data-v-bac73764>字符串常量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#字符串赋值" class="sidebar-link reco-side-字符串赋值" data-v-bac73764>字符串赋值</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#字符串输入和输出" class="sidebar-link reco-side-字符串输入和输出" data-v-bac73764>字符串输入和输出</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#string-h" class="sidebar-link reco-side-string-h" data-v-bac73764>string.h</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#strlen" class="sidebar-link reco-side-strlen" data-v-bac73764>strlen</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#strcpy" class="sidebar-link reco-side-strcpy" data-v-bac73764>strcpy</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#strcat" class="sidebar-link reco-side-strcat" data-v-bac73764>strcat</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#strcpy-和-strcat-的安全问题" class="sidebar-link reco-side-strcpy-和-strcat-的安全问题" data-v-bac73764>strcpy 和 strcat 的安全问题</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#strchr" class="sidebar-link reco-side-strchr" data-v-bac73764>strchr</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#枚举" class="sidebar-link reco-side-枚举" data-v-bac73764>枚举</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指定枚举量" class="sidebar-link reco-side-指定枚举量" data-v-bac73764>指定枚举量</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#结构类型" class="sidebar-link reco-side-结构类型" data-v-bac73764>结构类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#声明结构类型" class="sidebar-link reco-side-声明结构类型" data-v-bac73764>声明结构类型</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#结构的初始化" class="sidebar-link reco-side-结构的初始化" data-v-bac73764>结构的初始化</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#结构成员" class="sidebar-link reco-side-结构成员" data-v-bac73764>结构成员</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#结构运算" class="sidebar-link reco-side-结构运算" data-v-bac73764>结构运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#结构指针" class="sidebar-link reco-side-结构指针" data-v-bac73764>结构指针</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#结构作为函数参数" class="sidebar-link reco-side-结构作为函数参数" data-v-bac73764>结构作为函数参数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#指针访问结构里的成员" class="sidebar-link reco-side-指针访问结构里的成员" data-v-bac73764>指针访问结构里的成员</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#结构中的结构" class="sidebar-link reco-side-结构中的结构" data-v-bac73764>结构中的结构</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#自定义数据类型" class="sidebar-link reco-side-自定义数据类型" data-v-bac73764>自定义数据类型</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#联合体-共同体" class="sidebar-link reco-side-联合体-共同体" data-v-bac73764>联合体 (共同体)</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#define" class="sidebar-link reco-side-define" data-v-bac73764>\#define</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#预先定义的宏" class="sidebar-link reco-side-预先定义的宏" data-v-bac73764>预先定义的宏</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#携带参数的宏" class="sidebar-link reco-side-携带参数的宏" data-v-bac73764>携带参数的宏</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#带参数的宏定义原则" class="sidebar-link reco-side-带参数的宏定义原则" data-v-bac73764>带参数的宏定义原则</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#项目" class="sidebar-link reco-side-项目" data-v-bac73764>项目</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#头文件" class="sidebar-link reco-side-头文件" data-v-bac73764>头文件</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#include" class="sidebar-link reco-side-include" data-v-bac73764>\#include</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#使用-或" class="sidebar-link reco-side-使用-或" data-v-bac73764>使用 &quot;&quot; 或</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#include的误区" class="sidebar-link reco-side-include的误区" data-v-bac73764>#include的误区</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#头文件中不对外公开的函数" class="sidebar-link reco-side-头文件中不对外公开的函数" data-v-bac73764>头文件中不对外公开的函数</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#头文件定义全局变量" class="sidebar-link reco-side-头文件定义全局变量" data-v-bac73764>头文件定义全局变量</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#声明和定义" class="sidebar-link reco-side-声明和定义" data-v-bac73764>声明和定义</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#格式化输入输出" class="sidebar-link reco-side-格式化输入输出" data-v-bac73764>格式化输入输出</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#printf-和-scanf-的返回值" class="sidebar-link reco-side-printf-和-scanf-的返回值" data-v-bac73764>printf 和 scanf 的返回值</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#文件的输入输出" class="sidebar-link reco-side-文件的输入输出" data-v-bac73764>文件的输入输出</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#fopen" class="sidebar-link reco-side-fopen" data-v-bac73764>fopen</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#二进制文件" class="sidebar-link reco-side-二进制文件" data-v-bac73764>二进制文件</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#文本-和-二进制" class="sidebar-link reco-side-文本-和-二进制" data-v-bac73764>文本 和 二进制</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#程序为什么要文件" class="sidebar-link reco-side-程序为什么要文件" data-v-bac73764>程序为什么要文件</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#二进制读写" class="sidebar-link reco-side-二进制读写" data-v-bac73764>二进制读写</a></li><li class="level-2" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#按位运算" class="sidebar-link reco-side-按位运算" data-v-bac73764>按位运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#按位与" class="sidebar-link reco-side-按位与" data-v-bac73764>按位与 &amp;</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#按位或" class="sidebar-link reco-side-按位或" data-v-bac73764>按位或 |</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#按位取反" class="sidebar-link reco-side-按位取反" data-v-bac73764>按位取反 ~</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#逻辑运算-和-按位运算" class="sidebar-link reco-side-逻辑运算-和-按位运算" data-v-bac73764>逻辑运算 和 按位运算</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#按位异或" class="sidebar-link reco-side-按位异或" data-v-bac73764>按位异或 ^</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#左移" class="sidebar-link reco-side-左移" data-v-bac73764>左移 &lt;&lt;</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#右移" class="sidebar-link reco-side-右移" data-v-bac73764>右移 &gt;&gt;</a></li><li class="level-3" data-v-bac73764><a href="/note-sites/guide/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80.html#位段" class="sidebar-link reco-side-位段" data-v-bac73764>位段</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-2a01419c data-v-2a01419c><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-2a01419c><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-2a01419c></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-2a01419c></path></svg></div></div></div>
    <script src="/note-sites/assets/js/app.ed5079c9.js" defer></script><script src="/note-sites/assets/js/5.b61defdf.js" defer></script><script src="/note-sites/assets/js/1.9e97c91a.js" defer></script><script src="/note-sites/assets/js/29.44e12246.js" defer></script>
  </body>
</html>
